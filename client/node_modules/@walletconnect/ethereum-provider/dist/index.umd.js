(function(Yt,ut){typeof exports=="object"&&typeof module<"u"?ut(exports):typeof define=="function"&&define.amd?define(["exports"],ut):(Yt=typeof globalThis<"u"?globalThis:Yt||self,ut(Yt["@walletconnect/ethereum-provider"]={}))})(this,function(Yt){"use strict";var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Or(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Et={exports:{}},on=typeof Reflect=="object"?Reflect:null,Uc=on&&typeof on.apply=="function"?on.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Wi;on&&typeof on.ownKeys=="function"?Wi=on.ownKeys:Object.getOwnPropertySymbols?Wi=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Wi=function(e){return Object.getOwnPropertyNames(e)};function Hd(t){console&&console.warn&&console.warn(t)}var Fc=Number.isNaN||function(e){return e!==e};function He(){He.init.call(this)}Et.exports=He,Et.exports.once=Vd,He.EventEmitter=He,He.prototype._events=void 0,He.prototype._eventsCount=0,He.prototype._maxListeners=void 0;var Bc=10;function qi(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return Bc},set:function(t){if(typeof t!="number"||t<0||Fc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Bc=t}}),He.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},He.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Fc(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function jc(t){return t._maxListeners===void 0?He.defaultMaxListeners:t._maxListeners}He.prototype.getMaxListeners=function(){return jc(this)},He.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Uc(c,this,r);else for(var l=c.length,p=qc(c,l),n=0;n<l;++n)Uc(p[n],this,r);return!0};function kc(t,e,r,n){var i,s,o;if(qi(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=jc(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Hd(a)}return t}He.prototype.addListener=function(e,r){return kc(this,e,r,!1)},He.prototype.on=He.prototype.addListener,He.prototype.prependListener=function(e,r){return kc(this,e,r,!0)};function zd(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Hc(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=zd.bind(n);return i.listener=r,n.wrapFn=i,i}He.prototype.once=function(e,r){return qi(r),this.on(e,Hc(this,e,r)),this},He.prototype.prependOnceListener=function(e,r){return qi(r),this.prependListener(e,Hc(this,e,r)),this},He.prototype.removeListener=function(e,r){var n,i,s,o,a;if(qi(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Wd(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this},He.prototype.off=He.prototype.removeListener,He.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function zc(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?qd(i):qc(i,i.length)}He.prototype.listeners=function(e){return zc(this,e,!0)},He.prototype.rawListeners=function(e){return zc(this,e,!1)},He.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Wc.call(t,e)},He.prototype.listenerCount=Wc;function Wc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}He.prototype.eventNames=function(){return this._eventsCount>0?Wi(this._events):[]};function qc(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Wd(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function qd(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Vd(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Vc(t,e,s,{once:!0}),e!=="error"&&Kd(t,i,{once:!0})})}function Kd(t,e,r){typeof t.on=="function"&&Vc(t,"error",e,r)}function Vc(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ao={},Vi={},ve={},Kc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,p=a&65535,m=c>>>16&65535,b=c&65535;return p*b+(l*b+p*m<<16>>>0)|0}t.mul=Math.imul||e;function r(a,c){return a+c|0}t.add=r;function n(a,c){return a-c|0}t.sub=n;function i(a,c){return a<<c|a>>>32-c}t.rotl=i;function s(a,c){return a<<32-c|a>>>c}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(Kc),Object.defineProperty(ve,"__esModule",{value:!0});var Gc=Kc;function Gd(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}ve.readInt16BE=Gd;function Zd(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}ve.readUint16BE=Zd;function Yd(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}ve.readInt16LE=Yd;function Jd(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}ve.readUint16LE=Jd;function Zc(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}ve.writeUint16BE=Zc,ve.writeInt16BE=Zc;function Yc(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}ve.writeUint16LE=Yc,ve.writeInt16LE=Yc;function co(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}ve.readInt32BE=co;function lo(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}ve.readUint32BE=lo;function uo(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}ve.readInt32LE=uo;function ho(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}ve.readUint32LE=ho;function Ki(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}ve.writeUint32BE=Ki,ve.writeInt32BE=Ki;function Gi(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}ve.writeUint32LE=Gi,ve.writeInt32LE=Gi;function Xd(t,e){e===void 0&&(e=0);var r=co(t,e),n=co(t,e+4);return r*4294967296+n-(n>>31)*4294967296}ve.readInt64BE=Xd;function Qd(t,e){e===void 0&&(e=0);var r=lo(t,e),n=lo(t,e+4);return r*4294967296+n}ve.readUint64BE=Qd;function ef(t,e){e===void 0&&(e=0);var r=uo(t,e),n=uo(t,e+4);return n*4294967296+r-(r>>31)*4294967296}ve.readInt64LE=ef;function tf(t,e){e===void 0&&(e=0);var r=ho(t,e),n=ho(t,e+4);return n*4294967296+r}ve.readUint64LE=tf;function Jc(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Ki(t/4294967296>>>0,e,r),Ki(t>>>0,e,r+4),e}ve.writeUint64BE=Jc,ve.writeInt64BE=Jc;function Xc(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Gi(t>>>0,e,r),Gi(t/4294967296>>>0,e,r+4),e}ve.writeUint64LE=Xc,ve.writeInt64LE=Xc;function rf(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}ve.readUintBE=rf;function nf(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}ve.readUintLE=nf;function sf(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Gc.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}ve.writeUintBE=sf;function of(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Gc.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}ve.writeUintLE=of;function af(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}ve.readFloat32BE=af;function cf(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}ve.readFloat32LE=cf;function lf(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}ve.readFloat64BE=lf;function uf(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}ve.readFloat64LE=uf;function hf(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}ve.writeFloat32BE=hf;function df(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}ve.writeFloat32LE=df;function ff(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}ve.writeFloat64BE=ff;function pf(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}ve.writeFloat64LE=pf;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});function gf(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Ut.wipe=gf,Object.defineProperty(Vi,"__esModule",{value:!0});var It=ve,fo=Ut,mf=20;function wf(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],p=r[15]<<24|r[14]<<16|r[13]<<8|r[12],m=r[19]<<24|r[18]<<16|r[17]<<8|r[16],b=r[23]<<24|r[22]<<16|r[21]<<8|r[20],w=r[27]<<24|r[26]<<16|r[25]<<8|r[24],E=r[31]<<24|r[30]<<16|r[29]<<8|r[28],A=e[3]<<24|e[2]<<16|e[1]<<8|e[0],N=e[7]<<24|e[6]<<16|e[5]<<8|e[4],M=e[11]<<24|e[10]<<16|e[9]<<8|e[8],x=e[15]<<24|e[14]<<16|e[13]<<8|e[12],D=n,y=i,I=s,O=o,h=a,_=c,H=l,j=p,q=m,X=b,re=w,C=E,$=A,G=N,K=M,W=x,z=0;z<mf;z+=2)D=D+h|0,$^=D,$=$>>>32-16|$<<16,q=q+$|0,h^=q,h=h>>>32-12|h<<12,y=y+_|0,G^=y,G=G>>>32-16|G<<16,X=X+G|0,_^=X,_=_>>>32-12|_<<12,I=I+H|0,K^=I,K=K>>>32-16|K<<16,re=re+K|0,H^=re,H=H>>>32-12|H<<12,O=O+j|0,W^=O,W=W>>>32-16|W<<16,C=C+W|0,j^=C,j=j>>>32-12|j<<12,I=I+H|0,K^=I,K=K>>>32-8|K<<8,re=re+K|0,H^=re,H=H>>>32-7|H<<7,O=O+j|0,W^=O,W=W>>>32-8|W<<8,C=C+W|0,j^=C,j=j>>>32-7|j<<7,y=y+_|0,G^=y,G=G>>>32-8|G<<8,X=X+G|0,_^=X,_=_>>>32-7|_<<7,D=D+h|0,$^=D,$=$>>>32-8|$<<8,q=q+$|0,h^=q,h=h>>>32-7|h<<7,D=D+_|0,W^=D,W=W>>>32-16|W<<16,re=re+W|0,_^=re,_=_>>>32-12|_<<12,y=y+H|0,$^=y,$=$>>>32-16|$<<16,C=C+$|0,H^=C,H=H>>>32-12|H<<12,I=I+j|0,G^=I,G=G>>>32-16|G<<16,q=q+G|0,j^=q,j=j>>>32-12|j<<12,O=O+h|0,K^=O,K=K>>>32-16|K<<16,X=X+K|0,h^=X,h=h>>>32-12|h<<12,I=I+j|0,G^=I,G=G>>>32-8|G<<8,q=q+G|0,j^=q,j=j>>>32-7|j<<7,O=O+h|0,K^=O,K=K>>>32-8|K<<8,X=X+K|0,h^=X,h=h>>>32-7|h<<7,y=y+H|0,$^=y,$=$>>>32-8|$<<8,C=C+$|0,H^=C,H=H>>>32-7|H<<7,D=D+_|0,W^=D,W=W>>>32-8|W<<8,re=re+W|0,_^=re,_=_>>>32-7|_<<7;It.writeUint32LE(D+n|0,t,0),It.writeUint32LE(y+i|0,t,4),It.writeUint32LE(I+s|0,t,8),It.writeUint32LE(O+o|0,t,12),It.writeUint32LE(h+a|0,t,16),It.writeUint32LE(_+c|0,t,20),It.writeUint32LE(H+l|0,t,24),It.writeUint32LE(j+p|0,t,28),It.writeUint32LE(q+m|0,t,32),It.writeUint32LE(X+b|0,t,36),It.writeUint32LE(re+w|0,t,40),It.writeUint32LE(C+E|0,t,44),It.writeUint32LE($+A|0,t,48),It.writeUint32LE(G+N|0,t,52),It.writeUint32LE(K+M|0,t,56),It.writeUint32LE(W+x|0,t,60)}function Qc(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){wf(a,s,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^a[l-c];yf(s,0,o)}return fo.wipe(a),i===0&&fo.wipe(s),n}Vi.streamXOR=Qc;function bf(t,e,r,n){return n===void 0&&(n=0),fo.wipe(r),Qc(t,e,r,r,n)}Vi.stream=bf;function yf(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var el={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});function vf(t,e,r){return~(t-1)&e|t-1&r}gr.select=vf;function _f(t,e){return(t|0)-(e|0)-1>>>31&1}gr.lessOrEqual=_f;function tl(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}gr.compare=tl;function Ef(t,e){return t.length===0||e.length===0?!1:tl(t,e)!==0}gr.equal=Ef,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gr,r=Ut;t.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var p=a[4]|a[5]<<8;this._r[2]=(l>>>10|p<<6)&7939;var m=a[6]|a[7]<<8;this._r[3]=(p>>>7|m<<9)&8191;var b=a[8]|a[9]<<8;this._r[4]=(m>>>4|b<<12)&255,this._r[5]=b>>>1&8190;var w=a[10]|a[11]<<8;this._r[6]=(b>>>14|w<<2)&8191;var E=a[12]|a[13]<<8;this._r[7]=(w>>>11|E<<5)&8065;var A=a[14]|a[15]<<8;this._r[8]=(E>>>8|A<<8)&8191,this._r[9]=A>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var p=this._fin?0:2048,m=this._h[0],b=this._h[1],w=this._h[2],E=this._h[3],A=this._h[4],N=this._h[5],M=this._h[6],x=this._h[7],D=this._h[8],y=this._h[9],I=this._r[0],O=this._r[1],h=this._r[2],_=this._r[3],H=this._r[4],j=this._r[5],q=this._r[6],X=this._r[7],re=this._r[8],C=this._r[9];l>=16;){var $=a[c+0]|a[c+1]<<8;m+=$&8191;var G=a[c+2]|a[c+3]<<8;b+=($>>>13|G<<3)&8191;var K=a[c+4]|a[c+5]<<8;w+=(G>>>10|K<<6)&8191;var W=a[c+6]|a[c+7]<<8;E+=(K>>>7|W<<9)&8191;var z=a[c+8]|a[c+9]<<8;A+=(W>>>4|z<<12)&8191,N+=z>>>1&8191;var J=a[c+10]|a[c+11]<<8;M+=(z>>>14|J<<2)&8191;var Z=a[c+12]|a[c+13]<<8;x+=(J>>>11|Z<<5)&8191;var le=a[c+14]|a[c+15]<<8;D+=(Z>>>8|le<<8)&8191,y+=le>>>5|p;var ee=0,pe=ee;pe+=m*I,pe+=b*(5*C),pe+=w*(5*re),pe+=E*(5*X),pe+=A*(5*q),ee=pe>>>13,pe&=8191,pe+=N*(5*j),pe+=M*(5*H),pe+=x*(5*_),pe+=D*(5*h),pe+=y*(5*O),ee+=pe>>>13,pe&=8191;var ae=ee;ae+=m*O,ae+=b*I,ae+=w*(5*C),ae+=E*(5*re),ae+=A*(5*X),ee=ae>>>13,ae&=8191,ae+=N*(5*q),ae+=M*(5*j),ae+=x*(5*H),ae+=D*(5*_),ae+=y*(5*h),ee+=ae>>>13,ae&=8191;var Ce=ee;Ce+=m*h,Ce+=b*O,Ce+=w*I,Ce+=E*(5*C),Ce+=A*(5*re),ee=Ce>>>13,Ce&=8191,Ce+=N*(5*X),Ce+=M*(5*q),Ce+=x*(5*j),Ce+=D*(5*H),Ce+=y*(5*_),ee+=Ce>>>13,Ce&=8191;var B=ee;B+=m*_,B+=b*h,B+=w*O,B+=E*I,B+=A*(5*C),ee=B>>>13,B&=8191,B+=N*(5*re),B+=M*(5*X),B+=x*(5*q),B+=D*(5*j),B+=y*(5*H),ee+=B>>>13,B&=8191;var F=ee;F+=m*H,F+=b*_,F+=w*h,F+=E*O,F+=A*I,ee=F>>>13,F&=8191,F+=N*(5*C),F+=M*(5*re),F+=x*(5*X),F+=D*(5*q),F+=y*(5*j),ee+=F>>>13,F&=8191;var R=ee;R+=m*j,R+=b*H,R+=w*_,R+=E*h,R+=A*O,ee=R>>>13,R&=8191,R+=N*I,R+=M*(5*C),R+=x*(5*re),R+=D*(5*X),R+=y*(5*q),ee+=R>>>13,R&=8191;var f=ee;f+=m*q,f+=b*j,f+=w*H,f+=E*_,f+=A*h,ee=f>>>13,f&=8191,f+=N*O,f+=M*I,f+=x*(5*C),f+=D*(5*re),f+=y*(5*X),ee+=f>>>13,f&=8191;var P=ee;P+=m*X,P+=b*q,P+=w*j,P+=E*H,P+=A*_,ee=P>>>13,P&=8191,P+=N*h,P+=M*O,P+=x*I,P+=D*(5*C),P+=y*(5*re),ee+=P>>>13,P&=8191;var te=ee;te+=m*re,te+=b*X,te+=w*q,te+=E*j,te+=A*H,ee=te>>>13,te&=8191,te+=N*_,te+=M*h,te+=x*O,te+=D*I,te+=y*(5*C),ee+=te>>>13,te&=8191;var ie=ee;ie+=m*C,ie+=b*re,ie+=w*X,ie+=E*q,ie+=A*j,ee=ie>>>13,ie&=8191,ie+=N*H,ie+=M*_,ie+=x*h,ie+=D*O,ie+=y*I,ee+=ie>>>13,ie&=8191,ee=(ee<<2)+ee|0,ee=ee+pe|0,pe=ee&8191,ee=ee>>>13,ae+=ee,m=pe,b=ae,w=Ce,E=B,A=F,N=R,M=f,x=P,D=te,y=ie,c+=16,l-=16}this._h[0]=m,this._h[1]=b,this._h[2]=w,this._h[3]=E,this._h[4]=A,this._h[5]=N,this._h[6]=M,this._h[7]=x,this._h[8]=D,this._h[9]=y},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),p,m,b,w;if(this._leftover){for(w=this._leftover,this._buffer[w++]=1;w<16;w++)this._buffer[w]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(p=this._h[1]>>>13,this._h[1]&=8191,w=2;w<10;w++)this._h[w]+=p,p=this._h[w]>>>13,this._h[w]&=8191;for(this._h[0]+=p*5,p=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=p,p=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=p,l[0]=this._h[0]+5,p=l[0]>>>13,l[0]&=8191,w=1;w<10;w++)l[w]=this._h[w]+p,p=l[w]>>>13,l[w]&=8191;for(l[9]-=1<<13,m=(p^1)-1,w=0;w<10;w++)l[w]&=m;for(m=~m,w=0;w<10;w++)this._h[w]=this._h[w]&m|l[w];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,b=this._h[0]+this._pad[0],this._h[0]=b&65535,w=1;w<8;w++)b=(this._h[w]+this._pad[w]|0)+(b>>>16)|0,this._h[w]=b&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,p;if(this._leftover){p=16-this._leftover,p>l&&(p=l);for(var m=0;m<p;m++)this._buffer[this._leftover+m]=a[c+m];if(l-=p,c+=p,this._leftover+=p,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(p=l-l%16,this._blocks(a,c,p),c+=p,l-=p),l){for(var m=0;m<l;m++)this._buffer[this._leftover+m]=a[c+m];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s}(el),function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Vi,r=el,n=Ut,i=ve,s=gr;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,p,m,b){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var w=new Uint8Array(16);w.set(l,w.length-l.length);var E=new Uint8Array(32);e.stream(this._key,w,E,4);var A=p.length+this.tagLength,N;if(b){if(b.length!==A)throw new Error("ChaCha20Poly1305: incorrect destination length");N=b}else N=new Uint8Array(A);return e.streamXOR(this._key,w,p,N,4),this._authenticate(N.subarray(N.length-this.tagLength,N.length),E,N.subarray(0,N.length-this.tagLength),m),n.wipe(w),N},c.prototype.open=function(l,p,m,b){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(p.length<this.tagLength)return null;var w=new Uint8Array(16);w.set(l,w.length-l.length);var E=new Uint8Array(32);e.stream(this._key,w,E,4);var A=new Uint8Array(this.tagLength);if(this._authenticate(A,E,p.subarray(0,p.length-this.tagLength),m),!s.equal(A,p.subarray(p.length-this.tagLength,p.length)))return null;var N=p.length-this.tagLength,M;if(b){if(b.length!==N)throw new Error("ChaCha20Poly1305: incorrect destination length");M=b}else M=new Uint8Array(N);return e.streamXOR(this._key,w,p.subarray(0,p.length-this.tagLength),M,4),n.wipe(w),M},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,p,m,b){var w=new r.Poly1305(p);b&&(w.update(b),b.length%16>0&&w.update(o.subarray(b.length%16))),w.update(m),m.length%16>0&&w.update(o.subarray(m.length%16));var E=new Uint8Array(8);b&&i.writeUint64LE(b.length,E),w.update(E),i.writeUint64LE(m.length,E),w.update(E);for(var A=w.digest(),N=0;N<A.length;N++)l[N]=A[N];w.clean(),n.wipe(A),n.wipe(E)},c}();t.ChaCha20Poly1305=a}(ao);var rl={},Nn={},po={};Object.defineProperty(po,"__esModule",{value:!0});function xf(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}po.isSerializableHash=xf,Object.defineProperty(Nn,"__esModule",{value:!0});var Qt=po,Cf=gr,Sf=Ut,nl=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Qt.isSerializableHash(this._inner)&&Qt.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Sf.wipe(n)}return t.prototype.reset=function(){if(!Qt.isSerializableHash(this._inner)||!Qt.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Qt.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Qt.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Qt.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Qt.isSerializableHash(this._inner)||!Qt.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Qt.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Nn.HMAC=nl;function If(t,e,r){var n=new nl(t,e);n.update(r);var i=n.digest();return n.clean(),i}Nn.hmac=If,Nn.equal=Cf.equal,Object.defineProperty(rl,"__esModule",{value:!0});var il=Nn,sl=Ut,Df=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=il.hmac(this._hash,n,r);this._hmac=new il.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),sl.wipe(this._buffer),sl.wipe(this._counter),this._bufpos=0},t}(),Of=rl.HKDF=Df,an={},Zi={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.BrowserRandomSource=void 0;const ol=65536;class Af{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=ol)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,ol)));return r}}Yi.BrowserRandomSource=Af;function $f(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ji={},Pf={},Tf=Object.freeze({__proto__:null,default:Pf}),Nf=Or(Tf);Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.NodeRandomSource=void 0;const Rf=Ut;class Lf{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof $f<"u"){const e=Nf;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,Rf.wipe)(r),n}}Ji.NodeRandomSource=Lf,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.SystemRandomSource=void 0;const Mf=Yi,Uf=Ji;class Ff{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Mf.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Uf.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Zi.SystemRandomSource=Ff,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=Zi,r=ve,n=Ut;t.defaultRandomSource=new e.SystemRandomSource;function i(l,p=t.defaultRandomSource){return p.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const p=i(4,l),m=(0,r.readUint32LE)(p);return(0,n.wipe)(p),m}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,p=o,m=t.defaultRandomSource){if(p.length<2)throw new Error("randomString charset is too short");if(p.length>256)throw new Error("randomString charset is too long");let b="";const w=p.length,E=256-256%w;for(;l>0;){const A=i(Math.ceil(l*256/E),m);for(let N=0;N<A.length&&l>0;N++){const M=A[N];M<E&&(b+=p.charAt(M%w),l--)}(0,n.wipe)(A)}return b}t.randomString=a;function c(l,p=o,m=t.defaultRandomSource){const b=Math.ceil(l/(Math.log(p.length)/Math.LN2));return a(b,p,m)}t.randomStringForEntropy=c}(an);var Xi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ve,r=Ut;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var p=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[p++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(p=s(this._temp,this._state,c,p,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[p++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,p=this._bufferLength,m=l/536870912|0,b=l<<3,w=l%64<56?64:128;this._buffer[p]=128;for(var E=p+1;E<w-8;E++)this._buffer[E]=0;e.writeUint32BE(m,this._buffer,w-8),e.writeUint32BE(b,this._buffer,w-4),s(this._temp,this._state,this._buffer,0,w),this._finished=!0}for(var E=0;E<this.digestLength/4;E++)e.writeUint32BE(this._state[E],c,E*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,l,p,m){for(;m>=64;){for(var b=c[0],w=c[1],E=c[2],A=c[3],N=c[4],M=c[5],x=c[6],D=c[7],y=0;y<16;y++){var I=p+y*4;a[y]=e.readUint32BE(l,I)}for(var y=16;y<64;y++){var O=a[y-2],h=(O>>>17|O<<32-17)^(O>>>19|O<<32-19)^O>>>10;O=a[y-15];var _=(O>>>7|O<<32-7)^(O>>>18|O<<32-18)^O>>>3;a[y]=(h+a[y-7]|0)+(_+a[y-16]|0)}for(var y=0;y<64;y++){var h=(((N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))+(N&M^~N&x)|0)+(D+(i[y]+a[y]|0)|0)|0,_=((b>>>2|b<<32-2)^(b>>>13|b<<32-13)^(b>>>22|b<<32-22))+(b&w^b&E^w&E)|0;D=x,x=M,M=N,N=A+h|0,A=E,E=w,w=b,b=h+_|0}c[0]+=b,c[1]+=w,c[2]+=E,c[3]+=A,c[4]+=N,c[5]+=M,c[6]+=x,c[7]+=D,p+=64,m-=64}return p}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(Xi);var go={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=an,r=Ut;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(y){const I=new Float64Array(16);if(y)for(let O=0;O<y.length;O++)I[O]=y[O];return I}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(y){let I=1;for(let O=0;O<16;O++){let h=y[O]+I+65535;I=Math.floor(h/65536),y[O]=h-I*65536}y[0]+=I-1+37*(I-1)}function a(y,I,O){const h=~(O-1);for(let _=0;_<16;_++){const H=h&(y[_]^I[_]);y[_]^=H,I[_]^=H}}function c(y,I){const O=n(),h=n();for(let _=0;_<16;_++)h[_]=I[_];o(h),o(h),o(h);for(let _=0;_<2;_++){O[0]=h[0]-65517;for(let j=1;j<15;j++)O[j]=h[j]-65535-(O[j-1]>>16&1),O[j-1]&=65535;O[15]=h[15]-32767-(O[14]>>16&1);const H=O[15]>>16&1;O[14]&=65535,a(h,O,1-H)}for(let _=0;_<16;_++)y[2*_]=h[_]&255,y[2*_+1]=h[_]>>8}function l(y,I){for(let O=0;O<16;O++)y[O]=I[2*O]+(I[2*O+1]<<8);y[15]&=32767}function p(y,I,O){for(let h=0;h<16;h++)y[h]=I[h]+O[h]}function m(y,I,O){for(let h=0;h<16;h++)y[h]=I[h]-O[h]}function b(y,I,O){let h,_,H=0,j=0,q=0,X=0,re=0,C=0,$=0,G=0,K=0,W=0,z=0,J=0,Z=0,le=0,ee=0,pe=0,ae=0,Ce=0,B=0,F=0,R=0,f=0,P=0,te=0,ie=0,Ee=0,Le=0,$e=0,Me=0,Ze=0,Ke=0,Pe=O[0],De=O[1],me=O[2],Se=O[3],Oe=O[4],ge=O[5],xe=O[6],g=O[7],u=O[8],d=O[9],v=O[10],T=O[11],U=O[12],k=O[13],oe=O[14],he=O[15];h=I[0],H+=h*Pe,j+=h*De,q+=h*me,X+=h*Se,re+=h*Oe,C+=h*ge,$+=h*xe,G+=h*g,K+=h*u,W+=h*d,z+=h*v,J+=h*T,Z+=h*U,le+=h*k,ee+=h*oe,pe+=h*he,h=I[1],j+=h*Pe,q+=h*De,X+=h*me,re+=h*Se,C+=h*Oe,$+=h*ge,G+=h*xe,K+=h*g,W+=h*u,z+=h*d,J+=h*v,Z+=h*T,le+=h*U,ee+=h*k,pe+=h*oe,ae+=h*he,h=I[2],q+=h*Pe,X+=h*De,re+=h*me,C+=h*Se,$+=h*Oe,G+=h*ge,K+=h*xe,W+=h*g,z+=h*u,J+=h*d,Z+=h*v,le+=h*T,ee+=h*U,pe+=h*k,ae+=h*oe,Ce+=h*he,h=I[3],X+=h*Pe,re+=h*De,C+=h*me,$+=h*Se,G+=h*Oe,K+=h*ge,W+=h*xe,z+=h*g,J+=h*u,Z+=h*d,le+=h*v,ee+=h*T,pe+=h*U,ae+=h*k,Ce+=h*oe,B+=h*he,h=I[4],re+=h*Pe,C+=h*De,$+=h*me,G+=h*Se,K+=h*Oe,W+=h*ge,z+=h*xe,J+=h*g,Z+=h*u,le+=h*d,ee+=h*v,pe+=h*T,ae+=h*U,Ce+=h*k,B+=h*oe,F+=h*he,h=I[5],C+=h*Pe,$+=h*De,G+=h*me,K+=h*Se,W+=h*Oe,z+=h*ge,J+=h*xe,Z+=h*g,le+=h*u,ee+=h*d,pe+=h*v,ae+=h*T,Ce+=h*U,B+=h*k,F+=h*oe,R+=h*he,h=I[6],$+=h*Pe,G+=h*De,K+=h*me,W+=h*Se,z+=h*Oe,J+=h*ge,Z+=h*xe,le+=h*g,ee+=h*u,pe+=h*d,ae+=h*v,Ce+=h*T,B+=h*U,F+=h*k,R+=h*oe,f+=h*he,h=I[7],G+=h*Pe,K+=h*De,W+=h*me,z+=h*Se,J+=h*Oe,Z+=h*ge,le+=h*xe,ee+=h*g,pe+=h*u,ae+=h*d,Ce+=h*v,B+=h*T,F+=h*U,R+=h*k,f+=h*oe,P+=h*he,h=I[8],K+=h*Pe,W+=h*De,z+=h*me,J+=h*Se,Z+=h*Oe,le+=h*ge,ee+=h*xe,pe+=h*g,ae+=h*u,Ce+=h*d,B+=h*v,F+=h*T,R+=h*U,f+=h*k,P+=h*oe,te+=h*he,h=I[9],W+=h*Pe,z+=h*De,J+=h*me,Z+=h*Se,le+=h*Oe,ee+=h*ge,pe+=h*xe,ae+=h*g,Ce+=h*u,B+=h*d,F+=h*v,R+=h*T,f+=h*U,P+=h*k,te+=h*oe,ie+=h*he,h=I[10],z+=h*Pe,J+=h*De,Z+=h*me,le+=h*Se,ee+=h*Oe,pe+=h*ge,ae+=h*xe,Ce+=h*g,B+=h*u,F+=h*d,R+=h*v,f+=h*T,P+=h*U,te+=h*k,ie+=h*oe,Ee+=h*he,h=I[11],J+=h*Pe,Z+=h*De,le+=h*me,ee+=h*Se,pe+=h*Oe,ae+=h*ge,Ce+=h*xe,B+=h*g,F+=h*u,R+=h*d,f+=h*v,P+=h*T,te+=h*U,ie+=h*k,Ee+=h*oe,Le+=h*he,h=I[12],Z+=h*Pe,le+=h*De,ee+=h*me,pe+=h*Se,ae+=h*Oe,Ce+=h*ge,B+=h*xe,F+=h*g,R+=h*u,f+=h*d,P+=h*v,te+=h*T,ie+=h*U,Ee+=h*k,Le+=h*oe,$e+=h*he,h=I[13],le+=h*Pe,ee+=h*De,pe+=h*me,ae+=h*Se,Ce+=h*Oe,B+=h*ge,F+=h*xe,R+=h*g,f+=h*u,P+=h*d,te+=h*v,ie+=h*T,Ee+=h*U,Le+=h*k,$e+=h*oe,Me+=h*he,h=I[14],ee+=h*Pe,pe+=h*De,ae+=h*me,Ce+=h*Se,B+=h*Oe,F+=h*ge,R+=h*xe,f+=h*g,P+=h*u,te+=h*d,ie+=h*v,Ee+=h*T,Le+=h*U,$e+=h*k,Me+=h*oe,Ze+=h*he,h=I[15],pe+=h*Pe,ae+=h*De,Ce+=h*me,B+=h*Se,F+=h*Oe,R+=h*ge,f+=h*xe,P+=h*g,te+=h*u,ie+=h*d,Ee+=h*v,Le+=h*T,$e+=h*U,Me+=h*k,Ze+=h*oe,Ke+=h*he,H+=38*ae,j+=38*Ce,q+=38*B,X+=38*F,re+=38*R,C+=38*f,$+=38*P,G+=38*te,K+=38*ie,W+=38*Ee,z+=38*Le,J+=38*$e,Z+=38*Me,le+=38*Ze,ee+=38*Ke,_=1,h=H+_+65535,_=Math.floor(h/65536),H=h-_*65536,h=j+_+65535,_=Math.floor(h/65536),j=h-_*65536,h=q+_+65535,_=Math.floor(h/65536),q=h-_*65536,h=X+_+65535,_=Math.floor(h/65536),X=h-_*65536,h=re+_+65535,_=Math.floor(h/65536),re=h-_*65536,h=C+_+65535,_=Math.floor(h/65536),C=h-_*65536,h=$+_+65535,_=Math.floor(h/65536),$=h-_*65536,h=G+_+65535,_=Math.floor(h/65536),G=h-_*65536,h=K+_+65535,_=Math.floor(h/65536),K=h-_*65536,h=W+_+65535,_=Math.floor(h/65536),W=h-_*65536,h=z+_+65535,_=Math.floor(h/65536),z=h-_*65536,h=J+_+65535,_=Math.floor(h/65536),J=h-_*65536,h=Z+_+65535,_=Math.floor(h/65536),Z=h-_*65536,h=le+_+65535,_=Math.floor(h/65536),le=h-_*65536,h=ee+_+65535,_=Math.floor(h/65536),ee=h-_*65536,h=pe+_+65535,_=Math.floor(h/65536),pe=h-_*65536,H+=_-1+37*(_-1),_=1,h=H+_+65535,_=Math.floor(h/65536),H=h-_*65536,h=j+_+65535,_=Math.floor(h/65536),j=h-_*65536,h=q+_+65535,_=Math.floor(h/65536),q=h-_*65536,h=X+_+65535,_=Math.floor(h/65536),X=h-_*65536,h=re+_+65535,_=Math.floor(h/65536),re=h-_*65536,h=C+_+65535,_=Math.floor(h/65536),C=h-_*65536,h=$+_+65535,_=Math.floor(h/65536),$=h-_*65536,h=G+_+65535,_=Math.floor(h/65536),G=h-_*65536,h=K+_+65535,_=Math.floor(h/65536),K=h-_*65536,h=W+_+65535,_=Math.floor(h/65536),W=h-_*65536,h=z+_+65535,_=Math.floor(h/65536),z=h-_*65536,h=J+_+65535,_=Math.floor(h/65536),J=h-_*65536,h=Z+_+65535,_=Math.floor(h/65536),Z=h-_*65536,h=le+_+65535,_=Math.floor(h/65536),le=h-_*65536,h=ee+_+65535,_=Math.floor(h/65536),ee=h-_*65536,h=pe+_+65535,_=Math.floor(h/65536),pe=h-_*65536,H+=_-1+37*(_-1),y[0]=H,y[1]=j,y[2]=q,y[3]=X,y[4]=re,y[5]=C,y[6]=$,y[7]=G,y[8]=K,y[9]=W,y[10]=z,y[11]=J,y[12]=Z,y[13]=le,y[14]=ee,y[15]=pe}function w(y,I){b(y,I,I)}function E(y,I){const O=n();for(let h=0;h<16;h++)O[h]=I[h];for(let h=253;h>=0;h--)w(O,O),h!==2&&h!==4&&b(O,O,I);for(let h=0;h<16;h++)y[h]=O[h]}function A(y,I){const O=new Uint8Array(32),h=new Float64Array(80),_=n(),H=n(),j=n(),q=n(),X=n(),re=n();for(let K=0;K<31;K++)O[K]=y[K];O[31]=y[31]&127|64,O[0]&=248,l(h,I);for(let K=0;K<16;K++)H[K]=h[K];_[0]=q[0]=1;for(let K=254;K>=0;--K){const W=O[K>>>3]>>>(K&7)&1;a(_,H,W),a(j,q,W),p(X,_,j),m(_,_,j),p(j,H,q),m(H,H,q),w(q,X),w(re,_),b(_,j,_),b(j,H,X),p(X,_,j),m(_,_,j),w(H,_),m(j,q,re),b(_,j,s),p(_,_,q),b(j,j,_),b(_,q,re),b(q,H,h),w(H,X),a(_,H,W),a(j,q,W)}for(let K=0;K<16;K++)h[K+16]=_[K],h[K+32]=j[K],h[K+48]=H[K],h[K+64]=q[K];const C=h.subarray(32),$=h.subarray(16);E(C,C),b($,$,C);const G=new Uint8Array(32);return c(G,$),G}t.scalarMult=A;function N(y){return A(y,i)}t.scalarMultBase=N;function M(y){if(y.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const I=new Uint8Array(y);return{publicKey:N(I),secretKey:I}}t.generateKeyPairFromSeed=M;function x(y){const I=(0,e.randomBytes)(32,y),O=M(I);return(0,r.wipe)(I),O}t.generateKeyPair=x;function D(y,I,O=!1){if(y.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(I.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const h=A(y,I);if(O){let _=0;for(let H=0;H<h.length;H++)_|=h[H];if(_===0)throw new Error("X25519: invalid shared key")}return h}t.sharedKey=D})(go);function al(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function mo(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=al(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Bf(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var A=0,N=0,M=0,x=E.length;M!==x&&E[M]===0;)M++,A++;for(var D=(x-M)*p+1>>>0,y=new Uint8Array(D);M!==x;){for(var I=E[M],O=0,h=D-1;(I!==0||O<N)&&h!==-1;h--,O++)I+=256*y[h]>>>0,y[h]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");N=O,M++}for(var _=D-N;_!==D&&y[_]===0;)_++;for(var H=c.repeat(A);_<D;++_)H+=t.charAt(y[_]);return H}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var A=0;if(E[A]!==" "){for(var N=0,M=0;E[A]===c;)N++,A++;for(var x=(E.length-A)*l+1>>>0,D=new Uint8Array(x);E[A];){var y=r[E.charCodeAt(A)];if(y===255)return;for(var I=0,O=x-1;(y!==0||I<M)&&O!==-1;O--,I++)y+=a*D[O]>>>0,D[O]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");M=I,A++}if(E[A]!==" "){for(var h=x-M;h!==x&&D[h]===0;)h++;for(var _=new Uint8Array(N+(x-h)),H=N;h!==x;)_[H++]=D[h++];return _}}}function w(E){var A=b(E);if(A)return A;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:b,decode:w}}var jf=Bf,kf=jf;const cl=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Hf=t=>new TextEncoder().encode(t),zf=t=>new TextDecoder().decode(t);class Wf{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class qf{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ll(this,e)}}class Vf{constructor(e){this.decoders=e}or(e){return ll(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ll=(t,e)=>new Vf({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Kf{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Wf(e,r,n),this.decoder=new qf(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Qi=({name:t,prefix:e,encode:r,decode:n})=>new Kf(t,e,r,n),Rn=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=kf(r,e);return Qi({prefix:t,name:e,encode:n,decode:s=>cl(i(s))})},Gf=(t,e,r,n)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let p=0;p<s;++p){const m=i[t[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Zf=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},xt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Qi({prefix:e,name:t,encode(i){return Zf(i,n,r)},decode(i){return Gf(i,n,r,t)}}),Yf=Qi({prefix:"\0",name:"identity",encode:t=>zf(t),decode:t=>Hf(t)});var Jf=Object.freeze({__proto__:null,identity:Yf});const Xf=xt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Qf=Object.freeze({__proto__:null,base2:Xf});const e1=xt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var t1=Object.freeze({__proto__:null,base8:e1});const r1=Rn({prefix:"9",name:"base10",alphabet:"0123456789"});var n1=Object.freeze({__proto__:null,base10:r1});const i1=xt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),s1=xt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var o1=Object.freeze({__proto__:null,base16:i1,base16upper:s1});const a1=xt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),c1=xt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),l1=xt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),u1=xt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),h1=xt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),d1=xt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f1=xt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),p1=xt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),g1=xt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var m1=Object.freeze({__proto__:null,base32:a1,base32upper:c1,base32pad:l1,base32padupper:u1,base32hex:h1,base32hexupper:d1,base32hexpad:f1,base32hexpadupper:p1,base32z:g1});const w1=Rn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),b1=Rn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var y1=Object.freeze({__proto__:null,base36:w1,base36upper:b1});const v1=Rn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_1=Rn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var E1=Object.freeze({__proto__:null,base58btc:v1,base58flickr:_1});const x1=xt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),C1=xt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),S1=xt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),I1=xt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var D1=Object.freeze({__proto__:null,base64:x1,base64pad:C1,base64url:S1,base64urlpad:I1});const ul=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),O1=ul.reduce((t,e,r)=>(t[r]=e,t),[]),A1=ul.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function $1(t){return t.reduce((e,r)=>(e+=O1[r],e),"")}function P1(t){const e=[];for(const r of t){const n=A1[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const T1=Qi({prefix:"\u{1F680}",name:"base256emoji",encode:$1,decode:P1});var N1=Object.freeze({__proto__:null,base256emoji:T1}),R1=dl,hl=128,L1=127,M1=~L1,U1=Math.pow(2,31);function dl(t,e,r){e=e||[],r=r||0;for(var n=r;t>=U1;)e[r++]=t&255|hl,t/=128;for(;t&M1;)e[r++]=t&255|hl,t>>>=7;return e[r]=t|0,dl.bytes=r-n+1,e}var F1=wo,B1=128,fl=127;function wo(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw wo.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&fl)<<i:(o&fl)*Math.pow(2,i),i+=7}while(o>=B1);return wo.bytes=s-n,r}var j1=Math.pow(2,7),k1=Math.pow(2,14),H1=Math.pow(2,21),z1=Math.pow(2,28),W1=Math.pow(2,35),q1=Math.pow(2,42),V1=Math.pow(2,49),K1=Math.pow(2,56),G1=Math.pow(2,63),Z1=function(t){return t<j1?1:t<k1?2:t<H1?3:t<z1?4:t<W1?5:t<q1?6:t<V1?7:t<K1?8:t<G1?9:10},Y1={encode:R1,decode:F1,encodingLength:Z1},pl=Y1;const gl=(t,e,r=0)=>(pl.encode(t,e,r),e),ml=t=>pl.encodingLength(t),bo=(t,e)=>{const r=e.byteLength,n=ml(t),i=n+ml(r),s=new Uint8Array(i+r);return gl(t,s,0),gl(r,s,n),s.set(e,i),new J1(t,r,e,s)};class J1{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const wl=({name:t,code:e,encode:r})=>new X1(t,e,r);class X1{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?bo(this.code,r):r.then(n=>bo(this.code,n))}else throw Error("Unknown type, must be binary type")}}const bl=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Q1=wl({name:"sha2-256",code:18,encode:bl("SHA-256")}),ep=wl({name:"sha2-512",code:19,encode:bl("SHA-512")});var tp=Object.freeze({__proto__:null,sha256:Q1,sha512:ep});const yl=0,rp="identity",vl=cl;var np=Object.freeze({__proto__:null,identity:{code:yl,name:rp,encode:vl,digest:t=>bo(yl,vl(t))}});new TextEncoder,new TextDecoder;const _l={...Jf,...Qf,...t1,...n1,...o1,...m1,...y1,...E1,...D1,...N1};({...tp,...np});function El(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const xl=El("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),yo=El("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=al(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Cl={utf8:xl,"utf-8":xl,hex:_l.base16,latin1:yo,ascii:yo,binary:yo,..._l};function Pt(t,e="utf8"){const r=Cl[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Tt(t,e="utf8"){const r=Cl[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Sl=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},ip=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),sp=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),op=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),ap=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),cp=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),lp=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,up=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Il=3,hp=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",lp]],Dl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function dp(t){return t?Ol(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new cp:typeof navigator<"u"?Ol(navigator.userAgent):gp()}function fp(t){return t!==""&&hp.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function Ol(t){var e=fp(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new ap;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Il&&(i=Sl(Sl([],i,!0),mp(Il-i.length),!0)):i=[];var s=i.join("."),o=pp(t),a=up.exec(t);return a&&a[1]?new op(r,s,o,a[1]):new ip(r,s,o)}function pp(t){for(var e=0,r=Dl.length;e<r;e++){var n=Dl[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function gp(){var t=typeof process<"u"&&process.version;return t?new sp(process.version.slice(1)):null}function mp(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var de={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var vo=function(t,e){return vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vo(t,e)};function wp(t,e){vo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _o=function(){return _o=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_o.apply(this,arguments)};function bp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yp(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function vp(t,e){return function(r,n){e(r,n,t)}}function _p(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ep(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{l(n.next(p))}catch(m){o(m)}}function c(p){try{l(n.throw(p))}catch(m){o(m)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function xp(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Cp(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Sp(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Eo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Al(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Ip(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Al(arguments[e]));return t}function Dp(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ln(t){return this instanceof Ln?(this.v=t,this):new Ln(t)}function Op(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){n[b]&&(i[b]=function(w){return new Promise(function(E,A){s.push([b,w,E,A])>1||a(b,w)})})}function a(b,w){try{c(n[b](w))}catch(E){m(s[0][3],E)}}function c(b){b.value instanceof Ln?Promise.resolve(b.value.v).then(l,p):m(s[0][2],b)}function l(b){a("next",b)}function p(b){a("throw",b)}function m(b,w){b(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ap(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Ln(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function $p(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Eo=="function"?Eo(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Pp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Tp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Np(t){return t&&t.__esModule?t:{default:t}}function Rp(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Lp(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Mp=Object.freeze({__proto__:null,__extends:wp,get __assign(){return _o},__rest:bp,__decorate:yp,__param:vp,__metadata:_p,__awaiter:Ep,__generator:xp,__createBinding:Cp,__exportStar:Sp,__values:Eo,__read:Al,__spread:Ip,__spreadArrays:Dp,__await:Ln,__asyncGenerator:Op,__asyncDelegator:Ap,__asyncValues:$p,__makeTemplateObject:Pp,__importStar:Tp,__importDefault:Np,__classPrivateFieldGet:Rp,__classPrivateFieldSet:Lp}),es=Or(Mp),xo={},Mn={},$l;function Up(){if($l)return Mn;$l=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Mn.delay=t,Mn}var Ar={},Co={},$r={},Pl;function Fp(){return Pl||(Pl=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.ONE_THOUSAND=$r.ONE_HUNDRED=void 0,$r.ONE_HUNDRED=100,$r.ONE_THOUSAND=1e3),$r}var So={},Tl;function Bp(){return Tl||(Tl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(So)),So}var Nl;function Rl(){return Nl||(Nl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=es;e.__exportStar(Fp(),t),e.__exportStar(Bp(),t)}(Co)),Co}var Ll;function jp(){if(Ll)return Ar;Ll=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.fromMiliseconds=Ar.toMiliseconds=void 0;const t=Rl();function e(n){return n*t.ONE_THOUSAND}Ar.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Ar.fromMiliseconds=r,Ar}var Ml;function kp(){return Ml||(Ml=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=es;e.__exportStar(Up(),t),e.__exportStar(jp(),t)}(xo)),xo}var cn={},Ul;function Hp(){if(Ul)return cn;Ul=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return cn.Watch=t,cn.default=t,cn}var Io={},Un={},Fl;function zp(){if(Fl)return Un;Fl=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.IWatch=void 0;class t{}return Un.IWatch=t,Un}var Bl;function Wp(){return Bl||(Bl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),es.__exportStar(zp(),t)}(Io)),Io}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=es;e.__exportStar(kp(),t),e.__exportStar(Hp(),t),e.__exportStar(Wp(),t),e.__exportStar(Rl(),t)})(de);var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.getLocalStorage=ze.getLocalStorageOrThrow=ze.getCrypto=ze.getCryptoOrThrow=kl=ze.getLocation=ze.getLocationOrThrow=Do=ze.getNavigator=ze.getNavigatorOrThrow=jl=ze.getDocument=ze.getDocumentOrThrow=ze.getFromWindowOrThrow=ze.getFromWindow=void 0;function Pr(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}ze.getFromWindow=Pr;function ln(t){const e=Pr(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}ze.getFromWindowOrThrow=ln;function qp(){return ln("document")}ze.getDocumentOrThrow=qp;function Vp(){return Pr("document")}var jl=ze.getDocument=Vp;function Kp(){return ln("navigator")}ze.getNavigatorOrThrow=Kp;function Gp(){return Pr("navigator")}var Do=ze.getNavigator=Gp;function Zp(){return ln("location")}ze.getLocationOrThrow=Zp;function Yp(){return Pr("location")}var kl=ze.getLocation=Yp;function Jp(){return ln("crypto")}ze.getCryptoOrThrow=Jp;function Xp(){return Pr("crypto")}ze.getCrypto=Xp;function Qp(){return ln("localStorage")}ze.getLocalStorageOrThrow=Qp;function eg(){return Pr("localStorage")}ze.getLocalStorage=eg;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});var Hl=Oo.getWindowMetadata=void 0;const zl=ze;function tg(){let t,e;try{t=zl.getDocumentOrThrow(),e=zl.getLocationOrThrow()}catch{return null}function r(){const m=t.getElementsByTagName("link"),b=[];for(let w=0;w<m.length;w++){const E=m[w],A=E.getAttribute("rel");if(A&&A.toLowerCase().indexOf("icon")>-1){const N=E.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let M=e.protocol+"//"+e.host;if(N.indexOf("/")===0)M+=N;else{const x=e.pathname.split("/");x.pop();const D=x.join("/");M+=D+"/"+N}b.push(M)}else if(N.indexOf("//")===0){const M=e.protocol+N;b.push(M)}else b.push(N)}}return b}function n(...m){const b=t.getElementsByTagName("meta");for(let w=0;w<b.length;w++){const E=b[w],A=["itemprop","property","name"].map(N=>E.getAttribute(N)).filter(N=>N?m.includes(N):!1);if(A.length&&A){const N=E.getAttribute("content");if(N)return N}}return""}function i(){let m=n("name","og:site_name","og:title","twitter:title");return m||(m=t.title),m}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}Hl=Oo.getWindowMetadata=tg;var Fn={},rg=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Wl="%[a-f0-9]{2}",ql=new RegExp("("+Wl+")|([^%]+?)","gi"),Vl=new RegExp("("+Wl+")+","gi");function Ao(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Ao(r),Ao(n))}function ng(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(ql)||[],r=1;r<e.length;r++)t=Ao(e,r).join(""),e=t.match(ql)||[];return t}}function ig(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Vl.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=ng(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Vl.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var sg=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return ig(t)}},og=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},ag=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r};(function(t){const e=rg,r=sg,n=og,i=ag,s=x=>x==null,o=Symbol("encodeFragmentIdentifier");function a(x){switch(x.arrayFormat){case"index":return D=>(y,I)=>{const O=y.length;return I===void 0||x.skipNull&&I===null||x.skipEmptyString&&I===""?y:I===null?[...y,[p(D,x),"[",O,"]"].join("")]:[...y,[p(D,x),"[",p(O,x),"]=",p(I,x)].join("")]};case"bracket":return D=>(y,I)=>I===void 0||x.skipNull&&I===null||x.skipEmptyString&&I===""?y:I===null?[...y,[p(D,x),"[]"].join("")]:[...y,[p(D,x),"[]=",p(I,x)].join("")];case"colon-list-separator":return D=>(y,I)=>I===void 0||x.skipNull&&I===null||x.skipEmptyString&&I===""?y:I===null?[...y,[p(D,x),":list="].join("")]:[...y,[p(D,x),":list=",p(I,x)].join("")];case"comma":case"separator":case"bracket-separator":{const D=x.arrayFormat==="bracket-separator"?"[]=":"=";return y=>(I,O)=>O===void 0||x.skipNull&&O===null||x.skipEmptyString&&O===""?I:(O=O===null?"":O,I.length===0?[[p(y,x),D,p(O,x)].join("")]:[[I,p(O,x)].join(x.arrayFormatSeparator)])}default:return D=>(y,I)=>I===void 0||x.skipNull&&I===null||x.skipEmptyString&&I===""?y:I===null?[...y,p(D,x)]:[...y,[p(D,x),"=",p(I,x)].join("")]}}function c(x){let D;switch(x.arrayFormat){case"index":return(y,I,O)=>{if(D=/\[(\d*)\]$/.exec(y),y=y.replace(/\[\d*\]$/,""),!D){O[y]=I;return}O[y]===void 0&&(O[y]={}),O[y][D[1]]=I};case"bracket":return(y,I,O)=>{if(D=/(\[\])$/.exec(y),y=y.replace(/\[\]$/,""),!D){O[y]=I;return}if(O[y]===void 0){O[y]=[I];return}O[y]=[].concat(O[y],I)};case"colon-list-separator":return(y,I,O)=>{if(D=/(:list)$/.exec(y),y=y.replace(/:list$/,""),!D){O[y]=I;return}if(O[y]===void 0){O[y]=[I];return}O[y]=[].concat(O[y],I)};case"comma":case"separator":return(y,I,O)=>{const h=typeof I=="string"&&I.includes(x.arrayFormatSeparator),_=typeof I=="string"&&!h&&m(I,x).includes(x.arrayFormatSeparator);I=_?m(I,x):I;const H=h||_?I.split(x.arrayFormatSeparator).map(j=>m(j,x)):I===null?I:m(I,x);O[y]=H};case"bracket-separator":return(y,I,O)=>{const h=/(\[\])$/.test(y);if(y=y.replace(/\[\]$/,""),!h){O[y]=I&&m(I,x);return}const _=I===null?[]:I.split(x.arrayFormatSeparator).map(H=>m(H,x));if(O[y]===void 0){O[y]=_;return}O[y]=[].concat(O[y],_)};default:return(y,I,O)=>{if(O[y]===void 0){O[y]=I;return}O[y]=[].concat(O[y],I)}}}function l(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(x,D){return D.encode?D.strict?e(x):encodeURIComponent(x):x}function m(x,D){return D.decode?r(x):x}function b(x){return Array.isArray(x)?x.sort():typeof x=="object"?b(Object.keys(x)).sort((D,y)=>Number(D)-Number(y)).map(D=>x[D]):x}function w(x){const D=x.indexOf("#");return D!==-1&&(x=x.slice(0,D)),x}function E(x){let D="";const y=x.indexOf("#");return y!==-1&&(D=x.slice(y)),D}function A(x){x=w(x);const D=x.indexOf("?");return D===-1?"":x.slice(D+1)}function N(x,D){return D.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):D.parseBooleans&&x!==null&&(x.toLowerCase()==="true"||x.toLowerCase()==="false")&&(x=x.toLowerCase()==="true"),x}function M(x,D){D=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},D),l(D.arrayFormatSeparator);const y=c(D),I=Object.create(null);if(typeof x!="string"||(x=x.trim().replace(/^[?#&]/,""),!x))return I;for(const O of x.split("&")){if(O==="")continue;let[h,_]=n(D.decode?O.replace(/\+/g," "):O,"=");_=_===void 0?null:["comma","separator","bracket-separator"].includes(D.arrayFormat)?_:m(_,D),y(m(h,D),_,I)}for(const O of Object.keys(I)){const h=I[O];if(typeof h=="object"&&h!==null)for(const _ of Object.keys(h))h[_]=N(h[_],D);else I[O]=N(h,D)}return D.sort===!1?I:(D.sort===!0?Object.keys(I).sort():Object.keys(I).sort(D.sort)).reduce((O,h)=>{const _=I[h];return Boolean(_)&&typeof _=="object"&&!Array.isArray(_)?O[h]=b(_):O[h]=_,O},Object.create(null))}t.extract=A,t.parse=M,t.stringify=(x,D)=>{if(!x)return"";D=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},D),l(D.arrayFormatSeparator);const y=_=>D.skipNull&&s(x[_])||D.skipEmptyString&&x[_]==="",I=a(D),O={};for(const _ of Object.keys(x))y(_)||(O[_]=x[_]);const h=Object.keys(O);return D.sort!==!1&&h.sort(D.sort),h.map(_=>{const H=x[_];return H===void 0?"":H===null?p(_,D):Array.isArray(H)?H.length===0&&D.arrayFormat==="bracket-separator"?p(_,D)+"[]":H.reduce(I(_),[]).join("&"):p(_,D)+"="+p(H,D)}).filter(_=>_.length>0).join("&")},t.parseUrl=(x,D)=>{D=Object.assign({decode:!0},D);const[y,I]=n(x,"#");return Object.assign({url:y.split("?")[0]||"",query:M(A(x),D)},D&&D.parseFragmentIdentifier&&I?{fragmentIdentifier:m(I,D)}:{})},t.stringifyUrl=(x,D)=>{D=Object.assign({encode:!0,strict:!0,[o]:!0},D);const y=w(x.url).split("?")[0]||"",I=t.extract(x.url),O=t.parse(I,{sort:!1}),h=Object.assign(O,x.query);let _=t.stringify(h,D);_&&(_=`?${_}`);let H=E(x.url);return x.fragmentIdentifier&&(H=`#${D[o]?p(x.fragmentIdentifier,D):x.fragmentIdentifier}`),`${y}${_}${H}`},t.pick=(x,D,y)=>{y=Object.assign({parseFragmentIdentifier:!0,[o]:!1},y);const{url:I,query:O,fragmentIdentifier:h}=t.parseUrl(x,y);return t.stringifyUrl({url:I,query:i(O,D),fragmentIdentifier:h},y)},t.exclude=(x,D,y)=>{const I=Array.isArray(D)?O=>!D.includes(O):(O,h)=>!D(O,h);return t.pick(x,I,y)}})(Fn);const cg={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function lg(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function Kl(t,e){return t.includes(":")?[t]:e.chains||[]}const Gl="base10",Nt="base16",$o="base64pad",Po="utf8",Zl=0,Tr=1,ug=0,Yl=1,To=12,No=32;function hg(){const t=go.generateKeyPair();return{privateKey:Tt(t.secretKey,Nt),publicKey:Tt(t.publicKey,Nt)}}function Ro(){const t=an.randomBytes(No);return Tt(t,Nt)}function dg(t,e){const r=go.sharedKey(Pt(t,Nt),Pt(e,Nt)),n=new Of(Xi.SHA256,r).expand(No);return Tt(n,Nt)}function Jl(t){const e=Xi.hash(Pt(t,Nt));return Tt(e,Nt)}function ts(t){const e=Xi.hash(Pt(t,Po));return Tt(e,Nt)}function fg(t){return Pt(`${t}`,Gl)}function Bn(t){return Number(Tt(t,Gl))}function pg(t){const e=fg(typeof t.type<"u"?t.type:Zl);if(Bn(e)===Tr&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Pt(t.senderPublicKey,Nt):void 0,n=typeof t.iv<"u"?Pt(t.iv,Nt):an.randomBytes(To),i=new ao.ChaCha20Poly1305(Pt(t.symKey,Nt)).seal(n,Pt(t.message,Po));return mg({type:e,sealed:i,iv:n,senderPublicKey:r})}function gg(t){const e=new ao.ChaCha20Poly1305(Pt(t.symKey,Nt)),{sealed:r,iv:n}=Lo(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return Tt(i,Po)}function mg(t){if(Bn(t.type)===Tr){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Tt(mo([t.type,t.senderPublicKey,t.iv,t.sealed]),$o)}return Tt(mo([t.type,t.iv,t.sealed]),$o)}function Lo(t){const e=Pt(t,$o),r=e.slice(ug,Yl),n=Yl;if(Bn(r)===Tr){const a=n+No,c=a+To,l=e.slice(n,a),p=e.slice(a,c),m=e.slice(c);return{type:r,sealed:m,iv:p,senderPublicKey:l}}const i=n+To,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function wg(t,e){const r=Lo(t);return Xl({type:Bn(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Tt(r.senderPublicKey,Nt):void 0,receiverPublicKey:e?.receiverPublicKey})}function Xl(t){const e=t?.type||Zl;if(e===Tr){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Ql(t){return t.type===Tr&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var bg=Object.defineProperty,eu=Object.getOwnPropertySymbols,yg=Object.prototype.hasOwnProperty,vg=Object.prototype.propertyIsEnumerable,tu=(t,e,r)=>e in t?bg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ru=(t,e)=>{for(var r in e||(e={}))yg.call(e,r)&&tu(t,r,e[r]);if(eu)for(var r of eu(e))vg.call(e,r)&&tu(t,r,e[r]);return t};const _g="ReactNative",jn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Eg="js";function nu(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function xg(){return!jl()&&!!Do()&&navigator.product===_g}function Cg(){return!nu()&&!!Do()}function Sg(){return xg()?jn.reactNative:nu()?jn.node:Cg()?jn.browser:jn.unknown}function Ig(t,e){let r=Fn.parse(t);return r=ru(ru({},r),e),t=Fn.stringify(r),t}function Dg(){return Hl()||{name:"",description:"",url:"",icons:[""]}}function Og(){const t=dp();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Ag(){var t;const e=Sg();return e===jn.browser?[e,((t=kl())==null?void 0:t.host)||"unknown"].join(":"):e}function $g(t,e,r){const n=Og(),i=Ag();return[[t,e].join("-"),[Eg,r].join("-"),n,i].join("/")}function Pg({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s}){const o=r.split("?"),a=$g(t,e,n),c={auth:i,ua:a,projectId:s},l=Ig(o[1]||"",c);return o[0]+"?"+l}function Nr(t,e){return t.filter(r=>e.includes(r)).length===t.length}function iu(t){return Object.fromEntries(t.entries())}function su(t){return new Map(Object.entries(t))}function Rr(t=de.FIVE_MINUTES,e){const r=de.toMiliseconds(t||de.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function Mo(t,e){return new Promise(async(r,n)=>{const i=setTimeout(()=>n(),e),s=await t;clearTimeout(i),r(s)})}function ou(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Tg(t){return ou("topic",t)}function Ng(t){return ou("id",t)}function au(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function er(t,e){return de.fromMiliseconds((e||Date.now())+de.toMiliseconds(t))}function mr(t){return Date.now()>=de.toMiliseconds(t)}function et(t,e){return`${t}${e?`:${e}`:""}`}const Rg="irn";function Uo(t){return t?.relay||{protocol:Rg}}function rs(t){const e=cg[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Lg=Object.defineProperty,cu=Object.getOwnPropertySymbols,Mg=Object.prototype.hasOwnProperty,Ug=Object.prototype.propertyIsEnumerable,lu=(t,e,r)=>e in t?Lg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fg=(t,e)=>{for(var r in e||(e={}))Mg.call(e,r)&&lu(t,r,e[r]);if(cu)for(var r of cu(e))Ug.call(e,r)&&lu(t,r,e[r]);return t};function Bg(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function jg(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=i[0],o=typeof r<"u"?t.substring(r):"",a=Fn.parse(o),c=a.symKey;if(c.length!==64)throw new Error(`Invalid symKey: ${c}`);const l=Jl(c);if(s!==l)throw new Error(`Invalid topic: ${s}`);return{protocol:n,topic:s,version:parseInt(i[1],10),symKey:c,relay:Bg(a)}}function kg(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=r+e+i;t[i]&&(n[s]=t[i])}),n}function Hg(t){return`${t.protocol}:${t.topic}@${t.version}?`+Fn.stringify(Fg({symKey:t.symKey},kg(t.relay)))}function kn(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function zg(t){const e=[];return Object.values(t).forEach(r=>{e.push(...kn(r.accounts))}),e}function Wg(t,e){const r=[];return Object.values(t).forEach(n=>{kn(n.accounts).includes(e)&&r.push(...n.methods)}),r}function qg(t,e){const r=[];return Object.values(t).forEach(n=>{kn(n.accounts).includes(e)&&r.push(...n.events)}),r}function Vg(t,e){const r=ns(t,e);if(r)throw new Error(r.message);const n={};for(const[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}const Kg={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Gg={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function se(t,e){const{message:r,code:n}=Gg[t];return{message:e?`${r} ${e}`:r,code:n}}function tt(t,e){const{message:r,code:n}=Kg[t];return{message:e?`${r} ${e}`:r,code:n}}function wr(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function Hn(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ot(t){return typeof t>"u"}function ht(t,e){return e&&Ot(t)?!0:typeof t=="string"&&Boolean(t.trim().length)}function Fo(t,e){return e&&Ot(t)?!0:typeof t=="number"&&!isNaN(t)}function Zg(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Nr(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],p=kn(a),m=r[o];(!Nr(Kl(o,m),p)||!Nr(m.methods,c)||!Nr(m.events,l))&&(s=!1)}),s):!1}function Bo(t){return ht(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Yg(t){if(ht(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Bo(r)}}return!1}function Jg(t){if(ht(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Xg(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Qg(t){return t?.topic}function e2(t,e){let r=null;return ht(t?.publicKey,!1)||(r=se("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function uu(t){let e=!0;return wr(t)?t.length&&(e=t.every(r=>ht(r,!1))):e=!1,e}function t2(t,e,r){let n=null;return wr(e)?e.forEach(i=>{n||(!Bo(i)||!i.includes(t))&&(n=tt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):n=tt("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}function r2(t,e){let r=null;return Object.entries(t).forEach(([n,i])=>{if(r)return;const s=t2(n,Kl(n,i),`${e} requiredNamespace`);s&&(r=s)}),r}function n2(t,e){let r=null;return wr(t)?t.forEach(n=>{r||Yg(n)||(r=tt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=tt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function i2(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=n2(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function s2(t,e){let r=null;return uu(t?.methods)?uu(t?.events)||(r=tt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=tt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function hu(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=s2(n,`${e}, namespace`);i&&(r=i)}),r}function o2(t,e,r){let n=null;if(t&&Hn(t)){const i=hu(t,e);i&&(n=i);const s=r2(t,e);s&&(n=s)}else n=se("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function ns(t,e){let r=null;if(t&&Hn(t)){const n=hu(t,e);n&&(r=n);const i=i2(t,e);i&&(r=i)}else r=se("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function du(t){return ht(t.protocol,!0)}function a2(t,e){let r=!1;return e&&!t?r=!0:t&&wr(t)&&t.length&&t.forEach(n=>{r=du(n)}),r}function c2(t){return typeof t=="number"}function Rt(t){return typeof t<"u"&&typeof t!==null}function l2(t){return!(!t||typeof t!="object"||!t.code||!Fo(t.code,!1)||!t.message||!ht(t.message,!1))}function u2(t){return!(Ot(t)||!ht(t.method,!1))}function h2(t){return!(Ot(t)||Ot(t.result)&&Ot(t.error)||!Fo(t.id,!1)||!ht(t.jsonrpc,!1))}function d2(t){return!(Ot(t)||!ht(t.name,!1))}function fu(t,e){return!(!Bo(e)||!zg(t).includes(e))}function f2(t,e,r){return ht(r,!1)?Wg(t,e).includes(r):!1}function p2(t,e,r){return ht(r,!1)?qg(t,e).includes(r):!1}function pu(t,e,r){let n=null;const i=g2(t),s=m2(e),o=Object.keys(i),a=Object.keys(s),c=gu(Object.keys(t)),l=gu(Object.keys(e)),p=c.filter(m=>!l.includes(m));return p.length&&(n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Nr(o,a)||(n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),o.forEach(m=>{n||(Nr(i[m].methods,s[m].methods)?Nr(i[m].events,s[m].events)||(n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${m}`)):n=se("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${m}`))}),n}function g2(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function gu(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function m2(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=kn(t[r].accounts);n?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function w2(t,e){return Fo(t,!1)&&t<=e.max&&t>=e.min}function b2(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var y2=v2;function v2(t,e,r){var n=r&&r.stringify||b2,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",p=1-i,m=-1,b=t&&t.length||0,w=0;w<b;){if(t.charCodeAt(w)===37&&w+1<b){switch(m=m>-1?m:0,t.charCodeAt(w+1)){case 100:case 102:if(p>=c||e[p]==null)break;m<w&&(l+=t.slice(m,w)),l+=Number(e[p]),m=w+2,w++;break;case 105:if(p>=c||e[p]==null)break;m<w&&(l+=t.slice(m,w)),l+=Math.floor(Number(e[p])),m=w+2,w++;break;case 79:case 111:case 106:if(p>=c||e[p]===void 0)break;m<w&&(l+=t.slice(m,w));var E=typeof e[p];if(E==="string"){l+="'"+e[p]+"'",m=w+2,w++;break}if(E==="function"){l+=e[p].name||"<anonymous>",m=w+2,w++;break}l+=n(e[p]),m=w+2,w++;break;case 115:if(p>=c)break;m<w&&(l+=t.slice(m,w)),l+=String(e[p]),m=w+2,w++;break;case 37:m<w&&(l+=t.slice(m,w)),l+="%",m=w+2,w++,p--;break}++p}++w}return m===-1?t:(m<b&&(l+=t.slice(m)),l)}const mu=y2;var zn=tr;const Wn=$2().console||{},_2={mapHttpRequest:ss,mapHttpResponse:ss,wrapRequestSerializer:ko,wrapResponseSerializer:ko,wrapErrorSerializer:ko,req:ss,res:ss,err:I2};function E2(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function tr(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||Wn;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=E2(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=qn),Object.defineProperty(c,"levelVal",{get:p}),Object.defineProperty(c,"level",{get:m,set:b});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:D2(t)};c.levels=tr.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=qn,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=w,e&&(c._logEvent=jo());function p(){return this.level==="silent"?1/0:this.levels.values[this.level]}function m(){return this._level}function b(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,un(l,c,"error","log"),un(l,c,"fatal","error"),un(l,c,"warn","error"),un(l,c,"info","log"),un(l,c,"debug","log"),un(l,c,"trace","log")}function w(E,A){if(!E)throw new Error("missing bindings for child Pino");A=A||{},i&&E.serializers&&(A.serializers=E.serializers);const N=A.serializers;if(i&&N){var M=Object.assign({},n,N),x=t.browser.serialize===!0?Object.keys(M):i;delete E.serializers,is([E],x,M,this._stdErrSerialize)}function D(y){this._childLevel=(y._childLevel|0)+1,this.error=hn(y,E,"error"),this.fatal=hn(y,E,"fatal"),this.warn=hn(y,E,"warn"),this.info=hn(y,E,"info"),this.debug=hn(y,E,"debug"),this.trace=hn(y,E,"trace"),M&&(this.serializers=M,this._serialize=x),e&&(this._logEvent=jo([].concat(y._logEvent.bindings,E)))}return D.prototype=this,new D(this)}return c}tr.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},tr.stdSerializers=_2,tr.stdTimeFunctions=Object.assign({},{nullTime:wu,epochTime:bu,unixTime:O2,isoTime:A2});function un(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?qn:i[r]?i[r]:Wn[r]||Wn[n]||qn,x2(t,e,r)}function x2(t,e,r){!t.transmit&&e[r]===qn||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Wn?Wn:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&is(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,C2(this,r,o,s)):n.apply(a,o),t.transmit){const l=t.transmit.level||e.level,p=tr.levels.values[l],m=tr.levels.values[r];if(m<p)return;S2(this,{ts:s,methodLevel:r,methodValue:m,transmitLevel:l,transmitValue:tr.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function C2(t,e,r,n){t._serialize&&is(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=tr.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?mu(i.shift(),i):void 0}else typeof s=="string"&&(s=mu(i.shift(),i));return s!==void 0&&(o.msg=s),o}function is(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=tr.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function hn(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function S2(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;is(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=jo(c)}function jo(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function I2(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function D2(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?wu:bu}function ss(){return{}}function ko(t){return t}function qn(){}function wu(){return!1}function bu(){return Date.now()}function O2(){return Math.round(Date.now()/1e3)}function A2(){return new Date(Date.now()).toISOString()}function $2(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}var os={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Ho=function(t,e){return Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ho(t,e)};function P2(t,e){Ho(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zo=function(){return zo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zo.apply(this,arguments)};function T2(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function N2(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function R2(t,e){return function(r,n){e(r,n,t)}}function L2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function M2(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{l(n.next(p))}catch(m){o(m)}}function c(p){try{l(n.throw(p))}catch(m){o(m)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function U2(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function F2(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function B2(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Wo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function j2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yu(arguments[e]));return t}function k2(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Vn(t){return this instanceof Vn?(this.v=t,this):new Vn(t)}function H2(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){n[b]&&(i[b]=function(w){return new Promise(function(E,A){s.push([b,w,E,A])>1||a(b,w)})})}function a(b,w){try{c(n[b](w))}catch(E){m(s[0][3],E)}}function c(b){b.value instanceof Vn?Promise.resolve(b.value.v).then(l,p):m(s[0][2],b)}function l(b){a("next",b)}function p(b){a("throw",b)}function m(b,w){b(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function z2(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Vn(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function W2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wo=="function"?Wo(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function q2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function V2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function K2(t){return t&&t.__esModule?t:{default:t}}function G2(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Z2(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Y2=Object.freeze({__proto__:null,__extends:P2,get __assign(){return zo},__rest:T2,__decorate:N2,__param:R2,__metadata:L2,__awaiter:M2,__generator:U2,__createBinding:F2,__exportStar:B2,__values:Wo,__read:yu,__spread:j2,__spreadArrays:k2,__await:Vn,__asyncGenerator:H2,__asyncDelegator:z2,__asyncValues:W2,__makeTemplateObject:q2,__importStar:V2,__importDefault:K2,__classPrivateFieldGet:G2,__classPrivateFieldSet:Z2}),vu=Or(Y2),Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});function J2(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}Kn.safeJsonParse=J2;function X2(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}Kn.safeJsonStringify=X2;var Gn={exports:{}},_u;function Q2(){return _u||(_u=1,function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof ut<"u"&&ut.localStorage?Gn.exports=ut.localStorage:typeof window<"u"&&window.localStorage?Gn.exports=window.localStorage:Gn.exports=new e}()),Gn.exports}var qo={},Zn={},Eu;function e3(){if(Eu)return Zn;Eu=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.IKeyValueStorage=void 0;class t{}return Zn.IKeyValueStorage=t,Zn}var Yn={},xu;function t3(){if(xu)return Yn;xu=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.parseEntry=void 0;const t=Kn;function e(r){var n;return[r[0],t.safeJsonParse((n=r[1])!==null&&n!==void 0?n:"")]}return Yn.parseEntry=e,Yn}var Cu;function r3(){return Cu||(Cu=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=vu;e.__exportStar(e3(),t),e.__exportStar(t3(),t)}(qo)),qo}Object.defineProperty(os,"__esModule",{value:!0}),os.KeyValueStorage=void 0;const dn=vu,Su=Kn,n3=dn.__importDefault(Q2()),i3=r3();class Iu{constructor(){this.localStorage=n3.default}getKeys(){return dn.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return dn.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(i3.parseEntry)})}getItem(e){return dn.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(e);if(r!==null)return Su.safeJsonParse(r)})}setItem(e,r){return dn.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,Su.safeJsonStringify(r))})}removeItem(e){return dn.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}os.KeyValueStorage=Iu;var s3=os.default=Iu,Jn={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Vo=function(t,e){return Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Vo(t,e)};function o3(t,e){Vo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ko=function(){return Ko=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ko.apply(this,arguments)};function a3(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function c3(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function l3(t,e){return function(r,n){e(r,n,t)}}function u3(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function h3(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{l(n.next(p))}catch(m){o(m)}}function c(p){try{l(n.throw(p))}catch(m){o(m)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function d3(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function f3(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function p3(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Go(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Du(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function g3(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Du(arguments[e]));return t}function m3(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Xn(t){return this instanceof Xn?(this.v=t,this):new Xn(t)}function w3(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){n[b]&&(i[b]=function(w){return new Promise(function(E,A){s.push([b,w,E,A])>1||a(b,w)})})}function a(b,w){try{c(n[b](w))}catch(E){m(s[0][3],E)}}function c(b){b.value instanceof Xn?Promise.resolve(b.value.v).then(l,p):m(s[0][2],b)}function l(b){a("next",b)}function p(b){a("throw",b)}function m(b,w){b(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b3(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Xn(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function y3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Go=="function"?Go(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function v3(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _3(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function E3(t){return t&&t.__esModule?t:{default:t}}function x3(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C3(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var S3=Object.freeze({__proto__:null,__extends:o3,get __assign(){return Ko},__rest:a3,__decorate:c3,__param:l3,__metadata:u3,__awaiter:h3,__generator:d3,__createBinding:f3,__exportStar:p3,__values:Go,__read:Du,__spread:g3,__spreadArrays:m3,__await:Xn,__asyncGenerator:w3,__asyncDelegator:b3,__asyncValues:y3,__makeTemplateObject:v3,__importStar:_3,__importDefault:E3,__classPrivateFieldGet:x3,__classPrivateFieldSet:C3}),as=Or(S3),Qn={},Zo={},ei={};class Lr{}var I3=Object.freeze({__proto__:null,IEvents:Lr}),D3=Or(I3),Ou;function O3(){if(Ou)return ei;Ou=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.IHeartBeat=void 0;const t=D3;class e extends t.IEvents{constructor(n){super()}}return ei.IHeartBeat=e,ei}var Au;function $u(){return Au||(Au=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),as.__exportStar(O3(),t)}(Zo)),Zo}var Yo={},Mr={},Pu;function A3(){if(Pu)return Mr;Pu=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.HEARTBEAT_EVENTS=Mr.HEARTBEAT_INTERVAL=void 0;const t=de;return Mr.HEARTBEAT_INTERVAL=t.FIVE_SECONDS,Mr.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Mr}var Tu;function Nu(){return Tu||(Tu=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),as.__exportStar(A3(),t)}(Yo)),Yo}var Ru;function $3(){if(Ru)return Qn;Ru=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.HeartBeat=void 0;const t=as,e=Et.exports,r=de,n=$u(),i=Nu();class s extends n.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=a?.interval||i.HEARTBEAT_INTERVAL}static init(a){return t.__awaiter(this,void 0,void 0,function*(){const c=new s(a);return yield c.init(),c})}init(){return t.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}initialize(){return t.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Qn.HeartBeat=s,Qn}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=as;e.__exportStar($3(),t),e.__exportStar($u(),t),e.__exportStar(Nu(),t)})(Jn);var je={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Jo=function(t,e){return Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Jo(t,e)};function P3(t,e){Jo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Xo=function(){return Xo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xo.apply(this,arguments)};function T3(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function N3(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function R3(t,e){return function(r,n){e(r,n,t)}}function L3(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function M3(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{l(n.next(p))}catch(m){o(m)}}function c(p){try{l(n.throw(p))}catch(m){o(m)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function U3(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function F3(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function B3(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Qo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function j3(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Lu(arguments[e]));return t}function k3(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function ti(t){return this instanceof ti?(this.v=t,this):new ti(t)}function H3(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){n[b]&&(i[b]=function(w){return new Promise(function(E,A){s.push([b,w,E,A])>1||a(b,w)})})}function a(b,w){try{c(n[b](w))}catch(E){m(s[0][3],E)}}function c(b){b.value instanceof ti?Promise.resolve(b.value.v).then(l,p):m(s[0][2],b)}function l(b){a("next",b)}function p(b){a("throw",b)}function m(b,w){b(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function z3(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:ti(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function W3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Qo=="function"?Qo(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function q3(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function V3(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function K3(t){return t&&t.__esModule?t:{default:t}}function G3(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Z3(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Y3=Object.freeze({__proto__:null,__extends:P3,get __assign(){return Xo},__rest:T3,__decorate:N3,__param:R3,__metadata:L3,__awaiter:M3,__generator:U3,__createBinding:F3,__exportStar:B3,__values:Qo,__read:Lu,__spread:j3,__spreadArrays:k3,__await:ti,__asyncGenerator:H3,__asyncDelegator:z3,__asyncValues:W3,__makeTemplateObject:q3,__importStar:V3,__importDefault:K3,__classPrivateFieldGet:G3,__classPrivateFieldSet:Z3}),J3=Or(Y3),Ur={},Mu;function Uu(){return Mu||(Mu=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.PINO_CUSTOM_CONTEXT_KEY=Ur.PINO_LOGGER_DEFAULTS=void 0,Ur.PINO_LOGGER_DEFAULTS={level:"info"},Ur.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Ur}var At={},Fu;function X3(){if(Fu)return At;Fu=1,Object.defineProperty(At,"__esModule",{value:!0}),At.generateChildLogger=At.formatChildLoggerContext=At.getLoggerContext=At.setBrowserLoggerContext=At.getBrowserLoggerContext=At.getDefaultLoggerOptions=void 0;const t=Uu();function e(a){return Object.assign(Object.assign({},a),{level:a?.level||t.PINO_LOGGER_DEFAULTS.level})}At.getDefaultLoggerOptions=e;function r(a,c=t.PINO_CUSTOM_CONTEXT_KEY){return a[c]||""}At.getBrowserLoggerContext=r;function n(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){return a[l]=c,a}At.setBrowserLoggerContext=n;function i(a,c=t.PINO_CUSTOM_CONTEXT_KEY){let l="";return typeof a.bindings>"u"?l=r(a,c):l=a.bindings().context||"",l}At.getLoggerContext=i;function s(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const p=i(a,l);return p.trim()?`${p}/${c}`:c}At.formatChildLoggerContext=s;function o(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const p=s(a,c,l),m=a.child({context:p});return n(m,p,l)}return At.generateChildLogger=o,At}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const e=J3,r=e.__importDefault(zn);Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return r.default}}),e.__exportStar(Uu(),t),e.__exportStar(X3(),t)})(je);class Q3 extends Lr{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class em extends Lr{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}}class tm{constructor(e,r){this.logger=e,this.core=r}}class rm extends Lr{constructor(e,r){super(),this.relayer=e,this.logger=r}}class nm extends Lr{constructor(e){super()}}class im{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}}class sm extends Lr{constructor(e,r){super(),this.relayer=e,this.logger=r}}class om extends Lr{constructor(e,r){super(),this.core=e,this.logger=r}}class am{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class cm{constructor(e){this.client=e}}function ea(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function ri(t){return typeof t=="string"?t:JSON.stringify(t)}var ta={},Bu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ve,r=Ut;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var p=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[p++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(p=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,p,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[p++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,p=this._bufferLength,m=l/536870912|0,b=l<<3,w=l%128<112?128:256;this._buffer[p]=128;for(var E=p+1;E<w-8;E++)this._buffer[E]=0;e.writeUint32BE(m,this._buffer,w-8),e.writeUint32BE(b,this._buffer,w-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,w),this._finished=!0}for(var E=0;E<this.digestLength/8;E++)e.writeUint32BE(this._stateHi[E],c,E*8),e.writeUint32BE(this._stateLo[E],c,E*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,l,p,m,b,w){for(var E=l[0],A=l[1],N=l[2],M=l[3],x=l[4],D=l[5],y=l[6],I=l[7],O=p[0],h=p[1],_=p[2],H=p[3],j=p[4],q=p[5],X=p[6],re=p[7],C,$,G,K,W,z,J,Z;w>=128;){for(var le=0;le<16;le++){var ee=8*le+b;a[le]=e.readUint32BE(m,ee),c[le]=e.readUint32BE(m,ee+4)}for(var le=0;le<80;le++){var pe=E,ae=A,Ce=N,B=M,F=x,R=D,f=y,P=I,te=O,ie=h,Ee=_,Le=H,$e=j,Me=q,Ze=X,Ke=re;if(C=I,$=re,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=(x>>>14|j<<32-14)^(x>>>18|j<<32-18)^(j>>>41-32|x<<32-(41-32)),$=(j>>>14|x<<32-14)^(j>>>18|x<<32-18)^(x>>>41-32|j<<32-(41-32)),W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,C=x&D^~x&y,$=j&q^~j&X,W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,C=i[le*2],$=i[le*2+1],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,C=a[le%16],$=c[le%16],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,G=J&65535|Z<<16,K=W&65535|z<<16,C=G,$=K,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=(E>>>28|O<<32-28)^(O>>>34-32|E<<32-(34-32))^(O>>>39-32|E<<32-(39-32)),$=(O>>>28|E<<32-28)^(E>>>34-32|O<<32-(34-32))^(E>>>39-32|O<<32-(39-32)),W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,C=E&A^E&N^A&N,$=O&h^O&_^h&_,W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,P=J&65535|Z<<16,Ke=W&65535|z<<16,C=B,$=Le,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=G,$=K,W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,B=J&65535|Z<<16,Le=W&65535|z<<16,A=pe,N=ae,M=Ce,x=B,D=F,y=R,I=f,E=P,h=te,_=ie,H=Ee,j=Le,q=$e,X=Me,re=Ze,O=Ke,le%16===15)for(var ee=0;ee<16;ee++)C=a[ee],$=c[ee],W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=a[(ee+9)%16],$=c[(ee+9)%16],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,G=a[(ee+1)%16],K=c[(ee+1)%16],C=(G>>>1|K<<32-1)^(G>>>8|K<<32-8)^G>>>7,$=(K>>>1|G<<32-1)^(K>>>8|G<<32-8)^(K>>>7|G<<32-7),W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,G=a[(ee+14)%16],K=c[(ee+14)%16],C=(G>>>19|K<<32-19)^(K>>>61-32|G<<32-(61-32))^G>>>6,$=(K>>>19|G<<32-19)^(G>>>61-32|K<<32-(61-32))^(K>>>6|G<<32-6),W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,a[ee]=J&65535|Z<<16,c[ee]=W&65535|z<<16}C=E,$=O,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[0],$=p[0],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[0]=E=J&65535|Z<<16,p[0]=O=W&65535|z<<16,C=A,$=h,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[1],$=p[1],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[1]=A=J&65535|Z<<16,p[1]=h=W&65535|z<<16,C=N,$=_,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[2],$=p[2],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[2]=N=J&65535|Z<<16,p[2]=_=W&65535|z<<16,C=M,$=H,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[3],$=p[3],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[3]=M=J&65535|Z<<16,p[3]=H=W&65535|z<<16,C=x,$=j,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[4],$=p[4],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[4]=x=J&65535|Z<<16,p[4]=j=W&65535|z<<16,C=D,$=q,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[5],$=p[5],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[5]=D=J&65535|Z<<16,p[5]=q=W&65535|z<<16,C=y,$=X,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[6],$=p[6],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[6]=y=J&65535|Z<<16,p[6]=X=W&65535|z<<16,C=I,$=re,W=$&65535,z=$>>>16,J=C&65535,Z=C>>>16,C=l[7],$=p[7],W+=$&65535,z+=$>>>16,J+=C&65535,Z+=C>>>16,z+=W>>>16,J+=z>>>16,Z+=J>>>16,l[7]=I=J&65535|Z<<16,p[7]=re=W&65535|z<<16,b+=128,w-=128}return b}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(Bu),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=an,r=Bu,n=Ut;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(B){const F=new Float64Array(16);if(B)for(let R=0;R<B.length;R++)F[R]=B[R];return F}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(B,F){for(let R=0;R<16;R++)B[R]=F[R]|0}function E(B){let F=1;for(let R=0;R<16;R++){let f=B[R]+F+65535;F=Math.floor(f/65536),B[R]=f-F*65536}B[0]+=F-1+37*(F-1)}function A(B,F,R){const f=~(R-1);for(let P=0;P<16;P++){const te=f&(B[P]^F[P]);B[P]^=te,F[P]^=te}}function N(B,F){const R=i(),f=i();for(let P=0;P<16;P++)f[P]=F[P];E(f),E(f),E(f);for(let P=0;P<2;P++){R[0]=f[0]-65517;for(let ie=1;ie<15;ie++)R[ie]=f[ie]-65535-(R[ie-1]>>16&1),R[ie-1]&=65535;R[15]=f[15]-32767-(R[14]>>16&1);const te=R[15]>>16&1;R[14]&=65535,A(f,R,1-te)}for(let P=0;P<16;P++)B[2*P]=f[P]&255,B[2*P+1]=f[P]>>8}function M(B,F){let R=0;for(let f=0;f<32;f++)R|=B[f]^F[f];return(1&R-1>>>8)-1}function x(B,F){const R=new Uint8Array(32),f=new Uint8Array(32);return N(R,B),N(f,F),M(R,f)}function D(B){const F=new Uint8Array(32);return N(F,B),F[0]&1}function y(B,F){for(let R=0;R<16;R++)B[R]=F[2*R]+(F[2*R+1]<<8);B[15]&=32767}function I(B,F,R){for(let f=0;f<16;f++)B[f]=F[f]+R[f]}function O(B,F,R){for(let f=0;f<16;f++)B[f]=F[f]-R[f]}function h(B,F,R){let f,P,te=0,ie=0,Ee=0,Le=0,$e=0,Me=0,Ze=0,Ke=0,Pe=0,De=0,me=0,Se=0,Oe=0,ge=0,xe=0,g=0,u=0,d=0,v=0,T=0,U=0,k=0,oe=0,he=0,Ne=0,Fe=0,Re=0,Ht=0,tn=0,ki=0,eo=0,rt=R[0],Je=R[1],nt=R[2],it=R[3],st=R[4],Xe=R[5],pt=R[6],gt=R[7],mt=R[8],wt=R[9],bt=R[10],lt=R[11],ot=R[12],Ge=R[13],yt=R[14],vt=R[15];f=F[0],te+=f*rt,ie+=f*Je,Ee+=f*nt,Le+=f*it,$e+=f*st,Me+=f*Xe,Ze+=f*pt,Ke+=f*gt,Pe+=f*mt,De+=f*wt,me+=f*bt,Se+=f*lt,Oe+=f*ot,ge+=f*Ge,xe+=f*yt,g+=f*vt,f=F[1],ie+=f*rt,Ee+=f*Je,Le+=f*nt,$e+=f*it,Me+=f*st,Ze+=f*Xe,Ke+=f*pt,Pe+=f*gt,De+=f*mt,me+=f*wt,Se+=f*bt,Oe+=f*lt,ge+=f*ot,xe+=f*Ge,g+=f*yt,u+=f*vt,f=F[2],Ee+=f*rt,Le+=f*Je,$e+=f*nt,Me+=f*it,Ze+=f*st,Ke+=f*Xe,Pe+=f*pt,De+=f*gt,me+=f*mt,Se+=f*wt,Oe+=f*bt,ge+=f*lt,xe+=f*ot,g+=f*Ge,u+=f*yt,d+=f*vt,f=F[3],Le+=f*rt,$e+=f*Je,Me+=f*nt,Ze+=f*it,Ke+=f*st,Pe+=f*Xe,De+=f*pt,me+=f*gt,Se+=f*mt,Oe+=f*wt,ge+=f*bt,xe+=f*lt,g+=f*ot,u+=f*Ge,d+=f*yt,v+=f*vt,f=F[4],$e+=f*rt,Me+=f*Je,Ze+=f*nt,Ke+=f*it,Pe+=f*st,De+=f*Xe,me+=f*pt,Se+=f*gt,Oe+=f*mt,ge+=f*wt,xe+=f*bt,g+=f*lt,u+=f*ot,d+=f*Ge,v+=f*yt,T+=f*vt,f=F[5],Me+=f*rt,Ze+=f*Je,Ke+=f*nt,Pe+=f*it,De+=f*st,me+=f*Xe,Se+=f*pt,Oe+=f*gt,ge+=f*mt,xe+=f*wt,g+=f*bt,u+=f*lt,d+=f*ot,v+=f*Ge,T+=f*yt,U+=f*vt,f=F[6],Ze+=f*rt,Ke+=f*Je,Pe+=f*nt,De+=f*it,me+=f*st,Se+=f*Xe,Oe+=f*pt,ge+=f*gt,xe+=f*mt,g+=f*wt,u+=f*bt,d+=f*lt,v+=f*ot,T+=f*Ge,U+=f*yt,k+=f*vt,f=F[7],Ke+=f*rt,Pe+=f*Je,De+=f*nt,me+=f*it,Se+=f*st,Oe+=f*Xe,ge+=f*pt,xe+=f*gt,g+=f*mt,u+=f*wt,d+=f*bt,v+=f*lt,T+=f*ot,U+=f*Ge,k+=f*yt,oe+=f*vt,f=F[8],Pe+=f*rt,De+=f*Je,me+=f*nt,Se+=f*it,Oe+=f*st,ge+=f*Xe,xe+=f*pt,g+=f*gt,u+=f*mt,d+=f*wt,v+=f*bt,T+=f*lt,U+=f*ot,k+=f*Ge,oe+=f*yt,he+=f*vt,f=F[9],De+=f*rt,me+=f*Je,Se+=f*nt,Oe+=f*it,ge+=f*st,xe+=f*Xe,g+=f*pt,u+=f*gt,d+=f*mt,v+=f*wt,T+=f*bt,U+=f*lt,k+=f*ot,oe+=f*Ge,he+=f*yt,Ne+=f*vt,f=F[10],me+=f*rt,Se+=f*Je,Oe+=f*nt,ge+=f*it,xe+=f*st,g+=f*Xe,u+=f*pt,d+=f*gt,v+=f*mt,T+=f*wt,U+=f*bt,k+=f*lt,oe+=f*ot,he+=f*Ge,Ne+=f*yt,Fe+=f*vt,f=F[11],Se+=f*rt,Oe+=f*Je,ge+=f*nt,xe+=f*it,g+=f*st,u+=f*Xe,d+=f*pt,v+=f*gt,T+=f*mt,U+=f*wt,k+=f*bt,oe+=f*lt,he+=f*ot,Ne+=f*Ge,Fe+=f*yt,Re+=f*vt,f=F[12],Oe+=f*rt,ge+=f*Je,xe+=f*nt,g+=f*it,u+=f*st,d+=f*Xe,v+=f*pt,T+=f*gt,U+=f*mt,k+=f*wt,oe+=f*bt,he+=f*lt,Ne+=f*ot,Fe+=f*Ge,Re+=f*yt,Ht+=f*vt,f=F[13],ge+=f*rt,xe+=f*Je,g+=f*nt,u+=f*it,d+=f*st,v+=f*Xe,T+=f*pt,U+=f*gt,k+=f*mt,oe+=f*wt,he+=f*bt,Ne+=f*lt,Fe+=f*ot,Re+=f*Ge,Ht+=f*yt,tn+=f*vt,f=F[14],xe+=f*rt,g+=f*Je,u+=f*nt,d+=f*it,v+=f*st,T+=f*Xe,U+=f*pt,k+=f*gt,oe+=f*mt,he+=f*wt,Ne+=f*bt,Fe+=f*lt,Re+=f*ot,Ht+=f*Ge,tn+=f*yt,ki+=f*vt,f=F[15],g+=f*rt,u+=f*Je,d+=f*nt,v+=f*it,T+=f*st,U+=f*Xe,k+=f*pt,oe+=f*gt,he+=f*mt,Ne+=f*wt,Fe+=f*bt,Re+=f*lt,Ht+=f*ot,tn+=f*Ge,ki+=f*yt,eo+=f*vt,te+=38*u,ie+=38*d,Ee+=38*v,Le+=38*T,$e+=38*U,Me+=38*k,Ze+=38*oe,Ke+=38*he,Pe+=38*Ne,De+=38*Fe,me+=38*Re,Se+=38*Ht,Oe+=38*tn,ge+=38*ki,xe+=38*eo,P=1,f=te+P+65535,P=Math.floor(f/65536),te=f-P*65536,f=ie+P+65535,P=Math.floor(f/65536),ie=f-P*65536,f=Ee+P+65535,P=Math.floor(f/65536),Ee=f-P*65536,f=Le+P+65535,P=Math.floor(f/65536),Le=f-P*65536,f=$e+P+65535,P=Math.floor(f/65536),$e=f-P*65536,f=Me+P+65535,P=Math.floor(f/65536),Me=f-P*65536,f=Ze+P+65535,P=Math.floor(f/65536),Ze=f-P*65536,f=Ke+P+65535,P=Math.floor(f/65536),Ke=f-P*65536,f=Pe+P+65535,P=Math.floor(f/65536),Pe=f-P*65536,f=De+P+65535,P=Math.floor(f/65536),De=f-P*65536,f=me+P+65535,P=Math.floor(f/65536),me=f-P*65536,f=Se+P+65535,P=Math.floor(f/65536),Se=f-P*65536,f=Oe+P+65535,P=Math.floor(f/65536),Oe=f-P*65536,f=ge+P+65535,P=Math.floor(f/65536),ge=f-P*65536,f=xe+P+65535,P=Math.floor(f/65536),xe=f-P*65536,f=g+P+65535,P=Math.floor(f/65536),g=f-P*65536,te+=P-1+37*(P-1),P=1,f=te+P+65535,P=Math.floor(f/65536),te=f-P*65536,f=ie+P+65535,P=Math.floor(f/65536),ie=f-P*65536,f=Ee+P+65535,P=Math.floor(f/65536),Ee=f-P*65536,f=Le+P+65535,P=Math.floor(f/65536),Le=f-P*65536,f=$e+P+65535,P=Math.floor(f/65536),$e=f-P*65536,f=Me+P+65535,P=Math.floor(f/65536),Me=f-P*65536,f=Ze+P+65535,P=Math.floor(f/65536),Ze=f-P*65536,f=Ke+P+65535,P=Math.floor(f/65536),Ke=f-P*65536,f=Pe+P+65535,P=Math.floor(f/65536),Pe=f-P*65536,f=De+P+65535,P=Math.floor(f/65536),De=f-P*65536,f=me+P+65535,P=Math.floor(f/65536),me=f-P*65536,f=Se+P+65535,P=Math.floor(f/65536),Se=f-P*65536,f=Oe+P+65535,P=Math.floor(f/65536),Oe=f-P*65536,f=ge+P+65535,P=Math.floor(f/65536),ge=f-P*65536,f=xe+P+65535,P=Math.floor(f/65536),xe=f-P*65536,f=g+P+65535,P=Math.floor(f/65536),g=f-P*65536,te+=P-1+37*(P-1),B[0]=te,B[1]=ie,B[2]=Ee,B[3]=Le,B[4]=$e,B[5]=Me,B[6]=Ze,B[7]=Ke,B[8]=Pe,B[9]=De,B[10]=me,B[11]=Se,B[12]=Oe,B[13]=ge,B[14]=xe,B[15]=g}function _(B,F){h(B,F,F)}function H(B,F){const R=i();let f;for(f=0;f<16;f++)R[f]=F[f];for(f=253;f>=0;f--)_(R,R),f!==2&&f!==4&&h(R,R,F);for(f=0;f<16;f++)B[f]=R[f]}function j(B,F){const R=i();let f;for(f=0;f<16;f++)R[f]=F[f];for(f=250;f>=0;f--)_(R,R),f!==1&&h(R,R,F);for(f=0;f<16;f++)B[f]=R[f]}function q(B,F){const R=i(),f=i(),P=i(),te=i(),ie=i(),Ee=i(),Le=i(),$e=i(),Me=i();O(R,B[1],B[0]),O(Me,F[1],F[0]),h(R,R,Me),I(f,B[0],B[1]),I(Me,F[0],F[1]),h(f,f,Me),h(P,B[3],F[3]),h(P,P,l),h(te,B[2],F[2]),I(te,te,te),O(ie,f,R),O(Ee,te,P),I(Le,te,P),I($e,f,R),h(B[0],ie,Ee),h(B[1],$e,Le),h(B[2],Le,Ee),h(B[3],ie,$e)}function X(B,F,R){for(let f=0;f<4;f++)A(B[f],F[f],R)}function re(B,F){const R=i(),f=i(),P=i();H(P,F[2]),h(R,F[0],P),h(f,F[1],P),N(B,f),B[31]^=D(R)<<7}function C(B,F,R){w(B[0],o),w(B[1],a),w(B[2],a),w(B[3],o);for(let f=255;f>=0;--f){const P=R[f/8|0]>>(f&7)&1;X(B,F,P),q(F,B),q(B,B),X(B,F,P)}}function $(B,F){const R=[i(),i(),i(),i()];w(R[0],p),w(R[1],m),w(R[2],a),h(R[3],p,m),C(B,R,F)}function G(B){if(B.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const F=(0,r.hash)(B);F[0]&=248,F[31]&=127,F[31]|=64;const R=new Uint8Array(32),f=[i(),i(),i(),i()];$(f,F),re(R,f);const P=new Uint8Array(64);return P.set(B),P.set(R,32),{publicKey:R,secretKey:P}}t.generateKeyPairFromSeed=G;function K(B){const F=(0,e.randomBytes)(32,B),R=G(F);return(0,n.wipe)(F),R}t.generateKeyPair=K;function W(B){if(B.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(B.subarray(32))}t.extractPublicKeyFromSecretKey=W;const z=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function J(B,F){let R,f,P,te;for(f=63;f>=32;--f){for(R=0,P=f-32,te=f-12;P<te;++P)F[P]+=R-16*F[f]*z[P-(f-32)],R=Math.floor((F[P]+128)/256),F[P]-=R*256;F[P]+=R,F[f]=0}for(R=0,P=0;P<32;P++)F[P]+=R-(F[31]>>4)*z[P],R=F[P]>>8,F[P]&=255;for(P=0;P<32;P++)F[P]-=R*z[P];for(f=0;f<32;f++)F[f+1]+=F[f]>>8,B[f]=F[f]&255}function Z(B){const F=new Float64Array(64);for(let R=0;R<64;R++)F[R]=B[R];for(let R=0;R<64;R++)B[R]=0;J(B,F)}function le(B,F){const R=new Float64Array(64),f=[i(),i(),i(),i()],P=(0,r.hash)(B.subarray(0,32));P[0]&=248,P[31]&=127,P[31]|=64;const te=new Uint8Array(64);te.set(P.subarray(32),32);const ie=new r.SHA512;ie.update(te.subarray(32)),ie.update(F);const Ee=ie.digest();ie.clean(),Z(Ee),$(f,Ee),re(te,f),ie.reset(),ie.update(te.subarray(0,32)),ie.update(B.subarray(32)),ie.update(F);const Le=ie.digest();Z(Le);for(let $e=0;$e<32;$e++)R[$e]=Ee[$e];for(let $e=0;$e<32;$e++)for(let Me=0;Me<32;Me++)R[$e+Me]+=Le[$e]*P[Me];return J(te.subarray(32),R),te}t.sign=le;function ee(B,F){const R=i(),f=i(),P=i(),te=i(),ie=i(),Ee=i(),Le=i();return w(B[2],a),y(B[1],F),_(P,B[1]),h(te,P,c),O(P,P,B[2]),I(te,B[2],te),_(ie,te),_(Ee,ie),h(Le,Ee,ie),h(R,Le,P),h(R,R,te),j(R,R),h(R,R,P),h(R,R,te),h(R,R,te),h(B[0],R,te),_(f,B[0]),h(f,f,te),x(f,P)&&h(B[0],B[0],b),_(f,B[0]),h(f,f,te),x(f,P)?-1:(D(B[0])===F[31]>>7&&O(B[0],o,B[0]),h(B[3],B[0],B[1]),0)}function pe(B,F,R){const f=new Uint8Array(32),P=[i(),i(),i(),i()],te=[i(),i(),i(),i()];if(R.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(ee(te,B))return!1;const ie=new r.SHA512;ie.update(R.subarray(0,32)),ie.update(B),ie.update(F);const Ee=ie.digest();return Z(Ee),C(P,te,Ee),$(te,R.subarray(32)),q(P,te),re(f,P),!M(R,f)}t.verify=pe;function ae(B){let F=[i(),i(),i(),i()];if(ee(F,B))throw new Error("Ed25519: invalid public key");let R=i(),f=i(),P=F[1];I(R,a,P),O(f,a,P),H(f,f),h(R,R,f);let te=new Uint8Array(32);return N(te,R),te}t.convertPublicKeyToX25519=ae;function Ce(B){const F=(0,r.hash)(B.subarray(0,32));F[0]&=248,F[31]&=127,F[31]|=64;const R=new Uint8Array(F.subarray(0,32));return(0,n.wipe)(F),R}t.convertSecretKeyToX25519=Ce}(ta);const lm="EdDSA",um="JWT",ju=".",ku="base64url",hm="utf8",dm="utf8",fm=":",pm="did",gm="key",Hu="base58btc",mm="z",wm="K36",bm=32;function cs(t){return Tt(Pt(ri(t),hm),ku)}function zu(t){const e=Pt(wm,Hu),r=mm+Tt(mo([e,t]),Hu);return[pm,gm,r].join(fm)}function ym(t){return Tt(t,ku)}function vm(t){return Pt([cs(t.header),cs(t.payload)].join(ju),dm)}function _m(t){return[cs(t.header),cs(t.payload),ym(t.signature)].join(ju)}function Wu(t=an.randomBytes(bm)){return ta.generateKeyPairFromSeed(t)}async function Em(t,e,r,n,i=de.fromMiliseconds(Date.now())){const s={alg:lm,typ:um},o=zu(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=vm({header:s,payload:c}),p=ta.sign(n.secretKey,l);return _m({header:s,payload:c,signature:p})}const xm="PARSE_ERROR",Cm="INVALID_REQUEST",Sm="METHOD_NOT_FOUND",Im="INVALID_PARAMS",qu="INTERNAL_ERROR",ra="SERVER_ERROR",Dm=[-32700,-32600,-32601,-32602,-32603],ni={[xm]:{code:-32700,message:"Parse error"},[Cm]:{code:-32600,message:"Invalid Request"},[Sm]:{code:-32601,message:"Method not found"},[Im]:{code:-32602,message:"Invalid params"},[qu]:{code:-32603,message:"Internal error"},[ra]:{code:-32e3,message:"Server error"}},Vu=ra;function Om(t){return Dm.includes(t)}function Ku(t){return Object.keys(ni).includes(t)?ni[t]:ni[Vu]}function Am(t){const e=Object.values(ni).find(r=>r.code===t);return e||ni[Vu]}function Gu(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Zu={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var na=function(t,e){return na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},na(t,e)};function $m(t,e){na(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ia=function(){return ia=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ia.apply(this,arguments)};function Pm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Tm(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Nm(t,e){return function(r,n){e(r,n,t)}}function Rm(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Lm(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{l(n.next(p))}catch(m){o(m)}}function c(p){try{l(n.throw(p))}catch(m){o(m)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Mm(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Um(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Fm(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function sa(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Bm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yu(arguments[e]));return t}function jm(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function km(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){n[b]&&(i[b]=function(w){return new Promise(function(E,A){s.push([b,w,E,A])>1||a(b,w)})})}function a(b,w){try{c(n[b](w))}catch(E){m(s[0][3],E)}}function c(b){b.value instanceof ii?Promise.resolve(b.value.v).then(l,p):m(s[0][2],b)}function l(b){a("next",b)}function p(b){a("throw",b)}function m(b,w){b(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Hm(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:ii(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function zm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof sa=="function"?sa(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Wm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function qm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Vm(t){return t&&t.__esModule?t:{default:t}}function Km(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Gm(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Zm=Object.freeze({__proto__:null,__extends:$m,get __assign(){return ia},__rest:Pm,__decorate:Tm,__param:Nm,__metadata:Rm,__awaiter:Lm,__generator:Mm,__createBinding:Um,__exportStar:Fm,__values:sa,__read:Yu,__spread:Bm,__spreadArrays:jm,__await:ii,__asyncGenerator:km,__asyncDelegator:Hm,__asyncValues:zm,__makeTemplateObject:Wm,__importStar:qm,__importDefault:Vm,__classPrivateFieldGet:Km,__classPrivateFieldSet:Gm}),Ym=Or(Zm),lr={},Ju;function Jm(){if(Ju)return lr;Ju=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.isBrowserCryptoAvailable=lr.getSubtleCrypto=lr.getBrowerCrypto=void 0;function t(){return ut?.crypto||ut?.msCrypto||{}}lr.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}lr.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return lr.isBrowserCryptoAvailable=r,lr}var ur={},Xu;function Xm(){if(Xu)return ur;Xu=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.isBrowser=ur.isNode=ur.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ur.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ur.isNode=e;function r(){return!t()&&!e()}return ur.isBrowser=r,ur}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ym;e.__exportStar(Jm(),t),e.__exportStar(Xm(),t)})(Zu);function Qm(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function ls(t,e,r){return{id:r||Qm(),jsonrpc:"2.0",method:t,params:e}}function oa(t,e){return{id:t,jsonrpc:"2.0",result:e}}function us(t,e,r){return{id:t,jsonrpc:"2.0",error:e5(e,r)}}function e5(t,e){return typeof t>"u"?Ku(qu):(typeof t=="string"&&(t=Object.assign(Object.assign({},Ku(ra)),{message:t})),typeof e<"u"&&(t.data=e),Om(t.code)&&(t=Am(t.code)),t)}class t5{}class r5 extends t5{constructor(){super()}}class n5 extends r5{constructor(e){super()}}const i5="^https?:",s5="^wss?:";function o5(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Qu(t,e){const r=o5(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function eh(t){return Qu(t,i5)}function th(t){return Qu(t,s5)}function a5(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function rh(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function aa(t){return rh(t)&&"method"in t}function ca(t){return rh(t)&&(hr(t)||Jt(t))}function hr(t){return"result"in t}function Jt(t){return"error"in t}class si extends n5{constructor(e){super(e),this.events=new Et.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(ls(e.method,e.params||[]),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Jt(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ca(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}const nh=10,c5=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:require("ws"),l5=()=>typeof window<"u",u5=c5();class h5{constructor(e){if(this.url=e,this.events=new Et.exports.EventEmitter,this.registering=!1,!th(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=()=>{this.onClose(),e()},this.socket.close()})}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ri(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!th(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=Zu.isReactNative()?void 0:{rejectUnauthorized:!a5(e)},s=new u5(e,[],i);l5()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?ea(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=us(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Gu(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>nh&&this.events.setMaxListeners(nh)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}}var la={exports:{}};(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",p="[object Boolean]",m="[object Date]",b="[object Error]",w="[object Function]",E="[object GeneratorFunction]",A="[object Map]",N="[object Number]",M="[object Null]",x="[object Object]",D="[object Promise]",y="[object Proxy]",I="[object RegExp]",O="[object Set]",h="[object String]",_="[object Symbol]",H="[object Undefined]",j="[object WeakMap]",q="[object ArrayBuffer]",X="[object DataView]",re="[object Float32Array]",C="[object Float64Array]",$="[object Int8Array]",G="[object Int16Array]",K="[object Int32Array]",W="[object Uint8Array]",z="[object Uint8ClampedArray]",J="[object Uint16Array]",Z="[object Uint32Array]",le=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,ae={};ae[re]=ae[C]=ae[$]=ae[G]=ae[K]=ae[W]=ae[z]=ae[J]=ae[Z]=!0,ae[a]=ae[c]=ae[q]=ae[p]=ae[X]=ae[m]=ae[b]=ae[w]=ae[A]=ae[N]=ae[x]=ae[I]=ae[O]=ae[h]=ae[j]=!1;var Ce=typeof ut=="object"&&ut&&ut.Object===Object&&ut,B=typeof self=="object"&&self&&self.Object===Object&&self,F=Ce||B||Function("return this")(),R=e&&!e.nodeType&&e,f=R&&!0&&t&&!t.nodeType&&t,P=f&&f.exports===R,te=P&&Ce.process,ie=function(){try{return te&&te.binding&&te.binding("util")}catch{}}(),Ee=ie&&ie.isTypedArray;function Le(S,L){for(var Y=-1,ce=S==null?0:S.length,We=0,Ie=[];++Y<ce;){var Qe=S[Y];L(Qe,Y,S)&&(Ie[We++]=Qe)}return Ie}function $e(S,L){for(var Y=-1,ce=L.length,We=S.length;++Y<ce;)S[We+Y]=L[Y];return S}function Me(S,L){for(var Y=-1,ce=S==null?0:S.length;++Y<ce;)if(L(S[Y],Y,S))return!0;return!1}function Ze(S,L){for(var Y=-1,ce=Array(S);++Y<S;)ce[Y]=L(Y);return ce}function Ke(S){return function(L){return S(L)}}function Pe(S,L){return S.has(L)}function De(S,L){return S?.[L]}function me(S){var L=-1,Y=Array(S.size);return S.forEach(function(ce,We){Y[++L]=[We,ce]}),Y}function Se(S,L){return function(Y){return S(L(Y))}}function Oe(S){var L=-1,Y=Array(S.size);return S.forEach(function(ce){Y[++L]=ce}),Y}var ge=Array.prototype,xe=Function.prototype,g=Object.prototype,u=F["__core-js_shared__"],d=xe.toString,v=g.hasOwnProperty,T=function(){var S=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),U=g.toString,k=RegExp("^"+d.call(v).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=P?F.Buffer:void 0,he=F.Symbol,Ne=F.Uint8Array,Fe=g.propertyIsEnumerable,Re=ge.splice,Ht=he?he.toStringTag:void 0,tn=Object.getOwnPropertySymbols,ki=oe?oe.isBuffer:void 0,eo=Se(Object.keys,Object),rt=Tn(F,"DataView"),Je=Tn(F,"Map"),nt=Tn(F,"Promise"),it=Tn(F,"Set"),st=Tn(F,"WeakMap"),Xe=Tn(Object,"create"),pt=nn(rt),gt=nn(Je),mt=nn(nt),wt=nn(it),bt=nn(st),lt=he?he.prototype:void 0,ot=lt?lt.valueOf:void 0;function Ge(S){var L=-1,Y=S==null?0:S.length;for(this.clear();++L<Y;){var ce=S[L];this.set(ce[0],ce[1])}}function yt(){this.__data__=Xe?Xe(null):{},this.size=0}function vt(S){var L=this.has(S)&&delete this.__data__[S];return this.size-=L?1:0,L}function V_(S){var L=this.__data__;if(Xe){var Y=L[S];return Y===n?void 0:Y}return v.call(L,S)?L[S]:void 0}function K_(S){var L=this.__data__;return Xe?L[S]!==void 0:v.call(L,S)}function G_(S,L){var Y=this.__data__;return this.size+=this.has(S)?0:1,Y[S]=Xe&&L===void 0?n:L,this}Ge.prototype.clear=yt,Ge.prototype.delete=vt,Ge.prototype.get=V_,Ge.prototype.has=K_,Ge.prototype.set=G_;function fr(S){var L=-1,Y=S==null?0:S.length;for(this.clear();++L<Y;){var ce=S[L];this.set(ce[0],ce[1])}}function Z_(){this.__data__=[],this.size=0}function Y_(S){var L=this.__data__,Y=ro(L,S);if(Y<0)return!1;var ce=L.length-1;return Y==ce?L.pop():Re.call(L,Y,1),--this.size,!0}function J_(S){var L=this.__data__,Y=ro(L,S);return Y<0?void 0:L[Y][1]}function X_(S){return ro(this.__data__,S)>-1}function Q_(S,L){var Y=this.__data__,ce=ro(Y,S);return ce<0?(++this.size,Y.push([S,L])):Y[ce][1]=L,this}fr.prototype.clear=Z_,fr.prototype.delete=Y_,fr.prototype.get=J_,fr.prototype.has=X_,fr.prototype.set=Q_;function rn(S){var L=-1,Y=S==null?0:S.length;for(this.clear();++L<Y;){var ce=S[L];this.set(ce[0],ce[1])}}function e7(){this.size=0,this.__data__={hash:new Ge,map:new(Je||fr),string:new Ge}}function t7(S){var L=no(this,S).delete(S);return this.size-=L?1:0,L}function r7(S){return no(this,S).get(S)}function n7(S){return no(this,S).has(S)}function i7(S,L){var Y=no(this,S),ce=Y.size;return Y.set(S,L),this.size+=Y.size==ce?0:1,this}rn.prototype.clear=e7,rn.prototype.delete=t7,rn.prototype.get=r7,rn.prototype.has=n7,rn.prototype.set=i7;function to(S){var L=-1,Y=S==null?0:S.length;for(this.__data__=new rn;++L<Y;)this.add(S[L])}function s7(S){return this.__data__.set(S,n),this}function o7(S){return this.__data__.has(S)}to.prototype.add=to.prototype.push=s7,to.prototype.has=o7;function Sr(S){var L=this.__data__=new fr(S);this.size=L.size}function a7(){this.__data__=new fr,this.size=0}function c7(S){var L=this.__data__,Y=L.delete(S);return this.size=L.size,Y}function l7(S){return this.__data__.get(S)}function u7(S){return this.__data__.has(S)}function h7(S,L){var Y=this.__data__;if(Y instanceof fr){var ce=Y.__data__;if(!Je||ce.length<r-1)return ce.push([S,L]),this.size=++Y.size,this;Y=this.__data__=new rn(ce)}return Y.set(S,L),this.size=Y.size,this}Sr.prototype.clear=a7,Sr.prototype.delete=c7,Sr.prototype.get=l7,Sr.prototype.has=u7,Sr.prototype.set=h7;function d7(S,L){var Y=io(S),ce=!Y&&D7(S),We=!Y&&!ce&&Mc(S),Ie=!Y&&!ce&&!We&&Bd(S),Qe=Y||ce||We||Ie,_t=Qe?Ze(S.length,String):[],St=_t.length;for(var Ye in S)(L||v.call(S,Ye))&&!(Qe&&(Ye=="length"||We&&(Ye=="offset"||Ye=="parent")||Ie&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||E7(Ye,St)))&&_t.push(Ye);return _t}function ro(S,L){for(var Y=S.length;Y--;)if(Ld(S[Y][0],L))return Y;return-1}function f7(S,L,Y){var ce=L(S);return io(S)?ce:$e(ce,Y(S))}function Hi(S){return S==null?S===void 0?H:M:Ht&&Ht in Object(S)?v7(S):I7(S)}function Pd(S){return zi(S)&&Hi(S)==a}function Td(S,L,Y,ce,We){return S===L?!0:S==null||L==null||!zi(S)&&!zi(L)?S!==S&&L!==L:p7(S,L,Y,ce,Td,We)}function p7(S,L,Y,ce,We,Ie){var Qe=io(S),_t=io(L),St=Qe?c:Ir(S),Ye=_t?c:Ir(L);St=St==a?x:St,Ye=Ye==a?x:Ye;var zt=St==x,Xt=Ye==x,Dt=St==Ye;if(Dt&&Mc(S)){if(!Mc(L))return!1;Qe=!0,zt=!1}if(Dt&&!zt)return Ie||(Ie=new Sr),Qe||Bd(S)?Nd(S,L,Y,ce,We,Ie):b7(S,L,St,Y,ce,We,Ie);if(!(Y&i)){var Gt=zt&&v.call(S,"__wrapped__"),Zt=Xt&&v.call(L,"__wrapped__");if(Gt||Zt){var Dr=Gt?S.value():S,pr=Zt?L.value():L;return Ie||(Ie=new Sr),We(Dr,pr,Y,ce,Ie)}}return Dt?(Ie||(Ie=new Sr),y7(S,L,Y,ce,We,Ie)):!1}function g7(S){if(!Fd(S)||C7(S))return!1;var L=Md(S)?k:ee;return L.test(nn(S))}function m7(S){return zi(S)&&Ud(S.length)&&!!ae[Hi(S)]}function w7(S){if(!S7(S))return eo(S);var L=[];for(var Y in Object(S))v.call(S,Y)&&Y!="constructor"&&L.push(Y);return L}function Nd(S,L,Y,ce,We,Ie){var Qe=Y&i,_t=S.length,St=L.length;if(_t!=St&&!(Qe&&St>_t))return!1;var Ye=Ie.get(S);if(Ye&&Ie.get(L))return Ye==L;var zt=-1,Xt=!0,Dt=Y&s?new to:void 0;for(Ie.set(S,L),Ie.set(L,S);++zt<_t;){var Gt=S[zt],Zt=L[zt];if(ce)var Dr=Qe?ce(Zt,Gt,zt,L,S,Ie):ce(Gt,Zt,zt,S,L,Ie);if(Dr!==void 0){if(Dr)continue;Xt=!1;break}if(Dt){if(!Me(L,function(pr,sn){if(!Pe(Dt,sn)&&(Gt===pr||We(Gt,pr,Y,ce,Ie)))return Dt.push(sn)})){Xt=!1;break}}else if(!(Gt===Zt||We(Gt,Zt,Y,ce,Ie))){Xt=!1;break}}return Ie.delete(S),Ie.delete(L),Xt}function b7(S,L,Y,ce,We,Ie,Qe){switch(Y){case X:if(S.byteLength!=L.byteLength||S.byteOffset!=L.byteOffset)return!1;S=S.buffer,L=L.buffer;case q:return!(S.byteLength!=L.byteLength||!Ie(new Ne(S),new Ne(L)));case p:case m:case N:return Ld(+S,+L);case b:return S.name==L.name&&S.message==L.message;case I:case h:return S==L+"";case A:var _t=me;case O:var St=ce&i;if(_t||(_t=Oe),S.size!=L.size&&!St)return!1;var Ye=Qe.get(S);if(Ye)return Ye==L;ce|=s,Qe.set(S,L);var zt=Nd(_t(S),_t(L),ce,We,Ie,Qe);return Qe.delete(S),zt;case _:if(ot)return ot.call(S)==ot.call(L)}return!1}function y7(S,L,Y,ce,We,Ie){var Qe=Y&i,_t=Rd(S),St=_t.length,Ye=Rd(L),zt=Ye.length;if(St!=zt&&!Qe)return!1;for(var Xt=St;Xt--;){var Dt=_t[Xt];if(!(Qe?Dt in L:v.call(L,Dt)))return!1}var Gt=Ie.get(S);if(Gt&&Ie.get(L))return Gt==L;var Zt=!0;Ie.set(S,L),Ie.set(L,S);for(var Dr=Qe;++Xt<St;){Dt=_t[Xt];var pr=S[Dt],sn=L[Dt];if(ce)var jd=Qe?ce(sn,pr,Dt,L,S,Ie):ce(pr,sn,Dt,S,L,Ie);if(!(jd===void 0?pr===sn||We(pr,sn,Y,ce,Ie):jd)){Zt=!1;break}Dr||(Dr=Dt=="constructor")}if(Zt&&!Dr){var so=S.constructor,oo=L.constructor;so!=oo&&"constructor"in S&&"constructor"in L&&!(typeof so=="function"&&so instanceof so&&typeof oo=="function"&&oo instanceof oo)&&(Zt=!1)}return Ie.delete(S),Ie.delete(L),Zt}function Rd(S){return f7(S,$7,_7)}function no(S,L){var Y=S.__data__;return x7(L)?Y[typeof L=="string"?"string":"hash"]:Y.map}function Tn(S,L){var Y=De(S,L);return g7(Y)?Y:void 0}function v7(S){var L=v.call(S,Ht),Y=S[Ht];try{S[Ht]=void 0;var ce=!0}catch{}var We=U.call(S);return ce&&(L?S[Ht]=Y:delete S[Ht]),We}var _7=tn?function(S){return S==null?[]:(S=Object(S),Le(tn(S),function(L){return Fe.call(S,L)}))}:P7,Ir=Hi;(rt&&Ir(new rt(new ArrayBuffer(1)))!=X||Je&&Ir(new Je)!=A||nt&&Ir(nt.resolve())!=D||it&&Ir(new it)!=O||st&&Ir(new st)!=j)&&(Ir=function(S){var L=Hi(S),Y=L==x?S.constructor:void 0,ce=Y?nn(Y):"";if(ce)switch(ce){case pt:return X;case gt:return A;case mt:return D;case wt:return O;case bt:return j}return L});function E7(S,L){return L=L??o,!!L&&(typeof S=="number"||pe.test(S))&&S>-1&&S%1==0&&S<L}function x7(S){var L=typeof S;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?S!=="__proto__":S===null}function C7(S){return!!T&&T in S}function S7(S){var L=S&&S.constructor,Y=typeof L=="function"&&L.prototype||g;return S===Y}function I7(S){return U.call(S)}function nn(S){if(S!=null){try{return d.call(S)}catch{}try{return S+""}catch{}}return""}function Ld(S,L){return S===L||S!==S&&L!==L}var D7=Pd(function(){return arguments}())?Pd:function(S){return zi(S)&&v.call(S,"callee")&&!Fe.call(S,"callee")},io=Array.isArray;function O7(S){return S!=null&&Ud(S.length)&&!Md(S)}var Mc=ki||T7;function A7(S,L){return Td(S,L)}function Md(S){if(!Fd(S))return!1;var L=Hi(S);return L==w||L==E||L==l||L==y}function Ud(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=o}function Fd(S){var L=typeof S;return S!=null&&(L=="object"||L=="function")}function zi(S){return S!=null&&typeof S=="object"}var Bd=Ee?Ke(Ee):m7;function $7(S){return O7(S)?d7(S):w7(S)}function P7(){return[]}function T7(){return!1}t.exports=A7})(la,la.exports);var d5=la.exports,f5=Object.defineProperty,ih=Object.getOwnPropertySymbols,p5=Object.prototype.hasOwnProperty,g5=Object.prototype.propertyIsEnumerable,sh=(t,e,r)=>e in t?f5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$t=(t,e)=>{for(var r in e||(e={}))p5.call(e,r)&&sh(t,r,e[r]);if(ih)for(var r of ih(e))g5.call(e,r)&&sh(t,r,e[r]);return t};function m5(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var A=0,N=0,M=0,x=E.length;M!==x&&E[M]===0;)M++,A++;for(var D=(x-M)*p+1>>>0,y=new Uint8Array(D);M!==x;){for(var I=E[M],O=0,h=D-1;(I!==0||O<N)&&h!==-1;h--,O++)I+=256*y[h]>>>0,y[h]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");N=O,M++}for(var _=D-N;_!==D&&y[_]===0;)_++;for(var H=c.repeat(A);_<D;++_)H+=t.charAt(y[_]);return H}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var A=0;if(E[A]!==" "){for(var N=0,M=0;E[A]===c;)N++,A++;for(var x=(E.length-A)*l+1>>>0,D=new Uint8Array(x);E[A];){var y=r[E.charCodeAt(A)];if(y===255)return;for(var I=0,O=x-1;(y!==0||I<M)&&O!==-1;O--,I++)y+=a*D[O]>>>0,D[O]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");M=I,A++}if(E[A]!==" "){for(var h=x-M;h!==x&&D[h]===0;)h++;for(var _=new Uint8Array(N+(x-h)),H=N;h!==x;)_[H++]=D[h++];return _}}}function w(E){var A=b(E);if(A)return A;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:b,decode:w}}var w5=m5,b5=w5;const oh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},y5=t=>new TextEncoder().encode(t),v5=t=>new TextDecoder().decode(t);class _5{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class E5{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ah(this,e)}}class x5{constructor(e){this.decoders=e}or(e){return ah(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ah=(t,e)=>new x5($t($t({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e}));class C5{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new _5(e,r,n),this.decoder=new E5(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const hs=({name:t,prefix:e,encode:r,decode:n})=>new C5(t,e,r,n),oi=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=b5(r,e);return hs({prefix:t,name:e,encode:n,decode:s=>oh(i(s))})},S5=(t,e,r,n)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let p=0;p<s;++p){const m=i[t[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|m,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},I5=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ct=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>hs({prefix:e,name:t,encode(i){return I5(i,n,r)},decode(i){return S5(i,n,r,t)}}),D5=hs({prefix:"\0",name:"identity",encode:t=>v5(t),decode:t=>y5(t)});var O5=Object.freeze({__proto__:null,identity:D5});const A5=Ct({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var $5=Object.freeze({__proto__:null,base2:A5});const P5=Ct({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var T5=Object.freeze({__proto__:null,base8:P5});const N5=oi({prefix:"9",name:"base10",alphabet:"0123456789"});var R5=Object.freeze({__proto__:null,base10:N5});const L5=Ct({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),M5=Ct({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var U5=Object.freeze({__proto__:null,base16:L5,base16upper:M5});const F5=Ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),B5=Ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),j5=Ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),k5=Ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H5=Ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),z5=Ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),W5=Ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),q5=Ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),V5=Ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var K5=Object.freeze({__proto__:null,base32:F5,base32upper:B5,base32pad:j5,base32padupper:k5,base32hex:H5,base32hexupper:z5,base32hexpad:W5,base32hexpadupper:q5,base32z:V5});const G5=oi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Z5=oi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Y5=Object.freeze({__proto__:null,base36:G5,base36upper:Z5});const J5=oi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),X5=oi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Q5=Object.freeze({__proto__:null,base58btc:J5,base58flickr:X5});const ew=Ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tw=Ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rw=Ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nw=Ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var iw=Object.freeze({__proto__:null,base64:ew,base64pad:tw,base64url:rw,base64urlpad:nw});const ch=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),sw=ch.reduce((t,e,r)=>(t[r]=e,t),[]),ow=ch.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function aw(t){return t.reduce((e,r)=>(e+=sw[r],e),"")}function cw(t){const e=[];for(const r of t){const n=ow[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const lw=hs({prefix:"\u{1F680}",name:"base256emoji",encode:aw,decode:cw});var uw=Object.freeze({__proto__:null,base256emoji:lw}),hw=uh,lh=128,dw=127,fw=~dw,pw=Math.pow(2,31);function uh(t,e,r){e=e||[],r=r||0;for(var n=r;t>=pw;)e[r++]=t&255|lh,t/=128;for(;t&fw;)e[r++]=t&255|lh,t>>>=7;return e[r]=t|0,uh.bytes=r-n+1,e}var gw=ua,mw=128,hh=127;function ua(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw ua.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&hh)<<i:(o&hh)*Math.pow(2,i),i+=7}while(o>=mw);return ua.bytes=s-n,r}var ww=Math.pow(2,7),bw=Math.pow(2,14),yw=Math.pow(2,21),vw=Math.pow(2,28),_w=Math.pow(2,35),Ew=Math.pow(2,42),xw=Math.pow(2,49),Cw=Math.pow(2,56),Sw=Math.pow(2,63),Iw=function(t){return t<ww?1:t<bw?2:t<yw?3:t<vw?4:t<_w?5:t<Ew?6:t<xw?7:t<Cw?8:t<Sw?9:10},Dw={encode:hw,decode:gw,encodingLength:Iw},dh=Dw;const fh=(t,e,r=0)=>(dh.encode(t,e,r),e),ph=t=>dh.encodingLength(t),ha=(t,e)=>{const r=e.byteLength,n=ph(t),i=n+ph(r),s=new Uint8Array(i+r);return fh(t,s,0),fh(r,s,n),s.set(e,i),new Ow(t,r,e,s)};class Ow{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const gh=({name:t,code:e,encode:r})=>new Aw(t,e,r);class Aw{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?ha(this.code,r):r.then(n=>ha(this.code,n))}else throw Error("Unknown type, must be binary type")}}const mh=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),$w=gh({name:"sha2-256",code:18,encode:mh("SHA-256")}),Pw=gh({name:"sha2-512",code:19,encode:mh("SHA-512")});var Tw=Object.freeze({__proto__:null,sha256:$w,sha512:Pw});const wh=0,Nw="identity",bh=oh;var Rw=Object.freeze({__proto__:null,identity:{code:wh,name:Nw,encode:bh,digest:t=>ha(wh,bh(t))}});new TextEncoder,new TextDecoder;const yh=$t($t($t($t($t($t($t($t($t($t({},O5),$5),T5),R5),U5),K5),Y5),Q5),iw),uw);$t($t({},Tw),Rw);function Lw(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function vh(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const _h=vh("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),da=vh("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Lw(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Mw=$t({utf8:_h,"utf-8":_h,hex:yh.base16,latin1:da,ascii:da,binary:da},yh);function Uw(t,e="utf8"){const r=Mw[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}const Eh="wc",Fw=2,fa="core",br=`${Eh}@${2}:${fa}:`,Bw={name:fa,logger:"error"},jw={database:":memory:"},kw="crypto",xh="client_ed25519_seed",Hw=de.ONE_DAY,zw="keychain",Ww="0.3",qw="messages",Vw="0.3",Kw=de.SIX_HOURS,Gw="publisher",Ch="irn",Zw="error",Sh="wss://relay.walletconnect.com",Yw="relayer",dt={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Jw="_subscription",ds={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Ih=de.ONE_SECOND,Xw="2.4.7",Qw="0.3",rr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},eb="subscription",tb="0.3",rb=de.FIVE_SECONDS*1e3,nb="pairing",ib="0.3",ai={wc_pairingDelete:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:de.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:de.ONE_DAY,prompt:!1,tag:0},res:{ttl:de.ONE_DAY,prompt:!1,tag:0}}},nr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},sb="history",ob="0.3",ab="expirer",Wt={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},cb="0.3";class lb{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=zw,this.version=Ww,this.initialized=!1,this.storagePrefix=br,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=se("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=je.generateChildLogger(r,this.name)}get context(){return je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,iu(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?su(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class ub{constructor(e,r,n){this.core=e,this.logger=r,this.name=kw,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Wu(i);return zu(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=hg();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=Wu(s),a=Ro();return await Em(a,i,Hw,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=dg(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||Jl(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=Xl(o),c=ri(s);if(Ql(a)){const b=a.senderPublicKey,w=a.receiverPublicKey;i=await this.generateSharedKey(b,w)}const l=this.getSymKey(i),{type:p,senderPublicKey:m}=a;return pg({type:p,symKey:l,message:c,senderPublicKey:m})},this.decode=async(i,s,o)=>{this.isInitialized();const a=wg(s,o);if(Ql(a)){const p=a.receiverPublicKey,m=a.senderPublicKey;i=await this.generateSharedKey(p,m)}const c=this.getSymKey(i),l=gg({symKey:c,encoded:s});return ea(l)},this.core=e,this.logger=je.generateChildLogger(r,this.name),this.keychain=n||new lb(this.core,this.logger)}get context(){return je.getLoggerContext(this.logger)}getPayloadType(e){const r=Lo(e);return Bn(r.type)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(xh)}catch{e=Ro(),await this.keychain.set(xh,e)}return Uw(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class hb extends tm{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=qw,this.version=Vw,this.initialized=!1,this.storagePrefix=br,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=ts(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=ts(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=je.generateChildLogger(e,this.name),this.core=r}get context(){return je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,iu(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?su(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class db extends rm{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Et.exports.EventEmitter,this.name=Gw,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(n,i,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const o=s?.ttl||Kw,a=Uo(s),c=s?.prompt||!1,l=s?.tag||0,p={topic:n,message:i,opts:{ttl:o,relay:a,prompt:c,tag:l}},m=ts(i);this.queue.set(m,p);try{await await Mo(this.rpcPublish(n,i,o,a,c,l),this.publishTimeout),this.relayer.events.emit(dt.publish,p)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(dt.connection_stalled);return}this.onPublish(m,p),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=je.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return je.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o){var a,c,l,p;const m={method:rs(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o}};return Ot((a=m.params)==null?void 0:a.prompt)&&((c=m.params)==null||delete c.prompt),Ot((l=m.params)==null?void 0:l.tag)&&((p=m.params)==null||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m}),this.relayer.provider.request(m)}onPublish(e,r){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Jn.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class fb{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var pb=Object.defineProperty,gb=Object.defineProperties,mb=Object.getOwnPropertyDescriptors,Dh=Object.getOwnPropertySymbols,wb=Object.prototype.hasOwnProperty,bb=Object.prototype.propertyIsEnumerable,Oh=(t,e,r)=>e in t?pb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ci=(t,e)=>{for(var r in e||(e={}))wb.call(e,r)&&Oh(t,r,e[r]);if(Dh)for(var r of Dh(e))bb.call(e,r)&&Oh(t,r,e[r]);return t},pa=(t,e)=>gb(t,mb(e));class yb extends sm{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new fb,this.events=new Et.exports.EventEmitter,this.name=eb,this.version=tb,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=br,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=Uo(i),o={topic:n,relay:s};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,s)=>{const o=new de.Watch;o.start(this.pendingSubscriptionWatchLabel);const a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=rb&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pollingInterval)}),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=je.generateChildLogger(r,this.name),this.clientId=""}get context(){return je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=Uo(n);await this.rpcUnsubscribe(e,r,i);const s=tt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){const n={method:rs(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Mo(this.relayer.provider.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(dt.connection_stalled)}return ts(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:rs(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Mo(this.relayer.provider.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(dt.connection_stalled)}}rpcUnsubscribe(e,r,n){const i={method:rs(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.provider.request(i)}onSubscribe(e,r){this.setSubscription(e,pa(ci({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,ci({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,ci({},r)),this.topicMap.set(r.topic,e),this.events.emit(rr.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(rr.deleted,pa(ci({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(rr.sync)}async reset(){if(!this.cached.length)return;const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}this.events.emit(rr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);this.onBatchSubscribe(r.map((n,i)=>pa(ci({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Jn.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(dt.connect,async()=>{await this.onConnect()}),this.relayer.on(dt.disconnect,()=>{this.onDisconnect()}),this.events.on(rr.created,async e=>{const r=rr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(rr.deleted,async e=>{const r=rr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var vb=Object.defineProperty,Ah=Object.getOwnPropertySymbols,_b=Object.prototype.hasOwnProperty,Eb=Object.prototype.propertyIsEnumerable,$h=(t,e,r)=>e in t?vb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xb=(t,e)=>{for(var r in e||(e={}))_b.call(e,r)&&$h(t,r,e[r]);if(Ah)for(var r of Ah(e))Eb.call(e,r)&&$h(t,r,e[r]);return t};class Cb extends nm{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Et.exports.EventEmitter,this.name=Yw,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?je.generateChildLogger(e.logger,this.name):zn(je.getDefaultLoggerOptions({level:e.logger||Zw})),this.messages=new hb(this.logger,e.core),this.subscriber=new yb(this,this.logger),this.publisher=new db(this,this.logger),this.relayUrl=e?.relayUrl||Sh,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.provider=await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return je.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){this.isInitialized();let n="";return await Promise.all([new Promise(i=>{this.subscriber.once(rr.created,s=>{s.topic===e&&i()})}),new Promise(async i=>{n=await this.subscriber.subscribe(e,r),i()})]),n}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(dt.transport_closed))}async transportOpen(e){if(!this.reconnecting){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1,this.reconnecting=!0;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(rr.resubscribed,()=>{r()})}),await Promise.race([new Promise(async r=>{await this.provider.connect(),this.removeListener(dt.transport_closed,this.rejectTransportOpen),r()}),new Promise(r=>this.once(dt.transport_closed,this.rejectTransportOpen))])])}catch(r){const n=r;if(!/socket hang up/i.test(n.message))throw r;this.logger.error(r),this.events.emit(dt.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||(await this.transportClose(),await new Promise(r=>setTimeout(r,Ih)),await this.transportOpen(e))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){const e=await this.core.crypto.signJWT(this.relayUrl);return new si(new h5(Pg({sdkVersion:Xw,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),aa(e)){if(!e.method.endsWith(Jw))return;const r=e.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(xb({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(dt.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=oa(e.id,!0);await this.provider.connection.send(r)}registerEventListeners(){this.provider.on(ds.payload,e=>this.onProviderPayload(e)),this.provider.on(ds.connect,()=>{this.events.emit(dt.connect)}),this.provider.on(ds.disconnect,()=>{this.events.emit(dt.disconnect),this.attemptToReconnect()}),this.provider.on(ds.error,e=>this.events.emit(dt.error,e)),this.events.on(dt.connection_stalled,async()=>{await this.restartTransport()})}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.transportOpen()},de.toMiliseconds(Ih))}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Sb=Object.defineProperty,Ph=Object.getOwnPropertySymbols,Ib=Object.prototype.hasOwnProperty,Db=Object.prototype.propertyIsEnumerable,Th=(t,e,r)=>e in t?Sb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nh=(t,e)=>{for(var r in e||(e={}))Ib.call(e,r)&&Th(t,r,e[r]);if(Ph)for(var r of Ph(e))Db.call(e,r)&&Th(t,r,e[r]);return t};class fs extends im{constructor(e,r,n,i=br,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=Qw,this.cached=[],this.initialized=!1,this.storagePrefix=br,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{Xg(o)?this.map.set(o.id,o):Qg(o)?this.map.set(o.topic,o):this.getKey&&o!==null&&!Ot(o)&&this.map.set(this.getKey(o),o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>d5(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Nh(Nh({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=je.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Ob{constructor(e,r){this.core=e,this.logger=r,this.name=nb,this.version=ib,this.events=new Et.exports,this.initialized=!1,this.storagePrefix=br,this.ignoredPayloadTypes=[Tr],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Ro(),i=await this.core.crypto.setSymKey(n),s=er(de.FIVE_MINUTES),o={protocol:Ch},a={topic:i,expiry:s,relay:o,active:!1},c=Hg({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:c}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:o}=jg(n.uri),a=er(de.FIVE_MINUTES),c={topic:i,relay:o,expiry:a,active:!1};return await this.pairings.set(i,c),await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o}),this.core.expirer.set(i,a),n.activatePairing&&await this.activate({topic:i}),c},this.activate=async({topic:n})=>{this.isInitialized();const i=er(de.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Rr();this.events.once(et("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",tt("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const o=ls(i,s),a=await this.core.crypto.encode(n,o),c=ai[i].req;return this.core.history.set(n,o),await this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=oa(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=ai[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=us(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=ai[c.request.method]?ai[c.request.method].res:ai.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,tt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>mr(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n,o=s.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit("pairing_ping",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{hr(i)?this.events.emit(et("pairing_ping",s),{}):Jt(i)&&this.events.emit(et("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=tt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(tt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!Rt(n)){const{message:i}=se("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!Jg(n.uri)){const{message:i}=se("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!Rt(n)){const{message:s}=se("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Rt(n)){const{message:s}=se("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!ht(n,!1)){const{message:i}=se("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(mr(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=se("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=je.generateChildLogger(r,this.name),this.pairings=new fs(this.core,this.logger,this.name,this.storagePrefix)}get context(){return je.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(dt.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);aa(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):ca(i)&&(await this.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.core.expirer.on(Wt.expired,async e=>{const{topic:r}=au(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}}class Ab extends em{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Et.exports.EventEmitter,this.name=sb,this.version=ob,this.cached=[],this.initialized=!1,this.storagePrefix=br,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(nr.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Jt(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(nr.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(nr.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=je.generateChildLogger(r,this.name)}get context(){return je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:ls(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(nr.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(nr.created,e=>{const r=nr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(nr.updated,e=>{const r=nr.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(nr.deleted,e=>{const r=nr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}class $b extends om{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Et.exports.EventEmitter,this.name=ab,this.version=cb,this.cached=[],this.initialized=!1,this.storagePrefix=br,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Wt.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Wt.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=je.generateChildLogger(r,this.name)}get context(){return je.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Tg(e);if(typeof e=="number")return Ng(e);const{message:r}=se("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Wt.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;de.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Wt.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Jn.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Wt.created,e=>{const r=Wt.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Wt.expired,e=>{const r=Wt.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Wt.deleted,e=>{const r=Wt.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Pb=Object.defineProperty,Rh=Object.getOwnPropertySymbols,Tb=Object.prototype.hasOwnProperty,Nb=Object.prototype.propertyIsEnumerable,Lh=(t,e,r)=>e in t?Pb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mh=(t,e)=>{for(var r in e||(e={}))Tb.call(e,r)&&Lh(t,r,e[r]);if(Rh)for(var r of Rh(e))Nb.call(e,r)&&Lh(t,r,e[r]);return t};class ga extends Q3{constructor(e){super(e),this.protocol=Eh,this.version=Fw,this.name=fa,this.events=new Et.exports.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Sh;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:zn(je.getDefaultLoggerOptions({level:e?.logger||Bw.logger}));this.logger=je.generateChildLogger(r,this.name),this.heartbeat=new Jn.HeartBeat,this.crypto=new ub(this,this.logger,e?.keychain),this.history=new Ab(this,this.logger),this.expirer=new $b(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new s3(Mh(Mh({},jw),e?.storageOptions)),this.relayer=new Cb({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ob(this,this.logger)}static async init(e){const r=new ga(e);return await r.initialize(),r}get context(){return je.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const Rb=ga,Uh="wc",Fh=2,Bh="client",ma=`${Uh}@${Fh}:${Bh}:`,wa={name:Bh,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},Lb="proposal",jh="Proposal expired",Mb="session",ps=de.SEVEN_DAYS,Ub="engine",li={wc_sessionPropose:{req:{ttl:de.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1104},res:{ttl:de.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1106},res:{ttl:de.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:de.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:de.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1112},res:{ttl:de.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1115}}},ba={min:de.FIVE_MINUTES,max:de.SEVEN_DAYS},Fb="request";var Bb=Object.defineProperty,jb=Object.defineProperties,kb=Object.getOwnPropertyDescriptors,kh=Object.getOwnPropertySymbols,Hb=Object.prototype.hasOwnProperty,zb=Object.prototype.propertyIsEnumerable,Hh=(t,e,r)=>e in t?Bb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qt=(t,e)=>{for(var r in e||(e={}))Hb.call(e,r)&&Hh(t,r,e[r]);if(kh)for(var r of kh(e))zb.call(e,r)&&Hh(t,r,e[r]);return t},ya=(t,e)=>jb(t,kb(e));class Wb extends cm{constructor(e){super(e),this.name=Ub,this.events=new Et.exports,this.initialized=!1,this.ignoredPayloadTypes=[Tr],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(li)}),this.initialized=!0)},this.connect=async r=>{this.isInitialized();const n=ya(qt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let l=i,p,m=!1;if(l&&(m=this.client.core.pairing.pairings.get(l).active),!l||!m){const{topic:D,uri:y}=await this.client.core.pairing.create();l=D,p=y}const b=await this.client.core.crypto.generateKeyPair(),w=qt({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:Ch}],proposer:{publicKey:b,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:E,resolve:A,done:N}=Rr(de.FIVE_MINUTES,jh);if(this.events.once(et("session_connect"),async({error:D,session:y})=>{if(D)E(D);else if(y){y.self.publicKey=b;const I=ya(qt({},y),{requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces});await this.client.session.set(y.topic,I),await this.setExpiry(y.topic,y.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:y.peer.metadata}),A(I)}}),!l){const{message:D}=se("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(D)}const M=await this.sendRequest(l,"wc_sessionPropose",w),x=er(de.FIVE_MINUTES);return await this.setProposal(M,qt({id:M,expiry:x},w)),{uri:p,approval:N}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=r,a=this.client.proposal.get(n);let{pairingTopic:c,proposer:l,requiredNamespaces:p,optionalNamespaces:m}=a;Hn(p)||(p=Vg(s,"approve()"));const b=await this.client.core.crypto.generateKeyPair(),w=l.publicKey,E=await this.client.core.crypto.generateSharedKey(b,w);c&&n&&(await this.client.core.pairing.updateMetadata({topic:c,metadata:l.metadata}),await this.sendResult(n,c,{relay:{protocol:i??"irn"},responderPublicKey:b}),await this.client.proposal.delete(n,tt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:c}));const A=qt({relay:{protocol:i??"irn"},namespaces:s,requiredNamespaces:p,optionalNamespaces:m,controller:{publicKey:b,metadata:this.client.metadata},expiry:er(ps)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(E);const N=await this.sendRequest(E,"wc_sessionSettle",A),{done:M,resolve:x,reject:D}=Rr();this.events.once(et("session_approve",N),({error:I})=>{I?D(I):x(this.client.session.get(E))});const y=ya(qt({},A),{topic:E,acknowledged:!1,self:A.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:b});return await this.client.session.set(E,y),await this.setExpiry(E,er(ps)),{topic:E,acknowledged:M}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);const{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,tt("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:i}=r,s=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:i}),{done:o,resolve:a,reject:c}=Rr();return this.events.once(et("session_update",s),({error:l})=>{l?c(l):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,i=await this.sendRequest(n,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=Rr();return this.events.once(et("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,er(ps)),{acknowledged:s}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:i,topic:s,expiry:o}=r,a=await this.sendRequest(s,"wc_sessionRequest",{request:i,chainId:n},o),{done:c,resolve:l,reject:p}=Rr(o);return this.events.once(et("session_request",a),({error:m,result:b})=>{m?p(m):l(b)}),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n}),await c()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i;hr(i)?await this.sendResult(s,n,i.result):Jt(i)&&await this.sendError(s,n,i.error),this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0})},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=await this.sendRequest(n,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=Rr();this.events.once(et("session_ping",i),({error:c})=>{c?a(c):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r;await this.sendRequest(n,"wc_sessionEvent",{event:i,chainId:s})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest(n,"wc_sessionDelete",tt("USER_DISCONNECTED")),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Zg(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(r,n)=>{const{self:i}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.session.delete(r,tt("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.deleteSymKey(r),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,tt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=li.wc_sessionRequest.req.ttl,{id:i,topic:s,params:o}=r;await this.client.pendingRequest.set(i,{id:i,topic:s,params:o}),n&&this.client.core.expirer.set(i,er(n))},this.sendRequest=async(r,n,i,s)=>{const o=ls(n,i),a=await this.client.core.crypto.encode(r,o),c=li[n].req;return s&&(c.ttl=s),this.client.core.history.set(r,o),this.client.core.relayer.publish(r,a,c),o.id},this.sendResult=async(r,n,i)=>{const s=oa(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=li[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.sendError=async(r,n,i)=>{const s=us(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=li[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{mr(i.expiry)&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{mr(i.expiry)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=r=>{const{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidConnect(qt({},n.params));const o=er(de.FIVE_MINUTES),a=qt({id:s,pairingTopic:r,expiry:o},i);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{const{id:i}=n;if(hr(n)){const{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const l=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});const p=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:r})}else Jt(n)&&(await this.client.proposal.delete(i,tt("USER_DISCONNECTED")),this.events.emit(et("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,requiredNamespaces:p,optionalNamespaces:m,sessionProperties:b}=n.params,w=qt({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,requiredNamespaces:p,optionalNamespaces:m,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},b&&{sessionProperties:b});await this.sendResult(n.id,r,!0),this.events.emit(et("session_connect"),{session:w})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;hr(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(et("session_approve",i),{})):Jt(n)&&(await this.client.session.delete(r,tt("USER_DISCONNECTED")),this.events.emit(et("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidUpdate(qt({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult(s,r,!0),this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n;hr(n)?this.events.emit(et("session_update",i),{}):Jt(n)&&this.events.emit(et("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,er(ps)),await this.sendResult(i,r,!0),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n;hr(n)?this.events.emit(et("session_extend",i),{}):Jt(n)&&this.events.emit(et("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n;setTimeout(()=>{hr(n)?this.events.emit(et("session_ping",i),{}):Jt(n)&&this.events.emit(et("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),this.client.core.relayer.once(dt.publish,async()=>{await this.deleteSession(r)}),await this.sendResult(i,r,!0),this.client.events.emit("session_delete",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidRequest(qt({topic:r},s)),await this.setPendingSessionRequest({id:i,topic:r,params:s}),this.client.events.emit("session_request",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n;hr(n)?this.events.emit(et("session_request",i),{result:n.result}):Jt(n)&&this.events.emit(et("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidEmit(qt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.isValidConnect=async r=>{if(!Rt(r)){const{message:c}=se("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(Ot(n)||await this.isValidPairingTopic(n),!a2(a,!0)){const{message:c}=se("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!Ot(i)&&Hn(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Ot(s)&&Hn(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Ot(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=o2(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!Rt(r))throw new Error(se("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=ns(i,"approve()");if(c)throw new Error(c.message);const l=pu(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!ht(s,!0)){const{message:p}=se("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(p)}Ot(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!Rt(r)){const{message:s}=se("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(await this.isValidProposalId(n),!l2(i)){const{message:s}=se("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Rt(r)){const{message:l}=se("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!du(n)){const{message:l}=se("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=e2(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=ns(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(mr(o)){const{message:l}=se("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!Rt(r)){const{message:c}=se("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=ns(i,"update()");if(o)throw new Error(o.message);const a=pu(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Rt(r)){const{message:i}=se("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Rt(r)){const{message:c}=se("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!fu(a,s)){const{message:c}=se("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!u2(i)){const{message:c}=se("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!f2(a,s,i.method)){const{message:c}=se("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!w2(o,ba)){const{message:c}=se("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${ba.min} and ${ba.max}`);throw new Error(c)}},this.isValidRespond=async r=>{if(!Rt(r)){const{message:s}=se("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(s)}const{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!h2(i)){const{message:s}=se("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidPing=async r=>{if(!Rt(r)){const{message:i}=se("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Rt(r)){const{message:a}=se("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!fu(o,s)){const{message:a}=se("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!d2(i)){const{message:a}=se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!p2(o,s,i.name)){const{message:a}=se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Rt(r)){const{message:i}=se("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!ht(i,!1)){const{message:s}=se("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}isInitialized(){if(!this.initialized){const{message:e}=se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(dt.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(r,n);aa(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):ca(i)&&(await this.client.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.client.core.expirer.on(Wt.expired,async e=>{const{topic:r,id:n}=au(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,se("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!ht(e,!1)){const{message:r}=se("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(mr(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=se("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!ht(e,!1)){const{message:r}=se("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=se("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(mr(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:r}=se("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ht(e,!1)){const{message:r}=se("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=se("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!c2(e)){const{message:r}=se("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=se("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(mr(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:r}=se("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class qb extends fs{constructor(e,r){super(e,r,Lb,ma),this.core=e,this.logger=r}}class Vb extends fs{constructor(e,r){super(e,r,Mb,ma),this.core=e,this.logger=r}}class Kb extends fs{constructor(e,r){super(e,r,Fb,ma),this.core=e,this.logger=r}}class va extends am{constructor(e){super(e),this.protocol=Uh,this.version=Fh,this.name=wa.name,this.events=new Et.exports.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||wa.name,this.metadata=e?.metadata||Dg();const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:zn(je.getDefaultLoggerOptions({level:e?.logger||wa.logger}));this.core=e?.core||new Rb(e),this.logger=je.generateChildLogger(r,this.name),this.session=new Vb(this.core,this.logger),this.proposal=new qb(this.core,this.logger),this.pendingRequest=new Kb(this.core,this.logger),this.engine=new Wb(this)}static async init(e){const r=new va(e);return await r.initialize(),r}get context(){return je.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var _a={exports:{}};(function(t,e){var r=typeof self<"u"?self:ut,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(C){return C&&l.indexOf(Object.prototype.toString.call(C))>-1};function m(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}function b(C){return typeof C!="string"&&(C=String(C)),C}function w(C){var $={next:function(){var G=C.shift();return{done:G===void 0,value:G}}};return a.iterable&&($[Symbol.iterator]=function(){return $}),$}function E(C){this.map={},C instanceof E?C.forEach(function($,G){this.append(G,$)},this):Array.isArray(C)?C.forEach(function($){this.append($[0],$[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function($){this.append($,C[$])},this)}E.prototype.append=function(C,$){C=m(C),$=b($);var G=this.map[C];this.map[C]=G?G+", "+$:$},E.prototype.delete=function(C){delete this.map[m(C)]},E.prototype.get=function(C){return C=m(C),this.has(C)?this.map[C]:null},E.prototype.has=function(C){return this.map.hasOwnProperty(m(C))},E.prototype.set=function(C,$){this.map[m(C)]=b($)},E.prototype.forEach=function(C,$){for(var G in this.map)this.map.hasOwnProperty(G)&&C.call($,this.map[G],G,this)},E.prototype.keys=function(){var C=[];return this.forEach(function($,G){C.push(G)}),w(C)},E.prototype.values=function(){var C=[];return this.forEach(function($){C.push($)}),w(C)},E.prototype.entries=function(){var C=[];return this.forEach(function($,G){C.push([G,$])}),w(C)},a.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function A(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function N(C){return new Promise(function($,G){C.onload=function(){$(C.result)},C.onerror=function(){G(C.error)}})}function M(C){var $=new FileReader,G=N($);return $.readAsArrayBuffer(C),G}function x(C){var $=new FileReader,G=N($);return $.readAsText(C),G}function D(C){for(var $=new Uint8Array(C),G=new Array($.length),K=0;K<$.length;K++)G[K]=String.fromCharCode($[K]);return G.join("")}function y(C){if(C.slice)return C.slice(0);var $=new Uint8Array(C.byteLength);return $.set(new Uint8Array(C)),$.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(C){this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:a.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:a.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():a.arrayBuffer&&a.blob&&c(C)?(this._bodyArrayBuffer=y(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||p(C))?this._bodyArrayBuffer=y(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var C=A(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var C=A(this);if(C)return C;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(C){var $=C.toUpperCase();return O.indexOf($)>-1?$:C}function _(C,$){$=$||{};var G=$.body;if(C instanceof _){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,$.headers||(this.headers=new E(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!G&&C._bodyInit!=null&&(G=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new E($.headers)),this.method=h($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(G)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function H(C){var $=new FormData;return C.trim().split("&").forEach(function(G){if(G){var K=G.split("="),W=K.shift().replace(/\+/g," "),z=K.join("=").replace(/\+/g," ");$.append(decodeURIComponent(W),decodeURIComponent(z))}}),$}function j(C){var $=new E,G=C.replace(/\r?\n[\t ]+/g," ");return G.split(/\r?\n/).forEach(function(K){var W=K.split(":"),z=W.shift().trim();if(z){var J=W.join(":").trim();$.append(z,J)}}),$}I.call(_.prototype);function q(C,$){$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in $?$.statusText:"OK",this.headers=new E($.headers),this.url=$.url||"",this._initBody(C)}I.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},q.error=function(){var C=new q(null,{status:0,statusText:""});return C.type="error",C};var X=[301,302,303,307,308];q.redirect=function(C,$){if(X.indexOf($)===-1)throw new RangeError("Invalid status code");return new q(null,{status:$,headers:{location:C}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function($,G){this.message=$,this.name=G;var K=Error($);this.stack=K.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function re(C,$){return new Promise(function(G,K){var W=new _(C,$);if(W.signal&&W.signal.aborted)return K(new o.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function J(){z.abort()}z.onload=function(){var Z={status:z.status,statusText:z.statusText,headers:j(z.getAllResponseHeaders()||"")};Z.url="responseURL"in z?z.responseURL:Z.headers.get("X-Request-URL");var le="response"in z?z.response:z.responseText;G(new q(le,Z))},z.onerror=function(){K(new TypeError("Network request failed"))},z.ontimeout=function(){K(new TypeError("Network request failed"))},z.onabort=function(){K(new o.DOMException("Aborted","AbortError"))},z.open(W.method,W.url,!0),W.credentials==="include"?z.withCredentials=!0:W.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&a.blob&&(z.responseType="blob"),W.headers.forEach(function(Z,le){z.setRequestHeader(le,Z)}),W.signal&&(W.signal.addEventListener("abort",J),z.onreadystatechange=function(){z.readyState===4&&W.signal.removeEventListener("abort",J)}),z.send(typeof W._bodyInit>"u"?null:W._bodyInit)})}return re.polyfill=!0,s.fetch||(s.fetch=re,s.Headers=E,s.Request=_,s.Response=q),o.Headers=E,o.Request=_,o.Response=q,o.fetch=re,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(_a,_a.exports);var zh=kd(_a.exports);const Wh={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},qh=10;class gs{constructor(e){if(this.url=e,this.events=new Et.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!eh(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const n=ri(e),s=await(await zh(this.url,Object.assign(Object.assign({},Wh),{body:n}))).json();this.onPayload({data:s})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!eh(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{const r=ri({id:1,jsonrpc:"2.0",method:"test",params:[]});await zh(e,Object.assign(Object.assign({},Wh),{body:r})),this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?ea(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=us(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Gu(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>qh&&this.events.setMaxListeners(qh)}}const Vh="error",Gb="wss://relay.walletconnect.com",Zb="wc",Yb="universal_provider",Kh=`${Zb}@${2}:${Yb}:`,Jb="https://rpc.walletconnect.com/v1",ui={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function fn(t,e,r){let n;const i=Ea(t);return e.rpcMap&&(n=e.rpcMap[i]),n||(n=`${Jb}?chainId=eip155:${i}&projectId=${r}`),n}function Ea(t){return t.includes("eip155")?Number(t.split(":")[1]):Number(t)}function Xb(t,e){if(!e.includes(t))throw new Error(`Chain '${t}' not approved. Please use one of the following: ${e.toString()}`)}function Qb(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}const ms=(t,e)=>{const r=n=>{n.request!==e.request||n.topic!==e.topic||(t.events.removeListener("session_request_sent",r),ey())};t.on("session_request_sent",r)};function ey(){if(typeof window<"u")try{const t=window.localStorage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(t){const e=JSON.parse(t);window.open(e.href,"_self","noreferrer noopener")}}catch(t){console.error(t)}}class ty{constructor(e){this.name="eip155",this.namespace=e.namespace,this.client=e.client,this.events=e.events,this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){var r;switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?(ms(this.client,e),await this.client.request(e)):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){const n=Ea(e);if(!this.httpProviders[n]){const i=r||fn(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,i)}this.chainId=n,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${n}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||fn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new si(new gs(n))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=Ea(r);e[n]=this.createHttpProvider(n)}),e}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}handleSwitchChain(e){const r=parseInt(e,16),n=`${this.name}:${r}`;Xb(n,this.namespace.chains),this.setDefaultChain(`${r}`)}}class ry{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?(ms(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||fn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||fn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new si(new gs(n))}}class ny{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(ms(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||fn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||fn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new si(new gs(n))}}class iy{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(ms(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r);e[r]=this.createHttpProvider(r,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);return typeof n>"u"?void 0:new si(new gs(n))}}var sy=Object.defineProperty,oy=Object.defineProperties,ay=Object.getOwnPropertyDescriptors,Gh=Object.getOwnPropertySymbols,cy=Object.prototype.hasOwnProperty,ly=Object.prototype.propertyIsEnumerable,Zh=(t,e,r)=>e in t?sy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ws=(t,e)=>{for(var r in e||(e={}))cy.call(e,r)&&Zh(t,r,e[r]);if(Gh)for(var r of Gh(e))ly.call(e,r)&&Zh(t,r,e[r]);return t},xa=(t,e)=>oy(t,ay(e));class Ca{constructor(e){this.events=new Et.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:zn(je.getDefaultLoggerOptions({level:e?.logger||Vh}))}static async init(e){const r=new Ca(e);return await r.initialize(),r}async request(e,r){const[n,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:ws({},e),chainId:`${n}:${i}`,topic:this.session.topic})}sendAsync(e,r,n){this.request(e,n).then(i=>r(null,i)).catch(i=>r(i,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:tt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await i().then(s=>{this.session=s}).catch(s=>{if(s.message!==jh)throw s;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,r){try{const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(wr(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await va.init({logger:this.providerOpts.logger||Vh,relayUrl:this.providerOpts.relayUrl||Gb,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");Object.keys(this.namespaces).forEach(e=>{var r,n,i;const s=((r=this.session)==null?void 0:r.namespaces[e].accounts)||[],o=Qb(s),a=xa(ws({},Object.assign(this.namespaces[e],(i=(n=this.optionalNamespaces)==null?void 0:n[e])!=null?i:{})),{accounts:s,chains:o});switch(e){case"eip155":this.rpcProviders[e]=new ty({client:this.client,namespace:a,events:this.events});break;case"solana":this.rpcProviders[e]=new ry({client:this.client,namespace:a,events:this.events});break;case"cosmos":this.rpcProviders[e]=new ny({client:this.client,namespace:a,events:this.events});break;case"polkadot":break;case"cip34":this.rpcProviders[e]=new iy({client:this.client,namespace:a,events:this.events});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?this.events.emit("accountsChanged",n.data):n.name==="chainChanged"?this.onChainChanged(r.chainId):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n;const{namespaces:i}=r,s=(n=this.client)==null?void 0:n.session.get(e);this.session=xa(ws({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",xa(ws({},tt("USER_DISCONNECTED")),{data:e.topic}))}),this.on(ui.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:i}=e;if(!r||!Object.keys(r).length)throw new Error("Namespaces must be not empty");this.namespaces=r,this.optionalNamespaces=n,this.sessionProperties=i,this.persist("namespaces",r),this.persist("optionalNamespaces",n)}validateChain(e){const[r,n]=e?.split(":")||["",""];if(r&&!Object.keys(this.namespaces).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Object.keys(this.namespaces)[0],s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,r=!1){const[n,i]=this.validateChain(e);r||this.getProvider(n).setDefaultChain(i),this.namespaces[n].defaultChain=i,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(e,r){this.client.core.storage.setItem(`${Kh}/${e}`,r)}async getFromStore(e){return await this.client.core.storage.getItem(`${Kh}/${e}`)}}const uy=Ca,hy="wc",dy="ethereum_provider",fy=`${hy}@${2}:${dy}:`,py="https://rpc.walletconnect.com/v1/",bs=["eth_sendTransaction","personal_sign"],gy=["eth_accounts","eth_requestAccounts","eth_call","eth_getBalance","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],ys=["chainChanged","accountsChanged"],my=["message","disconnect","connect"];var wy=Object.defineProperty,by=Object.defineProperties,yy=Object.getOwnPropertyDescriptors,Yh=Object.getOwnPropertySymbols,vy=Object.prototype.hasOwnProperty,_y=Object.prototype.propertyIsEnumerable,Jh=(t,e,r)=>e in t?wy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xh=(t,e)=>{for(var r in e||(e={}))vy.call(e,r)&&Jh(t,r,e[r]);if(Yh)for(var r of Yh(e))_y.call(e,r)&&Jh(t,r,e[r]);return t},Qh=(t,e)=>by(t,yy(e));function Sa(t){return Number(t[0].split(":")[1])}function Ia(t){return`0x${t.toString(16)}`}function Ey(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!wr(e))throw new Error("Invalid chains");const c=e,l=n||bs,p=s||ys,m={[Sa(c)]:a[Sa(c)]},b={chains:c,methods:l,events:p,rpcMap:m},w=s?.filter(M=>!ys.includes(M)),E=n?.filter(M=>!bs.includes(M));if(!r&&!o&&!i&&!(w!=null&&w.length)&&!(E!=null&&E.length))return{required:b};const A=w?.length&&E?.length||!r,N={chains:[...new Set(A?c.concat(r||[]):r)],methods:[...new Set(l.concat(i||[]))],events:[...new Set(p.concat(o||[]))],rpcMap:a};return{required:b,optional:N}}class vs{constructor(){this.events=new Et.exports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=fy,this.on=(e,r)=>(this.events.on(e,r),this),this.once=(e,r)=>(this.events.once(e,r),this),this.removeListener=(e,r)=>(this.events.removeListener(e,r),this),this.off=(e,r)=>(this.events.off(e,r),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const r=new vs;return await r.initialize(e),r}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,r){this.signer.sendAsync(e,r,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:n}=Ey(this.rpc);try{const i=await new Promise(async(o,a)=>{var c;this.rpc.showQrModal&&((c=this.modal)==null||c.subscribeModal(l=>{!l.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(Qh(Xh({namespaces:{[this.namespace]:r}},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic})).then(l=>{o(l)}).catch(l=>{a(new Error(l.message))})});if(!i)return;this.setChainIds(this.rpc.chains);const s=lg(i.namespaces,[this.namespace]);this.setAccounts(s),this.events.emit("connect",{chainId:Ia(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",Ia(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Qh(Xh({},tt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var r,n;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(n=this.modal)==null||n.openModal({uri:e})),this.events.emit("display_uri",e)})}setHttpProvider(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Ia(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.setHttpProvider(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;return{chains:((r=e.chains)==null?void 0:r.map(i=>this.formatChainId(i)))||[`${this.namespace}:1`],optionalChains:e.optionalChains?e.optionalChains.map(i=>this.formatChainId(i)):void 0,methods:e?.methods||bs,events:e?.events||ys,optionalMethods:e?.optionalMethods||[],optionalEvents:e?.optionalEvents||[],rpcMap:e?.rpcMap||this.buildRpcMap(e.chains.concat(e.optionalChains||[]),e.projectId),showQrModal:(n=e?.showQrModal)!=null?n:!0,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=Sa(this.rpc.chains),this.signer=await uy.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){const{Web3Modal:r}=await Promise.resolve().then(function(){return qy});this.modal=new r({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains})}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&wr(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),n&&wr(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${py}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(e?[this.formatChainId(e)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const xy=vs,Cy=Symbol(),e0=Object.getPrototypeOf,Da=new WeakMap,Sy=t=>t&&(Da.has(t)?Da.get(t):e0(t)===Object.prototype||e0(t)===Array.prototype),Iy=t=>Sy(t)&&t[Cy]||null,t0=(t,e=!0)=>{Da.set(t,e)},Oa=t=>typeof t=="object"&&t!==null,Fr=new WeakMap,_s=new WeakSet,Dy=(t=Object.is,e=(l,p)=>new Proxy(l,p),r=l=>Oa(l)&&!_s.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,p,m=n)=>{const b=i.get(l);if(b?.[0]===p)return b[1];const w=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return t0(w,!0),i.set(l,[p,w]),Reflect.ownKeys(l).forEach(E=>{const A=Reflect.get(l,E);_s.has(A)?(t0(A,!1),w[E]=A):A instanceof Promise?Object.defineProperty(w,E,{get(){return m(A)}}):Fr.has(A)?w[E]=Ay(A,m):w[E]=A}),Object.freeze(w)},o=new WeakMap,a=[1,1],c=l=>{if(!Oa(l))throw new Error("object required");const p=o.get(l);if(p)return p;let m=a[0];const b=new Set,w=(H,j=++a[0])=>{m!==j&&(m=j,b.forEach(q=>q(H,j)))};let E=a[1];const A=(H=++a[1])=>(E!==H&&!b.size&&(E=H,M.forEach(([j])=>{const q=j[1](H);q>m&&(m=q)})),m),N=H=>(j,q)=>{const X=[...j];X[1]=[H,...X[1]],w(X,q)},M=new Map,x=(H,j)=>{if(void 0!=="production"&&M.has(H))throw new Error("prop listener already exists");if(b.size){const q=j[3](N(H));M.set(H,[j,q])}else M.set(H,[j])},D=H=>{var j;const q=M.get(H);q&&(M.delete(H),(j=q[1])==null||j.call(q))},y=H=>(b.add(H),b.size===1&&M.forEach(([q,X],re)=>{if(void 0!=="production"&&X)throw new Error("remove already exists");const C=q[3](N(re));M.set(re,[q,C])}),()=>{b.delete(H),b.size===0&&M.forEach(([q,X],re)=>{X&&(X(),M.set(re,[q]))})}),I=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),h=e(I,{deleteProperty(H,j){const q=Reflect.get(H,j);D(j);const X=Reflect.deleteProperty(H,j);return X&&w(["delete",[j],q]),X},set(H,j,q,X){var re;const C=Reflect.has(H,j),$=Reflect.get(H,j,X);if(C&&t($,q))return!0;D(j),Oa(q)&&(q=Iy(q)||q);let G=q;if(!((re=Object.getOwnPropertyDescriptor(H,j))!=null&&re.set))if(q instanceof Promise)q.then(K=>{q.status="fulfilled",q.value=K,w(["resolve",[j],K])}).catch(K=>{q.status="rejected",q.reason=K,w(["reject",[j],K])});else{!Fr.has(q)&&r(q)&&(G=yr(q));const K=!_s.has(G)&&Fr.get(G);K&&x(j,K)}return Reflect.set(H,j,G,X),w(["set",[j],q,$]),!0}});o.set(l,h);const _=[I,A,s,y];return Fr.set(h,_),Reflect.ownKeys(l).forEach(H=>{const j=Object.getOwnPropertyDescriptor(l,H);j.get||j.set?Object.defineProperty(I,H,j):h[H]=l[H]}),h})=>[c,Fr,_s,t,e,r,n,i,s,o,a],[Oy]=Dy();function yr(t={}){return Oy(t)}function hi(t,e,r){const n=Fr.get(t);void 0!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const l=o(p=>{if(s.push(p),r){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Ay(t,e){const r=Fr.get(t);void 0!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}var r0={},Es={};Es.byteLength=Ty,Es.toByteArray=Ry,Es.fromByteArray=Uy;for(var ir=[],Vt=[],$y=typeof Uint8Array<"u"?Uint8Array:Array,Aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pn=0,Py=Aa.length;pn<Py;++pn)ir[pn]=Aa[pn],Vt[Aa.charCodeAt(pn)]=pn;Vt["-".charCodeAt(0)]=62,Vt["_".charCodeAt(0)]=63;function n0(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Ty(t){var e=n0(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Ny(t,e,r){return(e+r)*3/4-r}function Ry(t){var e,r=n0(t),n=r[0],i=r[1],s=new $y(Ny(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=Vt[t.charCodeAt(c)]<<18|Vt[t.charCodeAt(c+1)]<<12|Vt[t.charCodeAt(c+2)]<<6|Vt[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Vt[t.charCodeAt(c)]<<2|Vt[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Vt[t.charCodeAt(c)]<<10|Vt[t.charCodeAt(c+1)]<<4|Vt[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Ly(t){return ir[t>>18&63]+ir[t>>12&63]+ir[t>>6&63]+ir[t&63]}function My(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Ly(n));return i.join("")}function Uy(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(My(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(ir[e>>2]+ir[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(ir[e>>10]+ir[e>>4&63]+ir[e<<2&63]+"=")),i.join("")}var $a={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$a.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,p=-7,m=r?i-1:0,b=r?-1:1,w=t[e+m];for(m+=b,s=w&(1<<-p)-1,w>>=-p,p+=a;p>0;s=s*256+t[e+m],m+=b,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=n;p>0;o=o*256+t[e+m],m+=b,p-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(w?-1:1)*o*Math.pow(2,s-n)},$a.write=function(t,e,r,n,i,s){var o,a,c,l=s*8-i-1,p=(1<<l)-1,m=p>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,E=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+m>=1?e+=b/c:e+=b*Math.pow(2,1-m),e*c>=2&&(o++,c/=2),o+m>=p?(a=0,o=p):o+m>=1?(a=(e*c-1)*Math.pow(2,i),o=o+m):(a=e*Math.pow(2,m-1)*Math.pow(2,i),o=0));i>=8;t[r+w]=a&255,w+=E,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+w]=o&255,w+=E,o/=256,l-=8);t[r+w-E]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Es,r=$a,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const g=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(g,u),g.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(g){if(g>i)throw new RangeError('The value "'+g+'" is invalid for option "size"');const u=new Uint8Array(g);return Object.setPrototypeOf(u,a.prototype),u}function a(g,u,d){if(typeof g=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(g)}return c(g,u,d)}a.poolSize=8192;function c(g,u,d){if(typeof g=="string")return b(g,u);if(ArrayBuffer.isView(g))return E(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(me(g,ArrayBuffer)||g&&me(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(g,SharedArrayBuffer)||g&&me(g.buffer,SharedArrayBuffer)))return A(g,u,d);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const v=g.valueOf&&g.valueOf();if(v!=null&&v!==g)return a.from(v,u,d);const T=N(g);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return a.from(g[Symbol.toPrimitive]("string"),u,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}a.from=function(g,u,d){return c(g,u,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function p(g,u,d){return l(g),g<=0?o(g):u!==void 0?typeof d=="string"?o(g).fill(u,d):o(g).fill(u):o(g)}a.alloc=function(g,u,d){return p(g,u,d)};function m(g){return l(g),o(g<0?0:M(g)|0)}a.allocUnsafe=function(g){return m(g)},a.allocUnsafeSlow=function(g){return m(g)};function b(g,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const d=D(g,u)|0;let v=o(d);const T=v.write(g,u);return T!==d&&(v=v.slice(0,T)),v}function w(g){const u=g.length<0?0:M(g.length)|0,d=o(u);for(let v=0;v<u;v+=1)d[v]=g[v]&255;return d}function E(g){if(me(g,Uint8Array)){const u=new Uint8Array(g);return A(u.buffer,u.byteOffset,u.byteLength)}return w(g)}function A(g,u,d){if(u<0||g.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<u+(d||0))throw new RangeError('"length" is outside of buffer bounds');let v;return u===void 0&&d===void 0?v=new Uint8Array(g):d===void 0?v=new Uint8Array(g,u):v=new Uint8Array(g,u,d),Object.setPrototypeOf(v,a.prototype),v}function N(g){if(a.isBuffer(g)){const u=M(g.length)|0,d=o(u);return d.length===0||g.copy(d,0,0,u),d}if(g.length!==void 0)return typeof g.length!="number"||Se(g.length)?o(0):w(g);if(g.type==="Buffer"&&Array.isArray(g.data))return w(g.data)}function M(g){if(g>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return g|0}function x(g){return+g!=g&&(g=0),a.alloc(+g)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,d){if(me(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),me(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(u)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===d)return 0;let v=u.length,T=d.length;for(let U=0,k=Math.min(v,T);U<k;++U)if(u[U]!==d[U]){v=u[U],T=d[U];break}return v<T?-1:T<v?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,d){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);let v;if(d===void 0)for(d=0,v=0;v<u.length;++v)d+=u[v].length;const T=a.allocUnsafe(d);let U=0;for(v=0;v<u.length;++v){let k=u[v];if(me(k,Uint8Array))U+k.length>T.length?(a.isBuffer(k)||(k=a.from(k)),k.copy(T,U)):Uint8Array.prototype.set.call(T,k,U);else if(a.isBuffer(k))k.copy(T,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=k.length}return T};function D(g,u){if(a.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||me(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const d=g.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&d===0)return 0;let T=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return Me(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Pe(g).length;default:if(T)return v?-1:Me(g).length;u=(""+u).toLowerCase(),T=!0}}a.byteLength=D;function y(g,u,d){let v=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,u>>>=0,d<=u))return"";for(g||(g="utf8");;)switch(g){case"hex":return z(this,u,d);case"utf8":case"utf-8":return C(this,u,d);case"ascii":return K(this,u,d);case"latin1":case"binary":return W(this,u,d);case"base64":return re(this,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,u,d);default:if(v)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),v=!0}}a.prototype._isBuffer=!0;function I(g,u,d){const v=g[u];g[u]=g[d],g[d]=v}a.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<u;d+=2)I(this,d,d+1);return this},a.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<u;d+=4)I(this,d,d+3),I(this,d+1,d+2);return this},a.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<u;d+=8)I(this,d,d+7),I(this,d+1,d+6),I(this,d+2,d+5),I(this,d+3,d+4);return this},a.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?C(this,0,u):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){let u="";const d=t.INSPECT_MAX_BYTES;return u=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(u+=" ... "),"<Buffer "+u+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(u,d,v,T,U){if(me(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(d===void 0&&(d=0),v===void 0&&(v=u?u.length:0),T===void 0&&(T=0),U===void 0&&(U=this.length),d<0||v>u.length||T<0||U>this.length)throw new RangeError("out of range index");if(T>=U&&d>=v)return 0;if(T>=U)return-1;if(d>=v)return 1;if(d>>>=0,v>>>=0,T>>>=0,U>>>=0,this===u)return 0;let k=U-T,oe=v-d;const he=Math.min(k,oe),Ne=this.slice(T,U),Fe=u.slice(d,v);for(let Re=0;Re<he;++Re)if(Ne[Re]!==Fe[Re]){k=Ne[Re],oe=Fe[Re];break}return k<oe?-1:oe<k?1:0};function O(g,u,d,v,T){if(g.length===0)return-1;if(typeof d=="string"?(v=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Se(d)&&(d=T?0:g.length-1),d<0&&(d=g.length+d),d>=g.length){if(T)return-1;d=g.length-1}else if(d<0)if(T)d=0;else return-1;if(typeof u=="string"&&(u=a.from(u,v)),a.isBuffer(u))return u.length===0?-1:h(g,u,d,v,T);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(g,u,d):Uint8Array.prototype.lastIndexOf.call(g,u,d):h(g,[u],d,v,T);throw new TypeError("val must be string, number or Buffer")}function h(g,u,d,v,T){let U=1,k=g.length,oe=u.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(g.length<2||u.length<2)return-1;U=2,k/=2,oe/=2,d/=2}function he(Fe,Re){return U===1?Fe[Re]:Fe.readUInt16BE(Re*U)}let Ne;if(T){let Fe=-1;for(Ne=d;Ne<k;Ne++)if(he(g,Ne)===he(u,Fe===-1?0:Ne-Fe)){if(Fe===-1&&(Fe=Ne),Ne-Fe+1===oe)return Fe*U}else Fe!==-1&&(Ne-=Ne-Fe),Fe=-1}else for(d+oe>k&&(d=k-oe),Ne=d;Ne>=0;Ne--){let Fe=!0;for(let Re=0;Re<oe;Re++)if(he(g,Ne+Re)!==he(u,Re)){Fe=!1;break}if(Fe)return Ne}return-1}a.prototype.includes=function(u,d,v){return this.indexOf(u,d,v)!==-1},a.prototype.indexOf=function(u,d,v){return O(this,u,d,v,!0)},a.prototype.lastIndexOf=function(u,d,v){return O(this,u,d,v,!1)};function _(g,u,d,v){d=Number(d)||0;const T=g.length-d;v?(v=Number(v),v>T&&(v=T)):v=T;const U=u.length;v>U/2&&(v=U/2);let k;for(k=0;k<v;++k){const oe=parseInt(u.substr(k*2,2),16);if(Se(oe))return k;g[d+k]=oe}return k}function H(g,u,d,v){return De(Me(u,g.length-d),g,d,v)}function j(g,u,d,v){return De(Ze(u),g,d,v)}function q(g,u,d,v){return De(Pe(u),g,d,v)}function X(g,u,d,v){return De(Ke(u,g.length-d),g,d,v)}a.prototype.write=function(u,d,v,T){if(d===void 0)T="utf8",v=this.length,d=0;else if(v===void 0&&typeof d=="string")T=d,v=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(v)?(v=v>>>0,T===void 0&&(T="utf8")):(T=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-d;if((v===void 0||v>U)&&(v=U),u.length>0&&(v<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let k=!1;for(;;)switch(T){case"hex":return _(this,u,d,v);case"utf8":case"utf-8":return H(this,u,d,v);case"ascii":case"latin1":case"binary":return j(this,u,d,v);case"base64":return q(this,u,d,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,u,d,v);default:if(k)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),k=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(g,u,d){return u===0&&d===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(u,d))}function C(g,u,d){d=Math.min(g.length,d);const v=[];let T=u;for(;T<d;){const U=g[T];let k=null,oe=U>239?4:U>223?3:U>191?2:1;if(T+oe<=d){let he,Ne,Fe,Re;switch(oe){case 1:U<128&&(k=U);break;case 2:he=g[T+1],(he&192)===128&&(Re=(U&31)<<6|he&63,Re>127&&(k=Re));break;case 3:he=g[T+1],Ne=g[T+2],(he&192)===128&&(Ne&192)===128&&(Re=(U&15)<<12|(he&63)<<6|Ne&63,Re>2047&&(Re<55296||Re>57343)&&(k=Re));break;case 4:he=g[T+1],Ne=g[T+2],Fe=g[T+3],(he&192)===128&&(Ne&192)===128&&(Fe&192)===128&&(Re=(U&15)<<18|(he&63)<<12|(Ne&63)<<6|Fe&63,Re>65535&&Re<1114112&&(k=Re))}}k===null?(k=65533,oe=1):k>65535&&(k-=65536,v.push(k>>>10&1023|55296),k=56320|k&1023),v.push(k),T+=oe}return G(v)}const $=4096;function G(g){const u=g.length;if(u<=$)return String.fromCharCode.apply(String,g);let d="",v=0;for(;v<u;)d+=String.fromCharCode.apply(String,g.slice(v,v+=$));return d}function K(g,u,d){let v="";d=Math.min(g.length,d);for(let T=u;T<d;++T)v+=String.fromCharCode(g[T]&127);return v}function W(g,u,d){let v="";d=Math.min(g.length,d);for(let T=u;T<d;++T)v+=String.fromCharCode(g[T]);return v}function z(g,u,d){const v=g.length;(!u||u<0)&&(u=0),(!d||d<0||d>v)&&(d=v);let T="";for(let U=u;U<d;++U)T+=Oe[g[U]];return T}function J(g,u,d){const v=g.slice(u,d);let T="";for(let U=0;U<v.length-1;U+=2)T+=String.fromCharCode(v[U]+v[U+1]*256);return T}a.prototype.slice=function(u,d){const v=this.length;u=~~u,d=d===void 0?v:~~d,u<0?(u+=v,u<0&&(u=0)):u>v&&(u=v),d<0?(d+=v,d<0&&(d=0)):d>v&&(d=v),d<u&&(d=u);const T=this.subarray(u,d);return Object.setPrototypeOf(T,a.prototype),T};function Z(g,u,d){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+u>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,d,v){u=u>>>0,d=d>>>0,v||Z(u,d,this.length);let T=this[u],U=1,k=0;for(;++k<d&&(U*=256);)T+=this[u+k]*U;return T},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,d,v){u=u>>>0,d=d>>>0,v||Z(u,d,this.length);let T=this[u+--d],U=1;for(;d>0&&(U*=256);)T+=this[u+--d]*U;return T},a.prototype.readUint8=a.prototype.readUInt8=function(u,d){return u=u>>>0,d||Z(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,d){return u=u>>>0,d||Z(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,d){return u=u>>>0,d||Z(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,d){return u=u>>>0,d||Z(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,d){return u=u>>>0,d||Z(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readBigUInt64LE=ge(function(u){u=u>>>0,ie(u,"offset");const d=this[u],v=this[u+7];(d===void 0||v===void 0)&&Ee(u,this.length-8);const T=d+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,U=this[++u]+this[++u]*2**8+this[++u]*2**16+v*2**24;return BigInt(T)+(BigInt(U)<<BigInt(32))}),a.prototype.readBigUInt64BE=ge(function(u){u=u>>>0,ie(u,"offset");const d=this[u],v=this[u+7];(d===void 0||v===void 0)&&Ee(u,this.length-8);const T=d*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],U=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+v;return(BigInt(T)<<BigInt(32))+BigInt(U)}),a.prototype.readIntLE=function(u,d,v){u=u>>>0,d=d>>>0,v||Z(u,d,this.length);let T=this[u],U=1,k=0;for(;++k<d&&(U*=256);)T+=this[u+k]*U;return U*=128,T>=U&&(T-=Math.pow(2,8*d)),T},a.prototype.readIntBE=function(u,d,v){u=u>>>0,d=d>>>0,v||Z(u,d,this.length);let T=d,U=1,k=this[u+--T];for(;T>0&&(U*=256);)k+=this[u+--T]*U;return U*=128,k>=U&&(k-=Math.pow(2,8*d)),k},a.prototype.readInt8=function(u,d){return u=u>>>0,d||Z(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,d){u=u>>>0,d||Z(u,2,this.length);const v=this[u]|this[u+1]<<8;return v&32768?v|4294901760:v},a.prototype.readInt16BE=function(u,d){u=u>>>0,d||Z(u,2,this.length);const v=this[u+1]|this[u]<<8;return v&32768?v|4294901760:v},a.prototype.readInt32LE=function(u,d){return u=u>>>0,d||Z(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,d){return u=u>>>0,d||Z(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readBigInt64LE=ge(function(u){u=u>>>0,ie(u,"offset");const d=this[u],v=this[u+7];(d===void 0||v===void 0)&&Ee(u,this.length-8);const T=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(v<<24);return(BigInt(T)<<BigInt(32))+BigInt(d+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),a.prototype.readBigInt64BE=ge(function(u){u=u>>>0,ie(u,"offset");const d=this[u],v=this[u+7];(d===void 0||v===void 0)&&Ee(u,this.length-8);const T=(d<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(T)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+v)}),a.prototype.readFloatLE=function(u,d){return u=u>>>0,d||Z(u,4,this.length),r.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,d){return u=u>>>0,d||Z(u,4,this.length),r.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,d){return u=u>>>0,d||Z(u,8,this.length),r.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,d){return u=u>>>0,d||Z(u,8,this.length),r.read(this,u,!1,52,8)};function le(g,u,d,v,T,U){if(!a.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>T||u<U)throw new RangeError('"value" argument is out of bounds');if(d+v>g.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,d,v,T){if(u=+u,d=d>>>0,v=v>>>0,!T){const oe=Math.pow(2,8*v)-1;le(this,u,d,v,oe,0)}let U=1,k=0;for(this[d]=u&255;++k<v&&(U*=256);)this[d+k]=u/U&255;return d+v},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,d,v,T){if(u=+u,d=d>>>0,v=v>>>0,!T){const oe=Math.pow(2,8*v)-1;le(this,u,d,v,oe,0)}let U=v-1,k=1;for(this[d+U]=u&255;--U>=0&&(k*=256);)this[d+U]=u/k&255;return d+v},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,1,255,0),this[d]=u&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,65535,0),this[d]=u&255,this[d+1]=u>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,65535,0),this[d]=u>>>8,this[d+1]=u&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,4294967295,0),this[d+3]=u>>>24,this[d+2]=u>>>16,this[d+1]=u>>>8,this[d]=u&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,4294967295,0),this[d]=u>>>24,this[d+1]=u>>>16,this[d+2]=u>>>8,this[d+3]=u&255,d+4};function ee(g,u,d,v,T){te(u,v,T,g,d,7);let U=Number(u&BigInt(4294967295));g[d++]=U,U=U>>8,g[d++]=U,U=U>>8,g[d++]=U,U=U>>8,g[d++]=U;let k=Number(u>>BigInt(32)&BigInt(4294967295));return g[d++]=k,k=k>>8,g[d++]=k,k=k>>8,g[d++]=k,k=k>>8,g[d++]=k,d}function pe(g,u,d,v,T){te(u,v,T,g,d,7);let U=Number(u&BigInt(4294967295));g[d+7]=U,U=U>>8,g[d+6]=U,U=U>>8,g[d+5]=U,U=U>>8,g[d+4]=U;let k=Number(u>>BigInt(32)&BigInt(4294967295));return g[d+3]=k,k=k>>8,g[d+2]=k,k=k>>8,g[d+1]=k,k=k>>8,g[d]=k,d+8}a.prototype.writeBigUInt64LE=ge(function(u,d=0){return ee(this,u,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ge(function(u,d=0){return pe(this,u,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(u,d,v,T){if(u=+u,d=d>>>0,!T){const he=Math.pow(2,8*v-1);le(this,u,d,v,he-1,-he)}let U=0,k=1,oe=0;for(this[d]=u&255;++U<v&&(k*=256);)u<0&&oe===0&&this[d+U-1]!==0&&(oe=1),this[d+U]=(u/k>>0)-oe&255;return d+v},a.prototype.writeIntBE=function(u,d,v,T){if(u=+u,d=d>>>0,!T){const he=Math.pow(2,8*v-1);le(this,u,d,v,he-1,-he)}let U=v-1,k=1,oe=0;for(this[d+U]=u&255;--U>=0&&(k*=256);)u<0&&oe===0&&this[d+U+1]!==0&&(oe=1),this[d+U]=(u/k>>0)-oe&255;return d+v},a.prototype.writeInt8=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,1,127,-128),u<0&&(u=255+u+1),this[d]=u&255,d+1},a.prototype.writeInt16LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,32767,-32768),this[d]=u&255,this[d+1]=u>>>8,d+2},a.prototype.writeInt16BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,32767,-32768),this[d]=u>>>8,this[d+1]=u&255,d+2},a.prototype.writeInt32LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,2147483647,-2147483648),this[d]=u&255,this[d+1]=u>>>8,this[d+2]=u>>>16,this[d+3]=u>>>24,d+4},a.prototype.writeInt32BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[d]=u>>>24,this[d+1]=u>>>16,this[d+2]=u>>>8,this[d+3]=u&255,d+4},a.prototype.writeBigInt64LE=ge(function(u,d=0){return ee(this,u,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ge(function(u,d=0){return pe(this,u,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(g,u,d,v,T,U){if(d+v>g.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Ce(g,u,d,v,T){return u=+u,d=d>>>0,T||ae(g,u,d,4),r.write(g,u,d,v,23,4),d+4}a.prototype.writeFloatLE=function(u,d,v){return Ce(this,u,d,!0,v)},a.prototype.writeFloatBE=function(u,d,v){return Ce(this,u,d,!1,v)};function B(g,u,d,v,T){return u=+u,d=d>>>0,T||ae(g,u,d,8),r.write(g,u,d,v,52,8),d+8}a.prototype.writeDoubleLE=function(u,d,v){return B(this,u,d,!0,v)},a.prototype.writeDoubleBE=function(u,d,v){return B(this,u,d,!1,v)},a.prototype.copy=function(u,d,v,T){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(v||(v=0),!T&&T!==0&&(T=this.length),d>=u.length&&(d=u.length),d||(d=0),T>0&&T<v&&(T=v),T===v||u.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),u.length-d<T-v&&(T=u.length-d+v);const U=T-v;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,v,T):Uint8Array.prototype.set.call(u,this.subarray(v,T),d),U},a.prototype.fill=function(u,d,v,T){if(typeof u=="string"){if(typeof d=="string"?(T=d,d=0,v=this.length):typeof v=="string"&&(T=v,v=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!a.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(u.length===1){const k=u.charCodeAt(0);(T==="utf8"&&k<128||T==="latin1")&&(u=k)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(d<0||this.length<d||this.length<v)throw new RangeError("Out of range index");if(v<=d)return this;d=d>>>0,v=v===void 0?this.length:v>>>0,u||(u=0);let U;if(typeof u=="number")for(U=d;U<v;++U)this[U]=u;else{const k=a.isBuffer(u)?u:a.from(u,T),oe=k.length;if(oe===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(U=0;U<v-d;++U)this[U+d]=k[U%oe]}return this};const F={};function R(g,u,d){F[g]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}R("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),R("ERR_INVALID_ARG_TYPE",function(g,u){return`The "${g}" argument must be of type number. Received type ${typeof u}`},TypeError),R("ERR_OUT_OF_RANGE",function(g,u,d){let v=`The value of "${g}" is out of range.`,T=d;return Number.isInteger(d)&&Math.abs(d)>2**32?T=f(String(d)):typeof d=="bigint"&&(T=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(T=f(T)),T+="n"),v+=` It must be ${u}. Received ${T}`,v},RangeError);function f(g){let u="",d=g.length;const v=g[0]==="-"?1:0;for(;d>=v+4;d-=3)u=`_${g.slice(d-3,d)}${u}`;return`${g.slice(0,d)}${u}`}function P(g,u,d){ie(u,"offset"),(g[u]===void 0||g[u+d]===void 0)&&Ee(u,g.length-(d+1))}function te(g,u,d,v,T,U){if(g>d||g<u){const k=typeof u=="bigint"?"n":"";let oe;throw U>3?u===0||u===BigInt(0)?oe=`>= 0${k} and < 2${k} ** ${(U+1)*8}${k}`:oe=`>= -(2${k} ** ${(U+1)*8-1}${k}) and < 2 ** ${(U+1)*8-1}${k}`:oe=`>= ${u}${k} and <= ${d}${k}`,new F.ERR_OUT_OF_RANGE("value",oe,g)}P(v,T,U)}function ie(g,u){if(typeof g!="number")throw new F.ERR_INVALID_ARG_TYPE(u,"number",g)}function Ee(g,u,d){throw Math.floor(g)!==g?(ie(g,d),new F.ERR_OUT_OF_RANGE(d||"offset","an integer",g)):u<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${u}`,g)}const Le=/[^+/0-9A-Za-z-_]/g;function $e(g){if(g=g.split("=")[0],g=g.trim().replace(Le,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function Me(g,u){u=u||1/0;let d;const v=g.length;let T=null;const U=[];for(let k=0;k<v;++k){if(d=g.charCodeAt(k),d>55295&&d<57344){if(!T){if(d>56319){(u-=3)>-1&&U.push(239,191,189);continue}else if(k+1===v){(u-=3)>-1&&U.push(239,191,189);continue}T=d;continue}if(d<56320){(u-=3)>-1&&U.push(239,191,189),T=d;continue}d=(T-55296<<10|d-56320)+65536}else T&&(u-=3)>-1&&U.push(239,191,189);if(T=null,d<128){if((u-=1)<0)break;U.push(d)}else if(d<2048){if((u-=2)<0)break;U.push(d>>6|192,d&63|128)}else if(d<65536){if((u-=3)<0)break;U.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((u-=4)<0)break;U.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return U}function Ze(g){const u=[];for(let d=0;d<g.length;++d)u.push(g.charCodeAt(d)&255);return u}function Ke(g,u){let d,v,T;const U=[];for(let k=0;k<g.length&&!((u-=2)<0);++k)d=g.charCodeAt(k),v=d>>8,T=d%256,U.push(T),U.push(v);return U}function Pe(g){return e.toByteArray($e(g))}function De(g,u,d,v){let T;for(T=0;T<v&&!(T+d>=u.length||T>=g.length);++T)u[T+d]=g[T];return T}function me(g,u){return g instanceof u||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===u.name}function Se(g){return g!==g}const Oe=function(){const g="0123456789abcdef",u=new Array(256);for(let d=0;d<16;++d){const v=d*16;for(let T=0;T<16;++T)u[v+T]=g[d]+g[T]}return u}();function ge(g){return typeof BigInt>"u"?xe:g}function xe(){throw new Error("BigInt not supported")}})(r0);const ke=yr({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1,isStandalone:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,walletConnectVersion:1}),Q={state:ke,subscribe(t){return hi(ke,()=>t(ke))},setChains(t){ke.chains=t},setStandaloneChains(t){ke.standaloneChains=t},setStandaloneUri(t){ke.standaloneUri=t},getSelectedChain(){const t=qe.client().getNetwork().chain;return t&&(ke.selectedChain=t),ke.selectedChain},setSelectedChain(t){ke.selectedChain=t},setIsStandalone(t){ke.isStandalone=t},setIsCustomDesktop(t){ke.isCustomDesktop=t},setIsCustomMobile(t){ke.isCustomMobile=t},getAccount(){const t=qe.client().getAccount();ke.address=t.address,ke.isConnected=t.isConnected},setAddress(t){ke.address=t},setIsConnected(t){ke.isConnected=t},setProfileName(t){ke.profileName=t},setProfileAvatar(t){ke.profileAvatar=t},setProfileLoading(t){ke.profileLoading=t},setBalanceLoading(t){ke.balanceLoading=t},setBalance(t){ke.balance=t},setIsDataLoaded(t){ke.isDataLoaded=t},setIsUiLoaded(t){ke.isUiLoaded=t},setWalletConnectVersion(t){ke.walletConnectVersion=t},resetEnsProfile(){ke.profileName=void 0,ke.profileAvatar=void 0},resetBalance(){ke.balance=void 0},resetAccount(){ke.address=void 0,ke.isConnected=!1,Q.resetEnsProfile(),Q.resetBalance()}},di=yr({initialized:!1,ethereumClient:void 0}),qe={setEthereumClient(t){!di.initialized&&t&&(di.ethereumClient=t,Q.setChains(t.chains),di.initialized=!0)},client(){if(di.ethereumClient)return di.ethereumClient;throw new Error("ClientCtrl has no client set")}},Ue={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",isMobile(){return typeof window<"u"?Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return Ue.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isEmptyObject(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.getOwnPropertyNames(t).length===0&&Object.getOwnPropertySymbols(t).length===0},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r){if(Ue.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(t,e,r){if(!Ue.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;t.endsWith("/")&&(n=t.slice(0,-1)),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}/wc?uri=${i}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e="_self"){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){localStorage.setItem(Ue.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))},setWalletConnectAndroidDeepLink(t){const[e]=t.split("?");localStorage.setItem(Ue.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(Ue.WALLETCONNECT_DEEPLINK_CHOICE)},isNull(t){return t===null}};function Fy(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const fi=yr({projectId:"",themeMode:Fy()?"dark":"light",themeColor:"default",themeBackground:Ue.isMobile()?"themeColor":"gradient",themeZIndex:89,mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableNetworkView:!1,enableAccountView:!0,defaultChain:void 0,explorerAllowList:void 0,explorerDenyList:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Ve={state:fi,subscribe(t){return hi(fi,()=>t(fi))},setConfig(t){var e,r,n,i;if(Q.setStandaloneChains(t.standaloneChains),Q.setIsStandalone(Boolean((e=t.standaloneChains)==null?void 0:e.length)||Boolean(t.enableStandaloneMode)),Q.setIsCustomMobile(Boolean((r=t.mobileWallets)==null?void 0:r.length)),Q.setIsCustomDesktop(Boolean((n=t.desktopWallets)==null?void 0:n.length)),Q.setWalletConnectVersion((i=t.walletConnectVersion)!=null?i:1),t.defaultChain)Q.setSelectedChain(t.defaultChain);else if(!Q.state.isStandalone){const s=qe.client().getDefaultChain();Q.setSelectedChain(s)}Object.assign(fi,t)},setThemeConfig(t){Object.assign(fi,t)}},i0="https://explorer-api.walletconnect.com";function By(t){const e=Object.fromEntries(Object.entries(t).filter(([r,n])=>typeof n<"u"&&n!==null&&n!=="").map(([r,n])=>[r,n.toString()]));return new URLSearchParams(e).toString()}const xs={async fetchWallets(t,e){const r=By(e),n=`${i0}/v3/wallets?projectId=${t}&${r}`;return(await fetch(n)).json()},formatImageUrl(t,e){return`${i0}/v3/logo/lg/${e}?projectId=${t}`}},Br=yr({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},previewWallets:[],recomendedWallets:[]});function Cs(){const{projectId:t}=Ve.state;if(!t)throw new Error("projectId is required to work with explorer api");return t}const at={state:Br,async getPreviewWallets(t){const{listings:e}=await xs.fetchWallets(Cs(),t);return Br.previewWallets=Object.values(e),Br.previewWallets},async getRecomendedWallets(){const{listings:t}=await xs.fetchWallets(Cs(),{page:1,entries:6});Br.recomendedWallets=Object.values(t)},async getPaginatedWallets(t){const{page:e,search:r}=t,{listings:n,total:i}=await xs.fetchWallets(Cs(),t),s=Object.values(n),o=r?"search":"wallets";return Br[o]={listings:[...Br[o].listings,...s],total:i,page:e??1},{listings:s,total:i}},getImageUrl(t){return xs.formatImageUrl(Cs(),t)},resetSearch(){Br.search={listings:[],total:0,page:1}}},Ft=yr({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),Te={state:Ft,subscribe(t){return hi(Ft,()=>t(Ft))},push(t,e){t!==Ft.view&&(Ft.view=t,e&&(Ft.data=e),Ft.history.push(t))},replace(t){Ft.view=t,Ft.history=[t]},goBack(){if(Ft.history.length>1){Ft.history.pop();const[t]=Ft.history.slice(-1);Ft.view=t}}},gn=yr({open:!1}),ft={state:gn,subscribe(t){return hi(gn,()=>t(gn))},async open(t){return new Promise(e=>{const{isConnected:r,isStandalone:n,isUiLoaded:i,isDataLoaded:s}=Q.state,{enableNetworkView:o}=Ve.state;if(n?(Q.setStandaloneUri(t?.uri),Q.setStandaloneChains(t?.standaloneChains),Te.replace("ConnectWallet")):t!=null&&t.route?Te.replace(t.route):r?Te.replace("Account"):o?Te.replace("SelectNetwork"):Te.replace("ConnectWallet"),i&&s)gn.open=!0,e();else{const a=setInterval(()=>{Q.state.isUiLoaded&&Q.state.isDataLoaded&&(clearInterval(a),gn.open=!0,e())},200)}})},close(){gn.open=!1}},jr=yr({open:!1,message:"",variant:"success"}),Lt={state:jr,subscribe(t){return hi(jr,()=>t(jr))},openToast(t,e){jr.open=!0,jr.message=t,jr.variant=e},closeToast(){jr.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=r0.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}));var jy=Object.defineProperty,s0=Object.getOwnPropertySymbols,ky=Object.prototype.hasOwnProperty,Hy=Object.prototype.propertyIsEnumerable,o0=(t,e,r)=>e in t?jy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zy=(t,e)=>{for(var r in e||(e={}))ky.call(e,r)&&o0(t,r,e[r]);if(s0)for(var r of s0(e))Hy.call(e,r)&&o0(t,r,e[r]);return t};class Wy{constructor(e){this.openModal=ft.open,this.closeModal=ft.close,this.subscribeModal=ft.subscribe,this.setTheme=Ve.setThemeConfig,Ve.setConfig(zy({enableStandaloneMode:!0},e)),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(function(){return q_});const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),Q.setIsUiLoaded(!0)}}}var qy=Object.freeze({__proto__:null,Web3Modal:Wy});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ss=window,Pa=Ss.ShadowRoot&&(Ss.ShadyCSS===void 0||Ss.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ta=Symbol(),a0=new WeakMap;class c0{constructor(e,r,n){if(this._$cssResult$=!0,n!==Ta)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(Pa&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=a0.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&a0.set(r,e))}return e}toString(){return this.cssText}}const Vy=t=>new c0(typeof t=="string"?t:t+"",void 0,Ta),_e=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new c0(r,t,Ta)},Ky=(t,e)=>{Pa?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{const n=document.createElement("style"),i=Ss.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)})},l0=Pa?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Vy(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Na;const Is=window,u0=Is.trustedTypes,Gy=u0?u0.emptyScript:"",h0=Is.reactiveElementPolyfillSupport,Ra={toAttribute(t,e){switch(e){case Boolean:t=t?Gy:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},d0=(t,e)=>e!==t&&(e==e||t==t),La={attribute:!0,type:String,converter:Ra,reflect:!1,hasChanged:d0};class mn extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((r,n)=>{const i=this._$Ep(n,r);i!==void 0&&(this._$Ev.set(i,n),e.push(i))}),e}static createProperty(e,r=La){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),!r.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){return{get(){return this[r]},set(i){const s=this[e];this[r]=i,this.requestUpdate(e,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||La}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const i of n)this.createProperty(i,r[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(l0(i))}else e!==void 0&&r.push(l0(e));return r}static _$Ep(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var e;const r=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Ky(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EO(e,r,n=La){var i;const s=this.constructor._$Ep(e,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:Ra).toAttribute(r,n.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,r){var n;const i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?o.converter:Ra;this._$El=s,this[s]=a.fromAttribute(r,o.type),this._$El=null}}requestUpdate(e,r,n){let i=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||d0)(this[e],r)?(this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(n)):this._$Ek()}catch(i){throw r=!1,this._$Ek(),i}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$ES)===null||r===void 0||r.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((r,n)=>this._$EO(n,this[n],r)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}mn.finalized=!0,mn.elementProperties=new Map,mn.elementStyles=[],mn.shadowRootOptions={mode:"open"},h0?.({ReactiveElement:mn}),((Na=Is.reactiveElementVersions)!==null&&Na!==void 0?Na:Is.reactiveElementVersions=[]).push("1.6.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ma;const Ds=window,wn=Ds.trustedTypes,f0=wn?wn.createPolicy("lit-html",{createHTML:t=>t}):void 0,vr=`lit$${(Math.random()+"").slice(9)}$`,p0="?"+vr,Zy=`<${p0}>`,bn=document,pi=(t="")=>bn.createComment(t),gi=t=>t===null||typeof t!="object"&&typeof t!="function",g0=Array.isArray,Yy=t=>g0(t)||typeof t?.[Symbol.iterator]=="function",mi=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,m0=/-->/g,w0=/>/g,kr=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),b0=/'/g,y0=/"/g,v0=/^(?:script|style|textarea|title)$/i,_0=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),V=_0(1),Ae=_0(2),Hr=Symbol.for("lit-noChange"),ct=Symbol.for("lit-nothing"),E0=new WeakMap,yn=bn.createTreeWalker(bn,129,null,!1),Jy=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":"",o=mi;for(let c=0;c<r;c++){const l=t[c];let p,m,b=-1,w=0;for(;w<l.length&&(o.lastIndex=w,m=o.exec(l),m!==null);)w=o.lastIndex,o===mi?m[1]==="!--"?o=m0:m[1]!==void 0?o=w0:m[2]!==void 0?(v0.test(m[2])&&(i=RegExp("</"+m[2],"g")),o=kr):m[3]!==void 0&&(o=kr):o===kr?m[0]===">"?(o=i??mi,b=-1):m[1]===void 0?b=-2:(b=o.lastIndex-m[2].length,p=m[1],o=m[3]===void 0?kr:m[3]==='"'?y0:b0):o===y0||o===b0?o=kr:o===m0||o===w0?o=mi:(o=kr,i=void 0);const E=o===kr&&t[c+1].startsWith("/>")?" ":"";s+=o===mi?l+Zy:b>=0?(n.push(p),l.slice(0,b)+"$lit$"+l.slice(b)+vr+E):l+vr+(b===-2?(n.push(void 0),c):E)}const a=s+(t[r]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[f0!==void 0?f0.createHTML(a):a,n]};class wi{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,p]=Jy(e,r);if(this.el=wi.createElement(l,n),yn.currentNode=this.el.content,r===2){const m=this.el.content,b=m.firstChild;b.remove(),m.append(...b.childNodes)}for(;(i=yn.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const m=[];for(const b of i.getAttributeNames())if(b.endsWith("$lit$")||b.startsWith(vr)){const w=p[o++];if(m.push(b),w!==void 0){const E=i.getAttribute(w.toLowerCase()+"$lit$").split(vr),A=/([.?@])?(.*)/.exec(w);c.push({type:1,index:s,name:A[2],strings:E,ctor:A[1]==="."?Qy:A[1]==="?"?tv:A[1]==="@"?rv:Os})}else c.push({type:6,index:s})}for(const b of m)i.removeAttribute(b)}if(v0.test(i.tagName)){const m=i.textContent.split(vr),b=m.length-1;if(b>0){i.textContent=wn?wn.emptyScript:"";for(let w=0;w<b;w++)i.append(m[w],pi()),yn.nextNode(),c.push({type:2,index:++s});i.append(m[b],pi())}}}else if(i.nodeType===8)if(i.data===p0)c.push({type:2,index:s});else{let m=-1;for(;(m=i.data.indexOf(vr,m+1))!==-1;)c.push({type:7,index:s}),m+=vr.length-1}s++}}static createElement(e,r){const n=bn.createElement("template");return n.innerHTML=e,n}}function vn(t,e,r=t,n){var i,s,o,a;if(e===Hr)return e;let c=n!==void 0?(i=r._$Co)===null||i===void 0?void 0:i[n]:r._$Cl;const l=gi(e)?void 0:e._$litDirective$;return c?.constructor!==l&&((s=c?._$AO)===null||s===void 0||s.call(c,!1),l===void 0?c=void 0:(c=new l(t),c._$AT(t,r,n)),n!==void 0?((o=(a=r)._$Co)!==null&&o!==void 0?o:a._$Co=[])[n]=c:r._$Cl=c),c!==void 0&&(e=vn(t,c._$AS(t,e.values),c,n)),e}class Xy{constructor(e,r){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var r;const{el:{content:n},parts:i}=this._$AD,s=((r=e?.creationScope)!==null&&r!==void 0?r:bn).importNode(n,!0);yn.currentNode=s;let o=yn.nextNode(),a=0,c=0,l=i[0];for(;l!==void 0;){if(a===l.index){let p;l.type===2?p=new bi(o,o.nextSibling,this,e):l.type===1?p=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(p=new nv(o,this,e)),this.u.push(p),l=i[++c]}a!==l?.index&&(o=yn.nextNode(),a++)}return s}p(e){let r=0;for(const n of this.u)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class bi{constructor(e,r,n,i){var s;this.type=2,this._$AH=ct,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cm=(s=i?.isConnected)===null||s===void 0||s}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=vn(this,e,r),gi(e)?e===ct||e==null||e===""?(this._$AH!==ct&&this._$AR(),this._$AH=ct):e!==this._$AH&&e!==Hr&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Yy(e)?this.k(e):this.g(e)}O(e,r=this._$AB){return this._$AA.parentNode.insertBefore(e,r)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==ct&&gi(this._$AH)?this._$AA.nextSibling.data=e:this.T(bn.createTextNode(e)),this._$AH=e}$(e){var r;const{values:n,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=wi.createElement(i.h,this.options)),i);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.p(n);else{const o=new Xy(s,this),a=o.v(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let r=E0.get(e.strings);return r===void 0&&E0.set(e.strings,r=new wi(e)),r}k(e){g0(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new bi(this.O(pi()),this.O(pi()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cm=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class Os{constructor(e,r,n,i,s){this.type=1,this._$AH=ct,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ct}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=vn(this,e,r,0),o=!gi(e)||e!==this._$AH&&e!==Hr,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=vn(this,a[n+c],r,c),l===Hr&&(l=this._$AH[c]),o||(o=!gi(l)||l!==this._$AH[c]),l===ct?e=ct:e!==ct&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===ct?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Qy extends Os{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ct?void 0:e}}const ev=wn?wn.emptyScript:"";class tv extends Os{constructor(){super(...arguments),this.type=4}j(e){e&&e!==ct?this.element.setAttribute(this.name,ev):this.element.removeAttribute(this.name)}}class rv extends Os{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){var n;if((e=(n=vn(this,e,r,0))!==null&&n!==void 0?n:ct)===Hr)return;const i=this._$AH,s=e===ct&&i!==ct||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==ct&&(i===ct||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}class nv{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){vn(this,e)}}const x0=Ds.litHtmlPolyfillSupport;x0?.(wi,bi),((Ma=Ds.litHtmlVersions)!==null&&Ma!==void 0?Ma:Ds.litHtmlVersions=[]).push("2.6.1");const iv=(t,e,r)=>{var n,i;const s=(n=r?.renderBefore)!==null&&n!==void 0?n:e;let o=s._$litPart$;if(o===void 0){const a=(i=r?.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new bi(e.insertBefore(pi(),a),a,void 0,r??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ua,Fa;class fe extends mn{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;const n=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=n.firstChild),n}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=iv(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Hr}}fe.finalized=!0,fe._$litElement$=!0,(Ua=globalThis.litElementHydrateSupport)===null||Ua===void 0||Ua.call(globalThis,{LitElement:fe});const C0=globalThis.litElementPolyfillSupport;C0?.({LitElement:fe}),((Fa=globalThis.litElementVersions)!==null&&Fa!==void 0?Fa:globalThis.litElementVersions=[]).push("3.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const we=t=>e=>typeof e=="function"?((r,n)=>(customElements.define(r,n),n))(t,e):((r,n)=>{const{kind:i,elements:s}=n;return{kind:i,elements:s,finisher(o){customElements.define(r,o)}}})(t,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sv=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}};function ye(t){return(e,r)=>r!==void 0?((n,i,s)=>{i.constructor.createProperty(s,n)})(t,e,r):sv(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Be(t){return ye({...t,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ba;((Ba=window.HTMLSlotElement)===null||Ba===void 0?void 0:Ba.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ov={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},av=t=>(...e)=>({_$litDirective$:t,values:e});class cv{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mt=av(class extends cv{constructor(t){var e;if(super(t),t.type!==ov.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,n;if(this.nt===void 0){this.nt=new Set,t.strings!==void 0&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!(!((r=this.st)===null||r===void 0)&&r.has(s))&&this.nt.add(s);return this.render(e)}const i=t.element.classList;this.nt.forEach(s=>{s in e||(i.remove(s),this.nt.delete(s))});for(const s in e){const o=!!e[s];o===this.nt.has(s)||!((n=this.st)===null||n===void 0)&&n.has(s)||(o?(i.add(s),this.nt.add(s)):(i.remove(s),this.nt.delete(s)))}return Hr}});function lv(t,e){t.indexOf(e)===-1&&t.push(e)}const S0=(t,e,r)=>Math.min(Math.max(r,t),e),Kt={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},yi=t=>typeof t=="number",_n=t=>Array.isArray(t)&&!yi(t[0]),uv=(t,e,r)=>{const n=e-t;return((r-t)%n+n)%n+t};function hv(t,e){return _n(t)?t[uv(0,t.length,e)]:t}const I0=(t,e,r)=>-r*t+r*e+t,D0=()=>{},sr=t=>t,ja=(t,e,r)=>e-t===0?1:(r-t)/(e-t);function O0(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=ja(0,e,n);t.push(I0(r,1,i))}}function dv(t){const e=[0];return O0(e,t-1),e}function fv(t,e=dv(t.length),r=sr){const n=t.length,i=n-e.length;return i>0&&O0(e,i),s=>{let o=0;for(;o<n-2&&!(s<e[o+1]);o++);let a=S0(0,1,ja(e[o],e[o+1],s));return a=hv(r,o)(a),I0(t[o],t[o+1],a)}}const A0=t=>Array.isArray(t)&&yi(t[0]),ka=t=>typeof t=="object"&&Boolean(t.createAnimation),zr=t=>typeof t=="function",$0=t=>typeof t=="string",En={ms:t=>t*1e3,s:t=>t/1e3};function pv(t,e){return e?t*(1e3/e):0}const P0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,gv=1e-7,mv=12;function wv(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=P0(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>gv&&++a<mv);return o}function vi(t,e,r,n){if(t===e&&r===n)return sr;const i=s=>wv(s,0,1,t,r);return s=>s===0||s===1?s:P0(i(s),e,n)}const bv=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return S0(0,1,i/t)},T0={ease:vi(.25,.1,.25,1),"ease-in":vi(.42,0,1,1),"ease-in-out":vi(.42,0,.58,1),"ease-out":vi(0,0,.58,1)},yv=/\((.*?)\)/;function N0(t){if(zr(t))return t;if(A0(t))return vi(...t);if(T0[t])return T0[t];if(t.startsWith("steps")){const e=yv.exec(t);if(e){const r=e[1].split(",");return bv(parseFloat(r[0]),r[1].trim())}}return sr}class R0{constructor(e,r=[0,1],{easing:n,duration:i=Kt.duration,delay:s=Kt.delay,endDelay:o=Kt.endDelay,repeat:a=Kt.repeat,offset:c,direction:l="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=sr,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((m,b)=>{this.resolve=m,this.reject=b}),n=n||Kt.easing,ka(n)){const m=n.createAnimation(r);n=m.easing,r=m.keyframes||r,i=m.duration||i}this.repeat=a,this.easing=_n(n)?sr:N0(n),this.updateDuration(i);const p=fv(r,c,_n(n)?n.map(N0):sr);this.tick=m=>{var b;s=s;let w=0;this.pauseTime!==void 0?w=this.pauseTime:w=(m-this.startTime)*this.rate,this.t=w,w/=1e3,w=Math.max(w-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(w=this.totalDuration);const E=w/this.duration;let A=Math.floor(E),N=E%1;!N&&E>=1&&(N=1),N===1&&A--;const M=A%2;(l==="reverse"||l==="alternate"&&M||l==="alternate-reverse"&&!M)&&(N=1-N);const x=w>=this.totalDuration?1:Math.min(N,1),D=p(this.easing(x));e(D),this.pauseTime===void 0&&(this.playState==="finished"||w>=this.totalDuration+o)?(this.playState="finished",(b=this.resolve)===null||b===void 0||b.call(this,D)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}var Ha=function(){};process.env.NODE_ENV!=="production"&&(Ha=function(t,e){if(!t)throw new Error(e)});class vv{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const za=new WeakMap;function L0(t){return za.has(t)||za.set(t,{transforms:[],values:new Map}),za.get(t)}function _v(t,e){return t.has(e)||t.set(e,new vv),t.get(e)}const Ev=["","X","Y","Z"],xv=["translate","scale","rotate","skew"],As={x:"translateX",y:"translateY",z:"translateZ"},M0={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},Cv={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:M0,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:sr},skew:M0},xn=new Map,Wa=t=>`--motion-${t}`,$s=["x","y","z"];xv.forEach(t=>{Ev.forEach(e=>{$s.push(t+e),xn.set(Wa(t+e),Cv[t])})});const Sv=(t,e)=>$s.indexOf(t)-$s.indexOf(e),Iv=new Set($s),U0=t=>Iv.has(t),Dv=(t,e)=>{As[e]&&(e=As[e]);const{transforms:r}=L0(t);lv(r,e),t.style.transform=Ov(r)},Ov=t=>t.sort(Sv).reduce(Av,"").trim(),Av=(t,e)=>`${t} ${e}(var(${Wa(e)}))`,qa=t=>t.startsWith("--"),F0=new Set;function $v(t){if(!F0.has(t)){F0.add(t);try{const{syntax:e,initialValue:r}=xn.has(t)?xn.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:r})}catch{}}}const Va=(t,e)=>document.createElement("div").animate(t,e),B0={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Va({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(Va({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{Va({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},Ka={},Cn={};for(const t in B0)Cn[t]=()=>(Ka[t]===void 0&&(Ka[t]=B0[t]()),Ka[t]);const Pv=.015,Tv=(t,e)=>{let r="";const n=Math.round(e/Pv);for(let i=0;i<n;i++)r+=t(ja(0,n-1,i))+", ";return r.substring(0,r.length-2)},j0=(t,e)=>zr(t)?Cn.linearEasing()?`linear(${Tv(t,e)})`:Kt.easing:A0(t)?Nv(t):t,Nv=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`;function Rv(t,e){for(let r=0;r<t.length;r++)t[r]===null&&(t[r]=r?t[r-1]:e());return t}const Lv=t=>Array.isArray(t)?t:[t];function Ps(t){return As[t]&&(t=As[t]),U0(t)?Wa(t):t}const Ts={get:(t,e)=>{e=Ps(e);let r=qa(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!r&&r!==0){const n=xn.get(e);n&&(r=n.initialValue)}return r},set:(t,e,r)=>{e=Ps(e),qa(e)?t.style.setProperty(e,r):t.style[e]=r}};function k0(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function H0(t,e){var r;let n=e?.toDefaultUnit||sr;const i=t[t.length-1];if($0(i)){const s=((r=i.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";s&&(n=o=>o+s)}return n}function Mv(){return window.__MOTION_DEV_TOOLS_RECORD}function Uv(t,e,r,n={},i){const s=Mv(),o=n.record!==!1&&s;let a,{duration:c=Kt.duration,delay:l=Kt.delay,endDelay:p=Kt.endDelay,repeat:m=Kt.repeat,easing:b=Kt.easing,persist:w=!1,direction:E,offset:A,allowWebkitAcceleration:N=!1}=n;const M=L0(t),x=U0(e);let D=Cn.waapi();x&&Dv(t,e);const y=Ps(e),I=_v(M.values,y),O=xn.get(y);return k0(I.animation,!(ka(b)&&I.generator)&&n.record!==!1),()=>{const h=()=>{var j,q;return(q=(j=Ts.get(t,y))!==null&&j!==void 0?j:O?.initialValue)!==null&&q!==void 0?q:0};let _=Rv(Lv(r),h);const H=H0(_,O);if(ka(b)){const j=b.createAnimation(_,e!=="opacity",h,y,I);b=j.easing,_=j.keyframes||_,c=j.duration||c}if(qa(y)&&(Cn.cssRegisterProperty()?$v(y):D=!1),x&&!Cn.linearEasing()&&(zr(b)||_n(b)&&b.some(zr))&&(D=!1),D){O&&(_=_.map(X=>yi(X)?O.toDefaultUnit(X):X)),_.length===1&&(!Cn.partialKeyframes()||o)&&_.unshift(h());const j={delay:En.ms(l),duration:En.ms(c),endDelay:En.ms(p),easing:_n(b)?void 0:j0(b,c),direction:E,iterations:m+1,fill:"both"};a=t.animate({[y]:_,offset:A,easing:_n(b)?b.map(X=>j0(X,c)):void 0},j),a.finished||(a.finished=new Promise((X,re)=>{a.onfinish=X,a.oncancel=re}));const q=_[_.length-1];a.finished.then(()=>{w||(Ts.set(t,y,q),a.cancel())}).catch(D0),N||(a.playbackRate=1.000001)}else if(i&&x)_=_.map(j=>typeof j=="string"?parseFloat(j):j),_.length===1&&_.unshift(parseFloat(h())),a=new i(j=>{Ts.set(t,y,H?H(j):j)},_,Object.assign(Object.assign({},n),{duration:c,easing:b}));else{const j=_[_.length-1];Ts.set(t,y,O&&yi(j)?O.toDefaultUnit(j):j)}return o&&s(t,e,_,{duration:c,delay:l,easing:b,repeat:m,offset:A},"motion-one"),I.setAnimation(a),a}}const Fv=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function z0(t,e){var r;return typeof t=="string"?e?((r=e[t])!==null&&r!==void 0||(e[t]=document.querySelectorAll(t)),t=e[t]):t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Bv=t=>t(),W0=(t,e,r=Kt.duration)=>new Proxy({animations:t.map(Bv).filter(Boolean),duration:r,options:e},kv),jv=t=>t.animations[0],kv={get:(t,e)=>{const r=jv(t);switch(e){case"duration":return t.duration;case"currentTime":return En.s(r?.[e]||0);case"playbackRate":case"playState":return r?.[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Hv)).catch(D0)),t.finished;case"stop":return()=>{t.animations.forEach(n=>k0(n))};case"forEachNative":return n=>{t.animations.forEach(i=>n(i,t))};default:return typeof r?.[e]>"u"?void 0:()=>t.animations.forEach(n=>n[e]())}},set:(t,e,r)=>{switch(e){case"currentTime":r=En.ms(r);case"currentTime":case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=r;return!0}return!1}},Hv=t=>t.finished;function zv(t,e,r){return zr(t)?t(e,r):t}function Wv(t){return function(r,n,i={}){r=z0(r);const s=r.length;Ha(Boolean(s),"No valid element provided."),Ha(Boolean(n),"No keyframes defined.");const o=[];for(let a=0;a<s;a++){const c=r[a];for(const l in n){const p=Fv(i,l);p.delay=zv(p.delay,a,s);const m=Uv(c,l,n[l],p,t);o.push(m)}}return W0(o,i,i.duration)}}const qv=Wv(R0);function Vv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}const Kv=5;function q0(t,e,r){const n=Math.max(e-Kv,0);return pv(r-t(n),e-n)}const Sn={stiffness:100,damping:10,mass:1},Gv=(t=Sn.stiffness,e=Sn.damping,r=Sn.mass)=>e/(2*Math.sqrt(t*r));function Zv(t,e,r){return t<e&&r>=e||t>e&&r<=e}const Yv=({stiffness:t=Sn.stiffness,damping:e=Sn.damping,mass:r=Sn.mass,from:n=0,to:i=1,velocity:s=0,restSpeed:o=2,restDistance:a=.5}={})=>{s=s?En.s(s):0;const c={done:!1,hasReachedTarget:!1,current:n,target:i},l=i-n,p=Math.sqrt(t/r)/1e3,m=Gv(t,e,r);let b;if(m<1){const w=p*Math.sqrt(1-m*m);b=E=>i-Math.exp(-m*p*E)*((-s+m*p*l)/w*Math.sin(w*E)+l*Math.cos(w*E))}else b=w=>i-Math.exp(-p*w)*(l+(-s+p*l)*w);return w=>{c.current=b(w);const E=w===0?s:q0(b,w,c.current),A=Math.abs(E)<=o,N=Math.abs(i-c.current)<=a;return c.done=A&&N,c.hasReachedTarget=Zv(n,i,c.current),c}},Ga=10,Jv=1e4;function Xv(t,e=sr){let r,n=Ga,i=t(0);const s=[e(i.current)];for(;!i.done&&n<Jv;)i=t(n),s.push(e(i.done?i.target:i.current)),r===void 0&&i.hasReachedTarget&&(r=n),n+=Ga;const o=n-Ga;return s.length===1&&s.push(i.current),{keyframes:s,duration:o/1e3,overshootDuration:(r??o)/1e3}}function V0(t){return yi(t)&&!isNaN(t)}function Za(t){return $0(t)?parseFloat(t):t}function Qv(t){const e=new WeakMap;return(r={})=>{const n=new Map,i=(o=0,a=100,c=0,l=!1)=>{const p=`${o}-${a}-${c}-${l}`;return n.has(p)||n.set(p,t(Object.assign({from:o,to:a,velocity:c,restSpeed:l?.05:2,restDistance:l?.01:.5},r))),n.get(p)},s=(o,a)=>(e.has(o)||e.set(o,Xv(o,a)),e.get(o));return{createAnimation:(o,a=!0,c,l,p)=>{let m,b,w,E=0,A=sr;const N=o.length;if(a){A=H0(o,l?xn.get(Ps(l)):void 0);const M=o[N-1];if(w=Za(M),N>1&&o[0]!==null)b=Za(o[0]);else{const x=p?.generator;if(x){const{animation:D,generatorStartTime:y}=p,I=D?.startTime||y||0,O=D?.currentTime||performance.now()-I,h=x(O).current;b=h,E=q0(_=>x(_).current,O,h)}else c&&(b=Za(c()))}}if(V0(b)&&V0(w)){const M=i(b,w,E,l?.includes("scale"));m=Object.assign(Object.assign({},s(M,A)),{easing:"linear"}),p&&(p.generator=M,p.generatorStartTime=performance.now())}return m||(m={easing:"ease",duration:s(i(0,100)).overshootDuration}),m}}}}const Ns=Qv(Yv),e6={any:0,all:1};function t6(t,e,{root:r,margin:n,amount:i="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const s=z0(t),o=new WeakMap,a=l=>{l.forEach(p=>{const m=o.get(p.target);if(p.isIntersecting!==Boolean(m))if(p.isIntersecting){const b=e(p);zr(b)?o.set(p.target,b):c.unobserve(p.target)}else m&&(m(p),o.delete(p.target))})},c=new IntersectionObserver(a,{root:r,rootMargin:n,threshold:typeof i=="number"?i:e6[i]});return s.forEach(l=>c.observe(l)),()=>c.disconnect()}function Ya(t,e,r){t.dispatchEvent(new CustomEvent(e,{detail:{originalEvent:r}}))}function K0(t,e,r){t.dispatchEvent(new CustomEvent(e,{detail:{originalEntry:r}}))}const r6={isActive:t=>Boolean(t.inView),subscribe:(t,{enable:e,disable:r},{inViewOptions:n={}})=>{const{once:i}=n,s=Vv(n,["once"]);return t6(t,o=>{if(e(),K0(t,"viewenter",o),!i)return a=>{r(),K0(t,"viewleave",a)}},s)}},G0=(t,e,r)=>n=>{n.pointerType&&n.pointerType!=="mouse"||(r(),Ya(t,e,n))};[...Object.keys({inView:r6,hover:{isActive:t=>Boolean(t.hover),subscribe:(t,{enable:e,disable:r})=>{const n=G0(t,"hoverstart",e),i=G0(t,"hoverend",r);return t.addEventListener("pointerenter",n),t.addEventListener("pointerleave",i),()=>{t.removeEventListener("pointerenter",n),t.removeEventListener("pointerleave",i)}}},press:{isActive:t=>Boolean(t.press),subscribe:(t,{enable:e,disable:r})=>{const n=s=>{r(),Ya(t,"pressend",s),window.removeEventListener("pointerup",n)},i=s=>{e(),Ya(t,"pressstart",s),window.addEventListener("pointerup",n)};return t.addEventListener("pointerdown",i),()=>{t.removeEventListener("pointerdown",i),window.removeEventListener("pointerup",n)}}}})];function n6(t,e={}){return W0([()=>{const r=new R0(t,[0,1],e);return r.finished.catch(()=>{}),r}],e,e.duration)}function _r(t,e,r){return(zr(t)?n6:qv)(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Bt=t=>t??ct;var _i={},i6=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Z0={},jt={};let Ja;const s6=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];jt.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},jt.getSymbolTotalCodewords=function(e){return s6[e]},jt.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},jt.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ja=e},jt.isKanjiModeEnabled=function(){return typeof Ja<"u"},jt.toSJIS=function(e){return Ja(e)};var Rs={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Rs);function Y0(){this.buffer=[],this.length=0}Y0.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var o6=Y0;function Ei(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Ei.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},Ei.prototype.get=function(t,e){return this.data[t*this.size+e]},Ei.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},Ei.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var a6=Ei,J0={};(function(t){const e=jt.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(J0);var X0={};const c6=jt.getSymbolSize,Q0=7;X0.getPositions=function(e){const r=c6(e);return[[0,0],[r-Q0,0],[0,r-Q0]]};var ed={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,p=null;for(let m=0;m<s;m++){a=c=0,l=p=null;for(let b=0;b<s;b++){let w=i.get(m,b);w===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=w,a=1),w=i.get(b,m),w===p?c++:(c>=5&&(o+=e.N1+(c-5)),p=w,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let p=0;p<s;p++)a=a<<1&2047|i.get(l,p),p>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(p,l),p>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const p=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),p<c&&(c=p,a=l)}return a}})(ed);var Ls={};const Er=Rs,Ms=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Us=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ls.getBlocksCount=function(e,r){switch(r){case Er.L:return Ms[(e-1)*4+0];case Er.M:return Ms[(e-1)*4+1];case Er.Q:return Ms[(e-1)*4+2];case Er.H:return Ms[(e-1)*4+3];default:return}},Ls.getTotalCodewordsCount=function(e,r){switch(r){case Er.L:return Us[(e-1)*4+0];case Er.M:return Us[(e-1)*4+1];case Er.Q:return Us[(e-1)*4+2];case Er.H:return Us[(e-1)*4+3];default:return}};var td={},Fs={};const xi=new Uint8Array(512),Bs=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)xi[r]=e,Bs[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)xi[r]=xi[r-255]})(),Fs.log=function(e){if(e<1)throw new Error("log("+e+")");return Bs[e]},Fs.exp=function(e){return xi[e]},Fs.mul=function(e,r){return e===0||r===0?0:xi[Bs[e]+Bs[r]]},function(t){const e=Fs;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(td);const rd=td;function Xa(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Xa.prototype.initialize=function(e){this.degree=e,this.genPoly=rd.generateECPolynomial(this.degree)},Xa.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=rd.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var l6=Xa,nd={},xr={},Qa={};Qa.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var or={};const id="[0-9]+",u6="[A-Z $%*+\\-./:]+";let Ci="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ci=Ci.replace(/u/g,"\\u");const h6="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ci+`)(?:.|[\r
]))+`;or.KANJI=new RegExp(Ci,"g"),or.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),or.BYTE=new RegExp(h6,"g"),or.NUMERIC=new RegExp(id,"g"),or.ALPHANUMERIC=new RegExp(u6,"g");const d6=new RegExp("^"+Ci+"$"),f6=new RegExp("^"+id+"$"),p6=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");or.testKanji=function(e){return d6.test(e)},or.testNumeric=function(e){return f6.test(e)},or.testAlphanumeric=function(e){return p6.test(e)},function(t){const e=Qa,r=or;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}}(xr),function(t){const e=jt,r=Ls,n=Rs,i=xr,s=Qa,o=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,a=e.getBCHDigit(o);function c(b,w,E){for(let A=1;A<=40;A++)if(w<=t.getCapacity(A,E,b))return A}function l(b,w){return i.getCharCountIndicator(b,w)+4}function p(b,w){let E=0;return b.forEach(function(A){const N=l(A.mode,w);E+=N+A.getBitsLength()}),E}function m(b,w){for(let E=1;E<=40;E++)if(p(b,E)<=t.getCapacity(E,w,i.MIXED))return E}t.from=function(w,E){return s.isValid(w)?parseInt(w,10):E},t.getCapacity=function(w,E,A){if(!s.isValid(w))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=i.BYTE);const N=e.getSymbolTotalCodewords(w),M=r.getTotalCodewordsCount(w,E),x=(N-M)*8;if(A===i.MIXED)return x;const D=x-l(A,w);switch(A){case i.NUMERIC:return Math.floor(D/10*3);case i.ALPHANUMERIC:return Math.floor(D/11*2);case i.KANJI:return Math.floor(D/13);case i.BYTE:default:return Math.floor(D/8)}},t.getBestVersionForData=function(w,E){let A;const N=n.from(E,n.M);if(Array.isArray(w)){if(w.length>1)return m(w,N);if(w.length===0)return 1;A=w[0]}else A=w;return c(A.mode,A.getLength(),N)},t.getEncodedBits=function(w){if(!s.isValid(w)||w<7)throw new Error("Invalid QR Code version");let E=w<<12;for(;e.getBCHDigit(E)-a>=0;)E^=o<<e.getBCHDigit(E)-a;return w<<12|E}}(nd);var sd={};const ec=jt,od=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,g6=1<<14|1<<12|1<<10|1<<4|1<<1,ad=ec.getBCHDigit(od);sd.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;ec.getBCHDigit(i)-ad>=0;)i^=od<<ec.getBCHDigit(i)-ad;return(n<<10|i)^g6};var cd={};const m6=xr;function In(t){this.mode=m6.NUMERIC,this.data=t.toString()}In.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},In.prototype.getLength=function(){return this.data.length},In.prototype.getBitsLength=function(){return In.getBitsLength(this.data.length)},In.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var w6=In;const b6=xr,tc=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Dn(t){this.mode=b6.ALPHANUMERIC,this.data=t}Dn.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},Dn.prototype.getLength=function(){return this.data.length},Dn.prototype.getBitsLength=function(){return Dn.getBitsLength(this.data.length)},Dn.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=tc.indexOf(this.data[r])*45;n+=tc.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(tc.indexOf(this.data[r]),6)};var y6=Dn,v6=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const _6=v6,E6=xr;function On(t){this.mode=E6.BYTE,typeof t=="string"&&(t=_6(t)),this.data=new Uint8Array(t)}On.getBitsLength=function(e){return e*8},On.prototype.getLength=function(){return this.data.length},On.prototype.getBitsLength=function(){return On.getBitsLength(this.data.length)},On.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var x6=On;const C6=xr,S6=jt;function An(t){this.mode=C6.KANJI,this.data=t}An.getBitsLength=function(e){return e*13},An.prototype.getLength=function(){return this.data.length},An.prototype.getBitsLength=function(){return An.getBitsLength(this.data.length)},An.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=S6.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var I6=An,ld={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,p,m,b,w,E,A,N;!a.empty();){c=a.pop(),l=c.value,m=c.cost,b=r[l]||{};for(p in b)b.hasOwnProperty(p)&&(w=b[p],E=m+w,A=o[p],N=typeof o[p]>"u",(N||A>E)&&(o[p]=E,a.push(p,E),s[p]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var M=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(M)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(ld),function(t){const e=xr,r=w6,n=y6,i=x6,s=I6,o=or,a=jt,c=ld.exports;function l(M){return unescape(encodeURIComponent(M)).length}function p(M,x,D){const y=[];let I;for(;(I=M.exec(D))!==null;)y.push({data:I[0],index:I.index,mode:x,length:I[0].length});return y}function m(M){const x=p(o.NUMERIC,e.NUMERIC,M),D=p(o.ALPHANUMERIC,e.ALPHANUMERIC,M);let y,I;return a.isKanjiModeEnabled()?(y=p(o.BYTE,e.BYTE,M),I=p(o.KANJI,e.KANJI,M)):(y=p(o.BYTE_KANJI,e.BYTE,M),I=[]),x.concat(D,y,I).sort(function(h,_){return h.index-_.index}).map(function(h){return{data:h.data,mode:h.mode,length:h.length}})}function b(M,x){switch(x){case e.NUMERIC:return r.getBitsLength(M);case e.ALPHANUMERIC:return n.getBitsLength(M);case e.KANJI:return s.getBitsLength(M);case e.BYTE:return i.getBitsLength(M)}}function w(M){return M.reduce(function(x,D){const y=x.length-1>=0?x[x.length-1]:null;return y&&y.mode===D.mode?(x[x.length-1].data+=D.data,x):(x.push(D),x)},[])}function E(M){const x=[];for(let D=0;D<M.length;D++){const y=M[D];switch(y.mode){case e.NUMERIC:x.push([y,{data:y.data,mode:e.ALPHANUMERIC,length:y.length},{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.ALPHANUMERIC:x.push([y,{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.KANJI:x.push([y,{data:y.data,mode:e.BYTE,length:l(y.data)}]);break;case e.BYTE:x.push([{data:y.data,mode:e.BYTE,length:l(y.data)}])}}return x}function A(M,x){const D={},y={start:{}};let I=["start"];for(let O=0;O<M.length;O++){const h=M[O],_=[];for(let H=0;H<h.length;H++){const j=h[H],q=""+O+H;_.push(q),D[q]={node:j,lastCount:0},y[q]={};for(let X=0;X<I.length;X++){const re=I[X];D[re]&&D[re].node.mode===j.mode?(y[re][q]=b(D[re].lastCount+j.length,j.mode)-b(D[re].lastCount,j.mode),D[re].lastCount+=j.length):(D[re]&&(D[re].lastCount=j.length),y[re][q]=b(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,x))}}I=_}for(let O=0;O<I.length;O++)y[I[O]].end=0;return{map:y,table:D}}function N(M,x){let D;const y=e.getBestModeForData(M);if(D=e.from(x,y),D!==e.BYTE&&D.bit<y.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(D)+`.
 Suggested mode is: `+e.toString(y));switch(D===e.KANJI&&!a.isKanjiModeEnabled()&&(D=e.BYTE),D){case e.NUMERIC:return new r(M);case e.ALPHANUMERIC:return new n(M);case e.KANJI:return new s(M);case e.BYTE:return new i(M)}}t.fromArray=function(x){return x.reduce(function(D,y){return typeof y=="string"?D.push(N(y,null)):y.data&&D.push(N(y.data,y.mode)),D},[])},t.fromString=function(x,D){const y=m(x,a.isKanjiModeEnabled()),I=E(y),O=A(I,D),h=c.find_path(O.map,"start","end"),_=[];for(let H=1;H<h.length-1;H++)_.push(O.table[h[H]].node);return t.fromArray(w(_))},t.rawSplit=function(x){return t.fromArray(m(x,a.isKanjiModeEnabled()))}}(cd);const js=jt,rc=Rs,D6=o6,O6=a6,A6=J0,$6=X0,nc=ed,ic=Ls,P6=l6,ks=nd,T6=sd,N6=xr,sc=cd;function R6(t,e){const r=t.size,n=$6.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function L6(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function M6(t,e){const r=A6.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function U6(t,e){const r=t.size,n=ks.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function oc(t,e,r){const n=t.size,i=T6.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function F6(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function B6(t,e,r){const n=new D6;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),N6.getCharCountIndicator(c.mode,t)),c.write(n)});const i=js.getSymbolTotalCodewords(t),s=ic.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return j6(n,t,e)}function j6(t,e,r){const n=js.getSymbolTotalCodewords(e),i=ic.getTotalCodewordsCount(e,r),s=n-i,o=ic.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),p=Math.floor(s/o),m=p+1,b=l-p,w=new P6(b);let E=0;const A=new Array(o),N=new Array(o);let M=0;const x=new Uint8Array(t.buffer);for(let h=0;h<o;h++){const _=h<c?p:m;A[h]=x.slice(E,E+_),N[h]=w.encode(A[h]),E+=_,M=Math.max(M,_)}const D=new Uint8Array(n);let y=0,I,O;for(I=0;I<M;I++)for(O=0;O<o;O++)I<A[O].length&&(D[y++]=A[O][I]);for(I=0;I<b;I++)for(O=0;O<o;O++)D[y++]=N[O][I];return D}function k6(t,e,r,n){let i;if(Array.isArray(t))i=sc.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const p=sc.rawSplit(t);l=ks.getBestVersionForData(p,r)}i=sc.fromString(t,l||40)}else throw new Error("Invalid data");const s=ks.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=B6(e,r,i),a=js.getSymbolSize(e),c=new O6(a);return R6(c,e),L6(c),M6(c,e),oc(c,r,0),e>=7&&U6(c,e),F6(c,o),isNaN(n)&&(n=nc.getBestMask(c,oc.bind(null,c,r))),nc.applyMask(n,c),oc(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}Z0.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=rc.M,i,s;return typeof r<"u"&&(n=rc.from(r.errorCorrectionLevel,rc.M),i=ks.from(r.version),s=nc.from(r.maskPattern),r.toSJISFunc&&js.setToSJISFunction(r.toSJISFunc)),k6(e,i,n,s)};var ud={},ac={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),p=s.margin*c,m=[s.color.light,s.color.dark];for(let b=0;b<l;b++)for(let w=0;w<l;w++){let E=(b*l+w)*4,A=s.color.light;if(b>=p&&w>=p&&b<l-p&&w<l-p){const N=Math.floor((b-p)/c),M=Math.floor((w-p)/c);A=m[a[N*o+M]?1:0]}n[E++]=A.r,n[E++]=A.g,n[E++]=A.b,n[E]=A.a}}})(ac),function(t){const e=ac;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const p=e.getImageWidth(s.modules.size,c),m=l.getContext("2d"),b=m.createImageData(p,p);return e.qrToImageData(b.data,s,c),r(m,l,p),m.putImageData(b,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),p=c.type||"image/png",m=c.rendererOpts||{};return l.toDataURL(p,m.quality)}}(ud);var hd={};const H6=ac;function dd(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function cc(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function z6(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?cc("M",c+r,.5+l+r):cc("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=cc("h",o),o=0)):i++}return n}hd.render=function(e,r,n){const i=H6.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+dd(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+dd(i.color.dark,"stroke")+' d="'+z6(o,s,i.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+p+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,b),b};const W6=i6,lc=Z0,fd=ud,q6=hd;function uc(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!W6())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const p=lc.create(r,n);c(t(p,e,n))}catch(p){l(p)}})}try{const c=lc.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}_i.create=lc.create,_i.toCanvas=uc.bind(null,fd.render),_i.toDataURL=uc.bind(null,fd.renderToDataURL),_i.toString=uc.bind(null,function(t,e,r){return q6.render(t,r)});var V6=Object.defineProperty,pd=Object.getOwnPropertySymbols,K6=Object.prototype.hasOwnProperty,G6=Object.prototype.propertyIsEnumerable,gd=(t,e,r)=>e in t?V6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,md=(t,e)=>{for(var r in e||(e={}))K6.call(e,r)&&gd(t,r,e[r]);if(pd)for(var r of pd(e))G6.call(e,r)&&gd(t,r,e[r]);return t};function wd(){return{default:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(51,150,255)",background:"rgb(232,242,252)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(71,161,255)",background:"rgb(21,38,55)"}},magenta:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(198,83,128)",background:"rgb(244,221,230)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(203,77,140)",background:"rgb(57,35,43)"}},blue:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(61,92,245)",background:"rgb(232,235,252)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(81,109,251)",background:"rgb(28,33,59)"}},orange:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(234,140,46)",background:"rgb(244,236,221)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(255,166,76)",background:"rgb(57,50,34)"}},green:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(38,181,98)",background:"rgb(218,246,218)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(38,217,98)",background:"rgb(35,52,40)"}},purple:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(121,76,255)",background:"rgb(225,218,246)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(144,110,247)",background:"rgb(36,31,51)"}},teal:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(43,182,182)",background:"rgb(217,242,238)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(54,226,226)",background:"rgb(29,48,52)"}},blackWhite:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(20,20,20)",background:"rgb(255,255,255)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(255,255,255)",background:"rgb(20,20,20)"}}}}function Z6(){return{light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1"}}}function Y6(){return{default:{1:"#B6B9C9",2:"#C653C6",3:"#794DFF",4:"#2EB8B8"},blue:{1:"#E8EBFD",2:"#C653C6",3:"#2DD2C5",4:"#3D5CF5"},magenta:{1:"#F4DDE6",2:"#E0D452",3:"#F09475",4:"#D1618D"},orange:{1:"#F4ECDD",2:"#B4EB47",3:"#3075E8",4:"#EB9947"},green:{1:"#DAF6DA",2:"#E06B92",3:"#99E54D",4:"#26B562"},purple:{1:"#E1DAF6",2:"#EB9947",3:"#E06B92",4:"#794DFF"},teal:{1:"#D9F2EE",2:"#F09475",3:"#794DFF",4:"#2EB8B8"},blackWhite:{1:"#E3E8E8",2:"#98AEAE",3:"#516767",4:"#242E2E"}}}const ue={color(){var t,e;const r=(t=Ve.state.themeColor)!=null?t:"default",n=(e=Ve.state.themeMode)!=null?e:"dark",i=wd()[r][n],s=Z6()[n],o=Y6()[r];return{foreground:md({accent:i.foreground,inverse:i.inverse},s.foreground),background:md({accent:i.background},s.background),gradient:o,overlay:s.overlay,error:"rgb(242, 90, 103)"}},setTheme(){const t=document.querySelector(":root"),{themeZIndex:e}=Ve.state;if(t){const r={"--w3m-color-fg-accent":ue.color().foreground.accent,"--w3m-color-fg-inverse":ue.color().foreground.inverse,"--w3m-color-fg-1":ue.color().foreground[1],"--w3m-color-fg-2":ue.color().foreground[2],"--w3m-color-fg-3":ue.color().foreground[3],"--w3m-color-bg-1":ue.color().background[1],"--w3m-color-bg-2":ue.color().background[2],"--w3m-color-bg-3":ue.color().background[3],"--w3m-color-overlay":ue.color().overlay,"--w3m-color-err":ue.color().error,"--w3m-color-success":wd().green.light.foreground,"--w3m-gradient-1":ue.color().gradient[1],"--w3m-gradient-2":ue.color().gradient[2],"--w3m-gradient-3":ue.color().gradient[3],"--w3m-gradient-4":ue.color().gradient[4],"--w3m-modal-z-index":`${e}`};Object.entries(r).forEach(([n,i])=>t.style.setProperty(n,i))}},globalCss:_e`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent}button::after{content:'';position:absolute;inset:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button w3m-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--w3m-color-fg-inverse);background:var(--w3m-color-fg-accent)}`},J6=_e`button{display:flex;border-radius:10px;flex-direction:column;transition:background-color .2s ease;justify-content:center;padding:5px;width:100px}button:hover{background-color:var(--w3m-color-overlay)}button>div{display:flex;justify-content:center;align-items:center;width:32px;height:32px;box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);background-color:var(--w3m-color-fg-accent);border-radius:50%;margin-bottom:4px}button path{fill:var(--w3m-color-fg-inverse)}`;var X6=Object.defineProperty,Q6=Object.getOwnPropertyDescriptor,Hs=(t,e,r,n)=>{for(var i=n>1?void 0:n?Q6(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&X6(e,r,i),i};let $n=class extends fe{constructor(){super(...arguments),this.icon=void 0,this.label="",this.onClick=()=>null}render(){return V`<button @click="${this.onClick}"><div>${this.icon}</div><w3m-text variant="xsmall-normal" color="accent">${this.label}</w3m-text></button>`}};$n.styles=[ue.globalCss,J6],Hs([ye()],$n.prototype,"icon",2),Hs([ye()],$n.prototype,"label",2),Hs([ye()],$n.prototype,"onClick",2),$n=Hs([we("w3m-box-button")],$n);const e4=_e`button{border-radius:28px;height:28px;padding:0 10px;background-color:var(--w3m-color-fg-accent)}button path{fill:var(--w3m-color-fg-inverse)}button::after{border-radius:inherit;border:1px solid var(--w3m-color-overlay)}button:disabled::after{background-color:transparent}.w3m-icon-left svg{margin-right:5px}.w3m-icon-right svg{margin-left:5px}button:hover::after{background-color:var(--w3m-color-overlay)}button:disabled{background-color:var(--w3m-color-bg-3)}`;var t4=Object.defineProperty,r4=Object.getOwnPropertyDescriptor,Si=(t,e,r,n)=>{for(var i=n>1?void 0:n?r4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&t4(e,r,i),i};let Wr=class extends fe{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null}render(){const t={"w3m-icon-left":this.iconLeft!==void 0,"w3m-icon-right":this.iconRight!==void 0};return V`<button class="${Mt(t)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<w3m-text variant="small-normal" color="inverse"><slot></slot></w3m-text>${this.iconRight}</button>`}};Wr.styles=[ue.globalCss,e4],Si([ye()],Wr.prototype,"disabled",2),Si([ye()],Wr.prototype,"iconLeft",2),Si([ye()],Wr.prototype,"iconRight",2),Si([ye()],Wr.prototype,"onClick",2),Wr=Si([we("w3m-button")],Wr);const n4=_e`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:10px;color:var(--w3m-color-fg-inverse);background-color:var(--w3m-color-fg-accent)}button::after{content:'';inset:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--w3m-color-overlay)}button:hover::after{background-color:var(--w3m-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--w3m-color-bg-3);color:var(--w3m-color-fg-3)}.w3m-secondary{color:var(--w3m-color-fg-accent);background-color:transparent}.w3m-secondary::after{display:none}`;var i4=Object.defineProperty,s4=Object.getOwnPropertyDescriptor,hc=(t,e,r,n)=>{for(var i=n>1?void 0:n?s4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&i4(e,r,i),i};let Ii=class extends fe{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const t={"w3m-secondary":this.variant==="secondary"};return V`<button ?disabled="${this.disabled}" class="${Mt(t)}"><slot></slot></button>`}};Ii.styles=[ue.globalCss,n4],hc([ye()],Ii.prototype,"disabled",2),hc([ye()],Ii.prototype,"variant",2),Ii=hc([we("w3m-button-big")],Ii);let o4=class{constructor(...t){this.angle=0,this.t=1253106,this.last=0,this.height=500,this.amp=300,this.seed=15,this.freqX=14e-5,this.freqY=29e-5,this.freqDelta=1e-5,this.activeColors=[1,1,1,1],this.isMetaKey=!1,this.playing=!1,bd(this,"resize",()=>{this.width=window.innerWidth,this.minigl.setSize(this.width,this.height),this.minigl.setOrthographicCamera(),this.xSegCount=Math.ceil(this.width*this.conf.density[0]),this.ySegCount=Math.ceil(this.height*this.conf.density[1]),this.mesh.geometry.setTopology(this.xSegCount,this.ySegCount),this.mesh.geometry.setSize(this.width,this.height),this.mesh.material.uniforms.u_shadow_power.value=this.width<550?5:6}),bd(this,"animate",e=>{if(this.playing){if(this.shouldSkipFrame(e)||(this.t+=Math.min(e-this.last,1e3/15),this.last=e,this.mesh.material.uniforms.u_time.value=this.t,this.minigl.render()),this.last!==0&&this.isStatic)return this.minigl.render();requestAnimationFrame(this.animate)}})}play(t){this.el=t,this.connect()}stop(){this.playing=!1}async connect(){this.shaderFiles={vertex:"varying vec3 v_color;void main(){float time=u_time*u_global.noiseSpeed;vec2 noiseCoord=resolution*uvNorm*u_global.noiseFreq;vec2 st=1.-uvNorm.xy;float tilt=resolution.y/2.0*uvNorm.y;float incline=resolution.x*uvNorm.x/2.0*u_vertDeform.incline;float offset=resolution.x/2.0*u_vertDeform.incline*mix(u_vertDeform.offsetBottom,u_vertDeform.offsetTop,uv.y);float noise=snoise(vec3(noiseCoord.x*u_vertDeform.noiseFreq.x+time*u_vertDeform.noiseFlow,noiseCoord.y*u_vertDeform.noiseFreq.y,time*u_vertDeform.noiseSpeed+u_vertDeform.noiseSeed))*u_vertDeform.noiseAmp;noise*=1.0-pow(abs(uvNorm.y),2.0);noise=max(0.0,noise);vec3 pos=vec3(position.x,position.y+tilt+incline+noise-offset,position.z);if(u_active_colors[0]==1.){v_color=u_baseColor;}for(int i=0;i<u_waveLayers_length;i++){if(u_active_colors[i+1]==1.){WaveLayers layer=u_waveLayers[i];float noise=smoothstep(layer.noiseFloor,layer.noiseCeil,snoise(vec3(noiseCoord.x*layer.noiseFreq.x+time*layer.noiseFlow,noiseCoord.y*layer.noiseFreq.y,time*layer.noiseSpeed+layer.noiseSeed))/2.0+0.5);v_color=blendNormal(v_color,layer.color,pow(noise,4.));}}gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);}",noise:`
// MIT License: Copyright (C) 2011 Ashima Arts. All rights reserved. https://github.com/ashima/webgl-noise, https://github.com/stegu/webgl-noise
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`,blend:`
// MIT Licence: Copyright (C) 2015 Jamie Owen. All rights reserved. https://github.com/jamieowen/glsl-blend
vec3 blendNormal(vec3 base, vec3 blend){return blend;}vec3 blendNormal(vec3 base,vec3 blend,float opacity){return (blendNormal(base,blend)*opacity+base*(1.0-opacity));}float blendScreen(float base,float blend){return 1.0-((1.0-base)*(1.0-blend));}vec3 blendScreen(vec3 base,vec3 blend){return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));}vec3 blendScreen(vec3 base,vec3 blend,float opacity){return (blendScreen(base, blend)*opacity+base*(1.0-opacity));}vec3 blendMultiply(vec3 base,vec3 blend){return base*blend;}vec3 blendMultiply(vec3 base,vec3 blend,float opacity){return (blendMultiply(base,blend)*opacity+base*(1.0-opacity));}float blendOverlay(float base,float blend){return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));}vec3 blendOverlay(vec3 base,vec3 blend){return vec3(blendOverlay(base.r,blend.r),blendOverlay(base.g,blend.g),blendOverlay(base.b,blend.b));}vec3 blendOverlay(vec3 base,vec3 blend,float opacity){return (blendOverlay(base,blend)*opacity+base*(1.0-opacity));}vec3 blendHardLight(vec3 base,vec3 blend){return blendOverlay(blend,base);}vec3 blendHardLight(vec3 base,vec3 blend,float opacity){return (blendHardLight(base,blend)*opacity+base*(1.0-opacity));}float blendSoftLight(float base,float blend){return (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));}vec3 blendSoftLight(vec3 base,vec3 blend){return vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));}vec3 blendSoftLight(vec3 base,vec3 blend,float opacity){return (blendSoftLight(base,blend)*opacity+base*(1.0-opacity));}float blendColorDodge(float base,float blend){return (blend==1.0)?blend:min(base/(1.0-blend),1.0);}vec3 blendColorDodge(vec3 base,vec3 blend){return vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));}vec3 blendColorDodge(vec3 base,vec3 blend,float opacity){return (blendColorDodge(base, blend)*opacity+base*(1.0-opacity));}float blendColorBurn(float base,float blend){return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);}vec3 blendColorBurn(vec3 base,vec3 blend){return vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));}vec3 blendColorBurn(vec3 base,vec3 blend,float opacity){return (blendColorBurn(base, blend)*opacity+base*(1.0-opacity));}float blendVividLight(float base,float blend){return (blend<0.5)?blendColorBurn(base,(2.0*blend)):blendColorDodge(base,(2.0*(blend-0.5)));}vec3 blendVividLight(vec3 base,vec3 blend){return vec3(blendVividLight(base.r,blend.r),blendVividLight(base.g,blend.g),blendVividLight(base.b,blend.b));}vec3 blendVividLight(vec3 base,vec3 blend,float opacity){return (blendVividLight(base,blend)*opacity+base*(1.0-opacity));}float blendLighten(float base,float blend){return max(blend,base);}vec3 blendLighten(vec3 base,vec3 blend){return vec3(blendLighten(base.r,blend.r),blendLighten(base.g,blend.g),blendLighten(base.b,blend.b));}vec3 blendLighten(vec3 base,vec3 blend,float opacity){return (blendLighten(base,blend)*opacity+base*(1.0-opacity));}float blendLinearBurn(float base,float blend){return max(base+blend-1.0,0.0);}vec3 blendLinearBurn(vec3 base,vec3 blend){return max(base+blend-vec3(1.0),vec3(0.0));}vec3 blendLinearBurn(vec3 base,vec3 blend,float opacity){return (blendLinearBurn(base, blend)*opacity+base*(1.0-opacity));}float blendLinearDodge(float base,float blend){return min(base+blend,1.0);}vec3 blendLinearDodge(vec3 base,vec3 blend){return min(base+blend,vec3(1.0));}vec3 blendLinearDodge(vec3 base,vec3 blend,float opacity){return (blendLinearDodge(base,blend)*opacity+base*(1.0-opacity));}float blendLinearLight(float base,float blend){return blend<0.5?blendLinearBurn(base,(2.0*blend)):blendLinearDodge(base,(2.0*(blend-0.5)));}vec3 blendLinearLight(vec3 base,vec3 blend){return vec3(blendLinearLight(base.r,blend.r),blendLinearLight(base.g,blend.g),blendLinearLight(base.b,blend.b));}vec3 blendLinearLight(vec3 base,vec3 blend,float opacity){return (blendLinearLight(base,blend)*opacity+base*(1.0-opacity));}`,fragment:"varying vec3 v_color;void main(){vec3 color=v_color;if(u_darken_top==1.0){vec2 st=gl_FragCoord.xy/resolution.xy;color.g-=pow(st.y+sin(-12.0)*st.x,u_shadow_power)*0.4;}gl_FragColor=vec4(color,1.0);}"},this.conf={density:[.06,.16]},this.minigl=new c4(this.el,null,null,!0),requestAnimationFrame(()=>{this.el&&(this.computedCanvasStyle=getComputedStyle(this.el),this.waitForCssVars())})}initMaterial(){this.uniforms={u_time:new this.minigl.Uniform({value:0}),u_shadow_power:new this.minigl.Uniform({value:5}),u_darken_top:new this.minigl.Uniform({value:this.el.dataset.jsDarkenTop===""?1:0}),u_active_colors:new this.minigl.Uniform({value:this.activeColors,type:"vec4"}),u_global:new this.minigl.Uniform({value:{noiseFreq:new this.minigl.Uniform({value:[this.freqX,this.freqY],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:5e-6})},type:"struct"}),u_vertDeform:new this.minigl.Uniform({value:{incline:new this.minigl.Uniform({value:Math.sin(this.angle)/Math.cos(this.angle)}),offsetTop:new this.minigl.Uniform({value:-.5}),offsetBottom:new this.minigl.Uniform({value:-.5}),noiseFreq:new this.minigl.Uniform({value:[3,4],type:"vec2"}),noiseAmp:new this.minigl.Uniform({value:this.amp}),noiseSpeed:new this.minigl.Uniform({value:10}),noiseFlow:new this.minigl.Uniform({value:3}),noiseSeed:new this.minigl.Uniform({value:this.seed})},type:"struct",excludeFrom:"fragment"}),u_baseColor:new this.minigl.Uniform({value:this.sectionColors[0],type:"vec3",excludeFrom:"fragment"}),u_waveLayers:new this.minigl.Uniform({value:[],excludeFrom:"fragment",type:"array"})};for(let t=1;t<this.sectionColors.length;t+=1)this.uniforms.u_waveLayers.value.push(new this.minigl.Uniform({value:{color:new this.minigl.Uniform({value:this.sectionColors[t],type:"vec3"}),noiseFreq:new this.minigl.Uniform({value:[2+t/this.sectionColors.length,3+t/this.sectionColors.length],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:11+.3*t}),noiseFlow:new this.minigl.Uniform({value:6.5+.3*t}),noiseSeed:new this.minigl.Uniform({value:this.seed+10*t}),noiseFloor:new this.minigl.Uniform({value:.1}),noiseCeil:new this.minigl.Uniform({value:.63+.07*t})},type:"struct"}));return this.vertexShader=[this.shaderFiles.noise,this.shaderFiles.blend,this.shaderFiles.vertex].join(""),new this.minigl.Material(this.vertexShader,this.shaderFiles.fragment,this.uniforms)}initMesh(){this.material=this.initMaterial(),this.geometry=new this.minigl.PlaneGeometry,this.mesh=new this.minigl.Mesh(this.geometry,this.material)}shouldSkipFrame(t){return!!window.document.hidden||parseInt(t,10)%2==0||void 0}updateFrequency(t){this.freqX+=t,this.freqY+=t}toggleColor(t){this.activeColors[t]=this.activeColors[t]===0?1:0}init(){this.playing=!0,this.initGradientColors(),this.initMesh(),this.resize(),requestAnimationFrame(this.animate)}waitForCssVars(){this.computedCanvasStyle&&this.computedCanvasStyle.getPropertyValue("--w3m-gradient-1").indexOf("#")!==-1?this.init():this.init()}initGradientColors(){this.sectionColors=["--w3m-gradient-1","--w3m-gradient-2","--w3m-gradient-3","--w3m-gradient-4"].map(t=>{let e=this.computedCanvasStyle.getPropertyValue(t).trim();return e.length===4&&(e=`#${e.substr(1).split("").map(r=>r+r).join("")}`),e&&`0x${e.substr(1)}`}).filter(Boolean).map(a4)}};function a4(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]}function bd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}let c4=class{constructor(t,e,r){const n=this;n.canvas=t,n.gl=n.canvas.getContext("webgl",{antialias:!0}),n.meshes=[];const i=n.gl;e&&r&&this.setSize(e,r),Object.defineProperties(n,{Material:{enumerable:!1,value:class{constructor(o,a,c={}){const l=this;function p(w,E){const A=i.createShader(w);return i.shaderSource(A,E),i.compileShader(A),i.getShaderParameter(A,i.COMPILE_STATUS)||console.error(i.getShaderInfoLog(A)),A}function m(w,E){return Object.entries(w).map(([A,N])=>N.getDeclaration(A,E)).join("")}l.uniforms=c,l.uniformInstances=[];const b="precision highp float;";l.vertexSource=`${b} attribute vec4 position;attribute vec2 uv;attribute vec2 uvNorm;${m(n.commonUniforms,"vertex")} ${m(c,"vertex")} ${o}`,l.Source=`${b} ${m(n.commonUniforms,"fragment")} ${m(c,"fragment")} ${a} `,l.vertexShader=p(i.VERTEX_SHADER,l.vertexSource),l.fragmentShader=p(i.FRAGMENT_SHADER,l.Source),l.program=i.createProgram(),i.attachShader(l.program,l.vertexShader),i.attachShader(l.program,l.fragmentShader),i.linkProgram(l.program),i.getProgramParameter(l.program,i.LINK_STATUS)||console.error(i.getProgramInfoLog(l.program)),i.useProgram(l.program),l.attachUniforms(void 0,n.commonUniforms),l.attachUniforms(void 0,l.uniforms)}attachUniforms(o,a){const c=this;o===void 0?Object.entries(a).forEach(([l,p])=>{c.attachUniforms(l,p)}):a.type=="array"?a.value.forEach((l,p)=>c.attachUniforms(`${o}[${p}]`,l)):a.type=="struct"?Object.entries(a.value).forEach(([l,p])=>c.attachUniforms(`${o}.${l}`,p)):c.uniformInstances.push({uniform:a,location:i.getUniformLocation(c.program,o)})}}},Uniform:{enumerable:!1,value:class{constructor(o){this.type="float",Object.assign(this,o),this.typeFn={float:"1f",int:"1i",vec2:"2fv",vec3:"3fv",vec4:"4fv",mat4:"Matrix4fv"}[this.type]||"1f",this.update()}update(o){this.value!==void 0&&i[`uniform${this.typeFn}`](o,this.typeFn.indexOf("Matrix")===0?this.transpose:this.value,this.typeFn.indexOf("Matrix")===0?this.value:null)}getDeclaration(o,a,c){const l=this;if(l.excludeFrom!==a){if(l.type==="array")return l.value[0].getDeclaration(o,a,l.value.length)+`const int ${o}_length=${l.value.length};`;if(l.type==="struct"){let p=o.replace("u_","");return p=p.charAt(0).toUpperCase()+p.slice(1),`uniform struct ${p} {`+Object.entries(l.value).map(([m,b])=>b.getDeclaration(m,a).replace(/^uniform/,"")).join("")+`} ${o}${c>0?`[${c}]`:""};`}return`uniform ${l.type} ${o}${c>0?`[${c}]`:""};`}}}},PlaneGeometry:{enumerable:!1,value:class{constructor(o,a,c,l,p){i.createBuffer(),this.attributes={position:new n.Attribute({target:i.ARRAY_BUFFER,size:3}),uv:new n.Attribute({target:i.ARRAY_BUFFER,size:2}),uvNorm:new n.Attribute({target:i.ARRAY_BUFFER,size:2}),index:new n.Attribute({target:i.ELEMENT_ARRAY_BUFFER,size:3,type:i.UNSIGNED_SHORT})},this.setTopology(c,l),this.setSize(o,a,p)}setTopology(o=1,a=1){const c=this;c.xSegCount=o,c.ySegCount=a,c.vertexCount=(c.xSegCount+1)*(c.ySegCount+1),c.quadCount=c.xSegCount*c.ySegCount*2,c.attributes.uv.values=new Float32Array(2*c.vertexCount),c.attributes.uvNorm.values=new Float32Array(2*c.vertexCount),c.attributes.index.values=new Uint16Array(3*c.quadCount);for(let l=0;l<=c.ySegCount;l++)for(let p=0;p<=c.xSegCount;p++){const m=l*(c.xSegCount+1)+p;if(c.attributes.uv.values[2*m]=p/c.xSegCount,c.attributes.uv.values[2*m+1]=1-l/c.ySegCount,c.attributes.uvNorm.values[2*m]=p/c.xSegCount*2-1,c.attributes.uvNorm.values[2*m+1]=1-l/c.ySegCount*2,p<c.xSegCount&&l<c.ySegCount){const b=l*c.xSegCount+p;c.attributes.index.values[6*b]=m,c.attributes.index.values[6*b+1]=m+1+c.xSegCount,c.attributes.index.values[6*b+2]=m+1,c.attributes.index.values[6*b+3]=m+1,c.attributes.index.values[6*b+4]=m+1+c.xSegCount,c.attributes.index.values[6*b+5]=m+2+c.xSegCount}}c.attributes.uv.update(),c.attributes.uvNorm.update(),c.attributes.index.update()}setSize(o=1,a=1,c="xz"){const l=this;l.width=o,l.height=a,l.orientation=c,l.attributes.position.values&&l.attributes.position.values.length===3*l.vertexCount||(l.attributes.position.values=new Float32Array(3*l.vertexCount));const p=o/-2,m=a/-2,b=o/l.xSegCount,w=a/l.ySegCount;for(let E=0;E<=l.ySegCount;E++){const A=m+E*w;for(let N=0;N<=l.xSegCount;N++){const M=p+N*b,x=E*(l.xSegCount+1)+N;l.attributes.position.values[3*x+"xyz".indexOf(c[0])]=M,l.attributes.position.values[3*x+"xyz".indexOf(c[1])]=-A}}l.attributes.position.update()}}},Mesh:{enumerable:!1,value:class{constructor(o,a){const c=this;c.geometry=o,c.material=a,c.attributeInstances=[],Object.entries(c.geometry.attributes).forEach(([l,p])=>{c.attributeInstances.push({attribute:p,location:p.attach(l,c.material.program)})}),n.meshes.push(c)}draw(){i.useProgram(this.material.program),this.material.uniformInstances.forEach(({uniform:o,location:a})=>o.update(a)),this.attributeInstances.forEach(({attribute:o,location:a})=>o.use(a)),i.drawElements(i.TRIANGLES,this.geometry.attributes.index.values.length,i.UNSIGNED_SHORT,0)}remove(){n.meshes=n.meshes.filter(o=>o!=this)}}},Attribute:{enumerable:!1,value:class{constructor(o){this.type=i.FLOAT,this.normalized=!1,this.buffer=i.createBuffer(),Object.assign(this,o),this.update()}update(){this.values!==void 0&&(i.bindBuffer(this.target,this.buffer),i.bufferData(this.target,this.values,i.STATIC_DRAW))}attach(o,a){const c=i.getAttribLocation(a,o);return this.target===i.ARRAY_BUFFER&&(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,this.size,this.type,this.normalized,0,0)),c}use(o){i.bindBuffer(this.target,this.buffer),this.target===i.ARRAY_BUFFER&&(i.enableVertexAttribArray(o),i.vertexAttribPointer(o,this.size,this.type,this.normalized,0,0))}}}});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];n.commonUniforms={projectionMatrix:new n.Uniform({type:"mat4",value:s}),modelViewMatrix:new n.Uniform({type:"mat4",value:s}),resolution:new n.Uniform({type:"vec2",value:[1,1]}),aspectRatio:new n.Uniform({type:"float",value:1})}}setSize(t=640,e=480){this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,this.gl.viewport(0,0,t,e),this.commonUniforms.resolution.value=[t,e],this.commonUniforms.aspectRatio.value=t/e}setOrthographicCamera(t=0,e=0,r=0,n=-2e3,i=2e3){this.commonUniforms.projectionMatrix.value=[2/this.width,0,0,0,0,2/this.height,0,0,0,0,2/(n-i),0,t,e,r,1]}render(){this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.meshes.forEach(t=>t.draw())}};const be={CROSS_ICON:Ae`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,NOISE_TEXTURE:Ae`<svg id="w3m-transparent-noise"><filter id="w3m-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8"/></filter><rect width="100%" height="100%" filter="url(#w3m-noise)"/></svg>`,WALLET_CONNECT_LOGO:Ae`<svg width="178" height="29" viewBox="0 0 178 29" id="w3m-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:Ae`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:Ae`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:Ae`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:Ae`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:Ae`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:Ae`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:Ae`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:Ae`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:Ae`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:Ae`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:Ae`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:Ae`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:Ae`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,HELP_ETH_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#j)"><rect width="60" height="60" rx="30" fill="#987DE8"/><path fill-rule="evenodd" clip-rule="evenodd" d="m15.48 28.367 11.966-19.3c1.174-1.892 3.927-1.892 5.1 0l11.97 19.306a6 6 0 0 1 .9 3.142v.028a6 6 0 0 1-1.154 3.56L33.227 50.208c-1.599 2.188-4.864 2.188-6.461 0L15.733 35.095a6 6 0 0 1-1.154-3.538v-.029a6 6 0 0 1 .9-3.161Z" fill="#fff"/><path d="M30.84 10.112a.992.992 0 0 0-.844-.464V24.5l12.598 5.53c.081-.466-.001-.963-.27-1.398L30.84 10.112Z" fill="#643CDD"/><path d="M29.996 9.648a.991.991 0 0 0-.845.465l-11.489 18.53a1.991 1.991 0 0 0-.264 1.387l12.598-5.53V9.648Z" fill="#BDADEB"/><path d="M29.996 50.544a.994.994 0 0 0 .808-.41l11.235-15.38c.307-.434-.193-.988-.658-.72L31.49 39.71a2.998 2.998 0 0 1-1.494.398v10.437Z" fill="#643CDD"/><path d="M17.966 34.762 29.19 50.134c.2.274.503.41.807.41V40.108a2.998 2.998 0 0 1-1.493-.398l-9.884-5.676c-.468-.27-.971.292-.653.728Z" fill="#BDADEB"/><path d="M42.594 30.03 29.996 24.5v13.138a3 3 0 0 0 1.495-.399l10.149-5.83c.525-.31.856-.823.954-1.38Z" fill="#401AB3"/><path d="M29.996 37.638V24.462l-12.598 5.566c.098.564.437 1.083.974 1.392l10.13 5.82c.462.265.978.398 1.494.398Z" fill="#7C5AE2"/></g><rect class="help-img-highlight" x=".5" y=".5" width="59" height="59" rx="29.5"/><defs><clipPath id="j"><rect width="60" height="60" rx="30" fill="#fff"/></clipPath></defs></svg>`,HELP_PAINTING_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#k)"><rect width="60" height="60" rx="3" fill="#C653C6"/><path d="M52.094 47.344c0-4.246-1.436-9.557-5.885-12.4a2.876 2.876 0 0 0-1.615-3.891v-.819a4.037 4.037 0 0 0-1.34-3.007 4.75 4.75 0 0 0-2.41-6.252v-5.506c0-6.248-5.065-11.313-11.313-11.313-6.247 0-11.312 5.065-11.312 11.313v2.152a3.343 3.343 0 0 0-1.18 5.045 4.738 4.738 0 0 0-1.633 3.584 4.73 4.73 0 0 0 .956 2.858 5.218 5.218 0 0 0-2.358 6.815c-3.06 4.129-6.098 8.298-6.098 15.64 0 2.668.364 4.856.731 6.385.184.765.368 1.366.509 1.78a12.721 12.721 0 0 0 .225.611l.015.037.005.011.001.004v.002h.001l.92-.393-.92.394.26.606h38.26l.291-.49-.86-.51.86.51v-.001l.002-.002.002-.005.01-.017.035-.06.127-.225c.108-.195.26-.477.441-.835.363-.714.845-1.732 1.328-2.953.959-2.427 1.945-5.725 1.945-9.068Z" fill="#E87DE8" stroke="#fff" stroke-width="2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M26.5 29.5c-3-.5-5.5-3-5.503-7l.002-7c0-.466 0-.698.026-.893a3 3 0 0 1 2.582-2.582c.195-.026.428-.026.893-.026 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.398 0 2.097 0 2.648.229a3 3 0 0 1 1.624 1.623c.228.552.228 1.25.228 2.649v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.495 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z" fill="#fff"/></g><rect class="help-img-highlight" x=".5" y=".5" width="59" height="59" rx="2.5"/><defs><clipPath id="k"><rect width="60" height="60" rx="3" fill="#fff"/></clipPath></defs></svg>`,HELP_CHART_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#l)"><path d="M0 25.01C0 15.76 0 11.133 1.97 7.678a15 15 0 0 1 5.598-5.597C11.023.11 15.648.11 24.9.11h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.597C60 11.133 60 15.758 60 25.01v10.2c0 9.252 0 13.877-1.97 17.332a15 15 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a14.999 14.999 0 0 1-5.597-5.598C0 49.087 0 44.462 0 35.21v-10.2Z" fill="#1DC956"/><path d="M.5 25.01c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.289a14.5 14.5 0 0 1 5.412-5.41c1.639-.936 3.579-1.418 6.289-1.661C16.822.61 20.265.61 24.9.61h10.2c4.635 0 8.078 0 10.795.245 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.579 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.795-.244 2.71-.726 4.65-1.66 6.29a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.412C1.47 50.655.988 48.716.745 46.005.5 43.288.5 39.845.5 35.21v-10.2Z" stroke="#fff" stroke-opacity=".1"/><path d="M16.109 60c-3.833-.179-6.41-.645-8.541-1.86a15 15 0 0 1-5.598-5.598C.553 50.057.155 46.967.043 41.985l4.146-1.382a4 4 0 0 0 2.48-2.39l4.654-12.409a2 2 0 0 1 2.505-1.195l2.526.842a2 2 0 0 0 2.422-1.003l2.968-5.938c.81-1.62 3.185-1.415 3.705.32l3.774 12.581a2 2 0 0 0 3.025 1.09l3.342-2.228c.27-.18.49-.422.646-.706l5.297-9.712a2 2 0 0 1 1.428-1.016l4.134-.689a2 2 0 0 1 1.61.437l3.892 3.243a2 2 0 0 0 2.694-.122l4.633-4.632C60 19.28 60 21.88 60 25.01v10.2c0 9.252 0 13.877-1.97 17.332a14.998 14.998 0 0 1-5.598 5.598c-2.131 1.215-4.708 1.681-8.54 1.86H16.108Z" fill="#2BEE6C"/><path d="M.072 43.03a112.37 112.37 0 0 1-.048-2.093l3.85-1.283a3 3 0 0 0 1.86-1.793l4.653-12.408a3 3 0 0 1 3.758-1.793l2.526.842a1 1 0 0 0 1.21-.501l2.97-5.938c1.214-2.43 4.775-2.123 5.556.48l3.774 12.58a1 1 0 0 0 1.513.545l3.341-2.227a1 1 0 0 0 .323-.353l5.298-9.712a3 3 0 0 1 2.14-1.523l4.135-.69a3 3 0 0 1 2.414.655l3.892 3.244a1 1 0 0 0 1.347-.061l5.28-5.28c.046.845.077 1.752.097 2.732l-3.962 3.962a3 3 0 0 1-4.042.183l-3.893-3.243a1 1 0 0 0-.804-.218l-4.135.689a1 1 0 0 0-.714.507l-5.297 9.712c-.233.427-.565.79-.97 1.06l-3.34 2.228a3 3 0 0 1-4.538-1.635l-3.775-12.58c-.26-.868-1.447-.97-1.852-.16l-2.969 5.937a3 3 0 0 1-3.632 1.505l-2.526-.842a1 1 0 0 0-1.252.597L7.606 38.564a5 5 0 0 1-3.1 2.988L.072 43.029Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z" fill="#2BEE6C"/><path d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" fill="#fff"/><path d="M45 .283v59.654c-.63.042-1.294.074-2 .098V.185c.706.025 1.37.056 2 .098Z" fill="#fff"/><path class="help-img-highlight" d="M.5 25.01c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.289a14.5 14.5 0 0 1 5.412-5.41c1.639-.936 3.579-1.418 6.289-1.661C16.822.61 20.265.61 24.9.61h10.2c4.635 0 8.078 0 10.795.245 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.579 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.795-.244 2.71-.726 4.65-1.66 6.29a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.412C1.47 50.655.988 48.716.745 46.005.5 43.288.5 39.845.5 35.21v-10.2Z"/></g><defs><clipPath id="l"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,HELP_KEY_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#m)"><path fill="#EB8B47" d="M0 24.9c0-9.252 0-13.878 1.97-17.332A15 15 0 0 1 7.569 1.97C11.023 0 15.648 0 24.9 0h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.022 60 15.648 60 24.899v10.2c0 9.252 0 13.878-1.97 17.332a15.001 15.001 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.351 0 35.1V24.9Z"/><path class="help-img-highlight" d="M.5 24.9c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.29a14.5 14.5 0 0 1 5.412-5.41C9.455 1.468 11.395.986 14.105.743 16.822.5 20.265.5 24.9.5h10.2c4.635 0 8.078 0 10.795.244 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.58 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.796-.244 2.71-.726 4.65-1.66 6.289a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.411c-.935-1.64-1.417-3.58-1.66-6.29C.5 43.178.5 39.734.5 35.1V24.9Z"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M39.192 29.192c5.077-5.077 5.077-13.308 0-18.385-5.076-5.077-13.308-5.077-18.384 0-5.077 5.077-5.077 13.308 0 18.385l1.287 1.291c1.137 1.142 1.706 1.712 2.097 2.387.267.462.472.957.608 1.473.2.755.2 1.56.2 3.171V48.75c0 1.077 0 1.615.134 2.119a4 4 0 0 0 .407.984c.262.45.643.831 1.404 1.592l.294.295c.654.654.982.981 1.365 1.086.26.07.533.07.792 0 .383-.105.71-.432 1.365-1.086l3.478-3.479c.655-.654.982-.981 1.087-1.365a1.5 1.5 0 0 0 0-.791c-.105-.384-.432-.711-1.087-1.365l-.478-.479c-.655-.654-.982-.981-1.087-1.365a1.5 1.5 0 0 1 0-.791c.105-.384.432-.711 1.087-1.365l.478-.479c.655-.654.982-.981 1.087-1.365a1.5 1.5 0 0 0 0-.791c-.105-.384-.432-.711-1.087-1.365l-.492-.493c-.65-.65-.974-.974-1.08-1.355a1.5 1.5 0 0 1-.003-.788c.102-.382.425-.71 1.069-1.364l5.46-5.547Z"/><circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/></g><defs><clipPath id="m"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,HELP_USER_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#n)"><rect width="60" height="60" fill="#00ACE6" rx="30"/><path fill="#1AC6FF" stroke="#fff" stroke-width="2" d="M59 73c0 16.016-12.984 29-29 29S1 89.016 1 73c0-16.017 11-29 29-29s29 12.983 29 29ZM18.69 19.902a11 11 0 0 1 9.281-8.692 14.842 14.842 0 0 1 4.058 0 11 11 0 0 1 9.28 8.692c.178.866.322 1.75.44 2.625.132.977.132 1.968 0 2.945a39.467 39.467 0 0 1-.44 2.625 11 11 0 0 1-9.28 8.692 14.862 14.862 0 0 1-4.058 0 11 11 0 0 1-9.28-8.692 39.467 39.467 0 0 1-.44-2.625 11.004 11.004 0 0 1 0-2.945c.118-.876.262-1.759.44-2.625Z"/><circle cx="24.5" cy="23.5" r="1.5" fill="#fff"/><circle cx="35.5" cy="23.5" r="1.5" fill="#fff"/><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m31 20-3 8h4"/></g><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="29.5"/><defs><clipPath id="n"><rect width="60" height="60" fill="#fff" rx="30"/></clipPath></defs></svg>`,HELP_LOCK_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#C653C6" rx="3"/><path fill="#fff" d="M20.034 15.216C20 15.607 20 16.07 20 17v2.808c0 1.13 0 1.696-.2 2.11a1.78 1.78 0 0 1-.584.714c-.366.28-1.051.42-2.423.7a7.076 7.076 0 0 0-1.597.511 9.001 9.001 0 0 0-4.353 4.353C10 30.005 10 32.336 10 37c0 4.663 0 6.995.843 8.804a9.001 9.001 0 0 0 4.353 4.353C17.005 51 19.336 51 24 51h12c4.663 0 6.995 0 8.804-.843a9.001 9.001 0 0 0 4.353-4.353C50 43.995 50 41.664 50 37c0-4.663 0-6.995-.843-8.804a9.001 9.001 0 0 0-4.353-4.353 7.076 7.076 0 0 0-1.597-.511c-1.372-.28-2.057-.42-2.423-.7a1.78 1.78 0 0 1-.583-.715C40 21.505 40 20.94 40 19.809V17c0-.929 0-1.393-.034-1.784a9 9 0 0 0-8.182-8.182C31.393 7 30.93 7 30 7s-1.393 0-1.784.034a9 9 0 0 0-8.182 8.182Z"/><path fill="#E87DE8" d="M22 17c0-.929 0-1.393.044-1.784a7 7 0 0 1 6.172-6.172C28.606 9 29.071 9 30 9s1.393 0 1.784.044a7 7 0 0 1 6.172 6.172c.044.39.044.855.044 1.784v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.394-.077-1.78a4 4 0 0 0-3.143-3.143C31.394 12 30.93 12 30 12s-1.394 0-1.78.077a4 4 0 0 0-3.143 3.143C25 15.606 25 16.07 25 17v4.5a1.5 1.5 0 0 1-3 0V17Z"/><path fill="#E87DE8" fill-rule="evenodd" d="M12 36.62c0-4.317 0-6.476.92-8.088a7 7 0 0 1 2.612-2.612c1.612-.92 3.77-.92 8.088-.92h6.855c.469 0 .703 0 .906.017 2.73.222 4.364 2.438 4.619 4.983.27-2.698 2.111-5 5.015-5A6.985 6.985 0 0 1 48 31.985v5.395c0 4.317 0 6.476-.92 8.088a7 7 0 0 1-2.612 2.612c-1.612.92-3.77.92-8.088.92h-5.855c-.469 0-.703 0-.906-.017-2.73-.222-4.364-2.438-4.619-4.983-.258 2.583-1.943 4.818-4.714 4.99-.155.01-.335.01-.694.01-.55 0-.825 0-1.057-.015a7 7 0 0 1-6.52-6.52C12 42.233 12 41.958 12 41.408V36.62Zm21.24-.273a4 4 0 1 0-6.478 0c.985 1.36 1.479 2.039 1.564 2.229.178.398.176.818.174 1.247V42.5a1.5 1.5 0 0 0 3 0v-2.677c-.002-.429-.004-.85.174-1.247.085-.19.579-.87 1.565-2.229Z" clip-rule="evenodd"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="2.5"/></svg>`,HELP_COMPAS_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#1DC956" rx="30"/><circle cx="30" cy="29.999" r="3" fill="#fff"/><path fill="#2BEE6C" stroke="#fff" stroke-width="2" d="m45.316 17.9-.88-.425.88.424a7.9 7.9 0 0 1 .026-.053c.093-.192.21-.432.26-.687l-.819-.162.819.162a2 2 0 0 0-.239-1.405c-.132-.224-.32-.412-.472-.562a8.415 8.415 0 0 1-.042-.042l-.042-.042c-.15-.151-.338-.34-.562-.472l-.508.862.508-.862a2 2 0 0 0-1.405-.239c-.255.05-.495.167-.687.26l-.053.026-15.05 7.246-.108.052c-1.131.545-1.843.887-2.456 1.374a6.994 6.994 0 0 0-1.13 1.13c-.487.613-.83 1.325-1.375 2.457l-.051.108-7.247 15.05-.025.053c-.094.192-.21.431-.26.686a2 2 0 0 0 .239 1.406l.855-.505-.856.505c.133.224.321.411.473.562l.042.042.041.042c.15.151.338.34.563.472a2 2 0 0 0 1.405.239l-.195-.981.195.98c.255-.05.494-.166.686-.26l.054-.025-.419-.87.419.87 15.05-7.247.107-.051c1.132-.545 1.844-.888 2.457-1.374a7.002 7.002 0 0 0 1.13-1.13c.487-.614.83-1.325 1.374-2.457l.052-.108 7.246-15.05Z"/><path fill="#1DC956" d="m33.376 32.723-2.669-3.43-14.85 14.849.206.205a1 1 0 0 0 1.141.194l15.105-7.273a3 3 0 0 0 1.067-4.545Z"/><path fill="#86F999" d="m26.624 27.276 2.669 3.43 14.85-14.849-.206-.205a1 1 0 0 0-1.141-.194L27.69 22.731a3 3 0 0 0-1.067 4.545Z"/><circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="29.5"/></svg>`,HELP_NOUN_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#794CFF" rx="3"/><path fill="#987DE8" stroke="#fff" stroke-width="2" d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"/><path fill="#fff" d="M37.5 25h10v10h-10z"/><path fill="#4019B2" d="M42.5 25h5v10h-5z"/><path fill="#fff" d="M19.5 25h10v10h-10z"/><path fill="#4019B2" d="M24.5 25h5v10h-5z"/><path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="2.5"/></svg>`,HELP_DAO_IMG:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#o)"><path fill="#EB8B47" d="M0 24.9c0-9.252 0-13.878 1.97-17.332A15 15 0 0 1 7.569 1.97C11.023 0 15.648 0 24.9 0h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.022 60 15.648 60 24.899v10.2c0 9.252 0 13.878-1.97 17.332a15.001 15.001 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.351 0 35.1V24.9Z"/><path class="help-img-highlight" d="M.5 24.9c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.29a14.5 14.5 0 0 1 5.412-5.41C9.455 1.468 11.395.986 14.105.743 16.822.5 20.265.5 24.9.5h10.2c4.635 0 8.078 0 10.795.244 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.58 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.796-.244 2.71-.726 4.65-1.66 6.289a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.411c-.935-1.64-1.417-3.58-1.66-6.29C.5 43.178.5 39.734.5 35.1V24.9Z"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M19 52c5.523 0 10-4.477 10-10s-4.477-10-10-10S9 36.477 9 42s4.477 10 10 10Z"/><path fill="#fff" fill-rule="evenodd" d="M42.844 8.326a1 1 0 0 0-1.687 0L28.978 27.463A1 1 0 0 0 29.822 29h24.357a1 1 0 0 0 .843-1.537L42.844 8.326Z" clip-rule="evenodd"/><path fill="#FF974C" fill-rule="evenodd" d="M42.335 11.646c.324.115.571.504 1.066 1.28l7.332 11.523c.562.883.843 1.325.792 1.69a1 1 0 0 1-.342.623c-.28.238-.803.238-1.85.238H34.667c-1.047 0-1.57 0-1.85-.238a1 1 0 0 1-.342-.623c-.051-.365.23-.806.792-1.69l7.332-11.523c.495-.776.742-1.165 1.066-1.28a1 1 0 0 1 .67 0ZM35 27a7 7 0 0 0 7-7 7 7 0 0 0 7 7H35Z" clip-rule="evenodd"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M10.106 9.357c-.109.32-.107.682-.106.975V25.668c-.001.293-.003.654.106.975a2 2 0 0 0 1.251 1.25c.32.11.682.108.975.107H19c5.523 0 10-4.477 10-10S24.523 8 19 8h-6.668c-.293-.001-.654-.003-.975.106a2 2 0 0 0-1.25 1.251Z"/><circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/><circle cx="19" cy="41.999" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/></g><defs><clipPath id="o"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,SEARCH_ICON:Ae`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,HELP_ICON:Ae`<svg width="11" height="17" viewBox="0 0 11 17"><path fill="#fff" d="M5.22 2.97c-1.07 0-2.25.843-2.25 2.25a.75.75 0 0 1-1.5 0c0-2.393 2.019-3.75 3.75-3.75 1.73 0 3.75 1.357 3.75 3.75 0 1.64-1.038 2.466-1.785 3.057-.802.635-1.215.984-1.215 1.693a.75.75 0 1 1-1.5 0c0-1.466.985-2.24 1.681-2.788l.103-.081C7.007 6.504 7.47 6.08 7.47 5.22c0-1.407-1.181-2.25-2.25-2.25ZM5.22 14.97a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"/></svg>`,WALLET_ICON:Ae`<svg width="15" height="14" fill="none" viewBox="0 0 15 14"><path fill="#fff" fill-rule="evenodd" d="M.64 9.2v-3h.001c.009-1.857.07-2.886.525-3.682a4 4 0 0 1 1.492-1.493C3.58.5 4.813.5 7.28.5h3.735c.58 0 .871 0 1.114.04A3 3 0 0 1 14.6 3.011c.04.243.04.533.04 1.114 0 .58 0 .871-.04 1.114a3 3 0 0 1-2.471 2.47c-.243.041-.533.041-1.114.041h-.777c.178.307.302.648.362 1.011.04.243.04.533.04 1.114 0 .58 0 .871-.04 1.114a3 3 0 0 1-2.471 2.47c-.243.041-.533.041-1.114.041H4.507A3.867 3.867 0 0 1 .64 9.633V9.2ZM7.28 2h3.735c.64 0 .779.005.87.02a1.5 1.5 0 0 1 1.235 1.236c.015.09.02.229.02.869s-.005.779-.02.87a1.5 1.5 0 0 1-1.236 1.235c-.09.015-.229.02-.869.02H4.023c-.697 0-1.345.21-1.883.572V6.25h.001c.004-.791.015-1.383.059-1.867.056-.629.157-.926.269-1.122a2.5 2.5 0 0 1 .932-.933c.197-.111.494-.212 1.123-.268C5.173 2 6.019 2 7.28 2Zm-.265 5.75H4.023c-1.04 0-1.883.843-1.883 1.883A2.367 2.367 0 0 0 4.507 12h2.508c.64 0 .779-.005.87-.02a1.5 1.5 0 0 0 1.235-1.236c.015-.09.02-.229.02-.869s-.005-.779-.02-.87A1.5 1.5 0 0 0 7.884 7.77c-.09-.015-.228-.02-.869-.02Z" clip-rule="evenodd"/></svg>`,NETWORK_PLACEHOLDER:Ae`<svg width="28" height="28" fill="none" viewBox="0 0 28 28"><mask id="p" width="26" height="28" x="1" y="0" maskUnits="userSpaceOnUse" style="mask-type:alpha"><path fill="#D9D9D9" d="M12 1.172a4 4 0 0 1 4 0l8.124 4.69a4 4 0 0 1 2 3.465v9.381a4 4 0 0 1-2 3.464L16 26.862a4 4 0 0 1-4 0l-8.124-4.69a4 4 0 0 1-2-3.464V9.327a4 4 0 0 1 2-3.464L12 1.173Z"/></mask><g mask="url(#p)"><path id="network-placeholder-fill" fill="#fff" d="M0 0h28v28H0z"/><path id="network-placeholder-dash" stroke="#000" stroke-dasharray="2 2" d="m8.953 2.931 2.032-1.173.25.433 1.015-.586c.269-.155.553-.271.844-.35l-.13-.483a4.003 4.003 0 0 1 2.071 0l-.13.483c.293.079.576.195.845.35l1.016.586.25-.433 2.03 1.173-.25.433 2.032 1.173.25-.433 2.03 1.172-.25.433 1.016.587c.269.155.512.342.725.556l.354-.354a4.003 4.003 0 0 1 1.035 1.794l-.483.129c.078.292.12.596.12.906v1.172h.5v2.346h-.5v2.345h.5v2.345h-.5v1.173c0 .31-.042.614-.12.906l.483.13a4.003 4.003 0 0 1-1.035 1.793l-.354-.354a3.498 3.498 0 0 1-.725.556l-1.015.586.25.434-2.031 1.172-.25-.433-2.031 1.173.25.433-2.031 1.172-.25-.433-1.016.587a3.494 3.494 0 0 1-.844.35l.13.482a4.003 4.003 0 0 1-2.071 0l.13-.483a3.496 3.496 0 0 1-.845-.35l-1.015-.586-.25.433-2.032-1.172.25-.433-2.03-1.173-.25.433L4.89 22.76l.25-.434-1.015-.586a3.498 3.498 0 0 1-.725-.556l-.354.354a4.003 4.003 0 0 1-1.035-1.794l.483-.13a3.497 3.497 0 0 1-.12-.905v-1.173h-.5V15.19h.5v-2.345h-.5v-2.346h.5V9.327c0-.31.042-.614.12-.906l-.483-.13a4.003 4.003 0 0 1 1.035-1.793l.354.354c.213-.214.456-.401.725-.556l1.015-.587-.25-.433 2.031-1.172.25.433 2.031-1.173-.25-.433Z"/><path fill="#798686" stroke="#fff" d="M14.243 13.563 14 13.428l-.243.135-6.388 3.549-.024.013c-.432.24-.79.44-1.053.622-.266.184-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.317.37.538.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722l-.468-.177.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.317-.37-.538-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-6.388-3.55Z"/><path fill="#9EA9A9" stroke="#fff" d="M14.243 8.563 14 8.428l-.243.135-6.388 3.549-.024.013c-.432.24-.79.44-1.053.622-.266.184-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.316.37.537.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722l-.468-.177.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.316-.37-.537-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-6.388-3.55Z"/><path fill="#C9CFCF" stroke="#fff" d="m22.344 9.53-.468-.176.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.317-.37-.537-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-3.163-1.758-.09-.05c-1.163-.645-1.856-1.03-2.606-1.161a4.5 4.5 0 0 0-1.544 0c-.75.13-1.443.516-2.607 1.162l-.088.05-3.164 1.757-.024.013c-.432.24-.79.44-1.053.622-.266.185-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.317.37.537.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722Z"/></g></svg>`,WALLET_PLACEHOLDER:Ae`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,TOKEN_PLACEHOLDER:Ae`<svg width="60" height="60" viewBox="0 0 60 60" fill="none"><rect id="token-placeholder-fill" width="58" height="58" x="1" y="1" fill="#fff" rx="29"/><path fill="#3B4040" stroke="#fff" stroke-width="2" d="M32 10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v5.566c0 .357.192.685.495.875a16.001 16.001 0 0 1 4.256 3.894c.667.88.33 2.113-.627 2.665l-2.494 1.44c-.956.552-2.166.204-2.913-.609a9.12 9.12 0 1 0 .064 12.267c.739-.82 1.945-1.181 2.907-.64l2.509 1.415c.962.542 1.312 1.77.654 2.658a16 16 0 0 1-4.356 4.028c-.303.19-.495.518-.495.875V50a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-2.992c0-.602-.528-1.065-1.13-1.032-.579.032-1.16.032-1.74 0-.602-.032-1.13.43-1.13 1.032V50a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-5.566c0-.357-.192-.685-.495-.875a16 16 0 0 1 0-27.118c.303-.19.495-.517.495-.875V10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2.992c0 .601.528 1.064 1.13 1.032.58-.032 1.161-.032 1.74 0 .602.033 1.13-.43 1.13-1.032V10Z"/><rect id="token-placeholder-dash" width="58" height="58" x="1" y="1" stroke="#000" stroke-dasharray="6 6" stroke-width="2" rx="29"/></svg>`,ACCOUNT_COPY:Ae`<svg width="14" height="14" fill="none" viewBox="0 0 14 14"><path fill="#fff" fill-rule="evenodd" d="M4.003 4.005c.012-1.225.074-1.936.391-2.491a3 3 0 0 1 1.12-1.12C6.204 0 7.136 0 9 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C14 2.204 14 3.136 14 5s0 2.795-.394 3.486a3 3 0 0 1-1.12 1.12c-.555.317-1.266.379-2.491.391l.002.003c-.012 1.222-.075 1.932-.391 2.486a3 3 0 0 1-1.12 1.12C7.796 14 6.864 14 5 14s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C0 11.796 0 10.864 0 9s0-2.795.394-3.486a3 3 0 0 1 1.12-1.12c.554-.316 1.264-.379 2.486-.391l.003.002ZM9 8.5c-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.045-.08-.113-.243-.154-.693C5.501 6.58 5.5 5.959 5.5 5c0-.959.001-1.58.043-2.05.04-.45.109-.613.154-.693a1.5 1.5 0 0 1 .56-.56c.08-.045.243-.113.693-.154C7.42 1.501 8.041 1.5 9 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.045.08.113.243.154.693.042.47.043 1.091.043 2.05 0 .959-.001 1.58-.043 2.05-.04.45-.109.613-.154.693a1.5 1.5 0 0 1-.56.56c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043ZM4 5.503a13.77 13.77 0 0 0-1.05.04c-.45.04-.613.109-.693.154a1.5 1.5 0 0 0-.56.56c-.045.08-.113.243-.154.693C1.501 7.42 1.5 8.041 1.5 9c0 .959.001 1.58.043 2.05.04.45.109.613.154.693a1.5 1.5 0 0 0 .56.56c.08.045.243.113.693.154.47.042 1.091.043 2.05.043.959 0 1.58-.001 2.05-.043.45-.04.613-.109.693-.154a1.5 1.5 0 0 0 .56-.56c.045-.08.113-.242.154-.693.025-.283.035-.619.04-1.05-1.534-.003-2.358-.037-2.983-.394a3 3 0 0 1-1.12-1.12c-.357-.625-.39-1.449-.394-2.983Z" clip-rule="evenodd"/></svg>`,ACCOUNT_DISCONNECT:Ae`<svg width="16" height="14" fill="none" viewBox="0 0 16 14"><path fill="#fff" d="M9.677 1.5h-2.61c-1.261 0-2.107.001-2.757.06-.629.056-.926.157-1.122.268a2.5 2.5 0 0 0-.933.933c-.112.196-.212.493-.269 1.122-.058.65-.06 1.496-.06 2.757v.72c0 1.26.002 2.107.06 2.756.057.63.157.927.27 1.123a2.5 2.5 0 0 0 .932.933c.196.111.493.212 1.122.268.65.059 1.496.06 2.757.06h2.61a.75.75 0 1 1 0 1.5h-2.61c-2.467 0-3.7 0-4.622-.525a4 4 0 0 1-1.493-1.493C.427 11.06.427 9.827.427 7.36v-.72c0-2.467 0-3.7.525-4.622A4 4 0 0 1 2.445.525C3.366 0 4.6 0 7.067 0h2.61a.75.75 0 1 1 0 1.5Z"/><path fill="#fff" d="M10.896 11.03a.75.75 0 0 1 0-1.06l1.793-1.793a.25.25 0 0 0-.176-.427H8.177a.75.75 0 0 1 0-1.5h4.336a.25.25 0 0 0 .176-.427L10.896 4.03a.75.75 0 0 1 1.061-1.06l3.323 3.323a1 1 0 0 1 0 1.414l-3.323 3.323a.75.75 0 0 1-1.06 0Z"/></svg>`},l4={1:"692ed6ba-e569-459a-556a-776476829e00",42161:"600a9a04-c1b9-42ca-6785-9b4b6ff85200",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00"};var ar=(t=>(t.metaMask="metaMask",t.trust="trust",t.phantom="phantom",t.brave="brave",t.spotEthWallet="spotEthWallet",t.exodus="exodus",t.tokenPocket="tokenPocket",t.frame="frame",t.tally="tally",t.coinbaseWallet="coinbaseWallet",t.core="core",t.bitkeep="bitkeep",t.mathWallet="mathWallet",t.opera="opera",t.tokenary="tokenary",t["1inch"]="1inch",t.kuCoinWallet="kuCoinWallet",t.ledger="ledger",t))(ar||{});const qr={injectedPreset:{metaMask:{name:"MetaMask",icon:"619537c0-2ff3-4c78-9ed8-a05e7567f300",url:"https://metamask.io",isMobile:!0,isInjected:!0},trust:{name:"Trust",icon:"0528ee7e-16d1-4089-21e3-bbfb41933100",url:"https://trustwallet.com",isMobile:!0,isInjected:!0},spotEthWallet:{name:"Spot",icon:"1bf33a89-b049-4a1c-d1f6-4dd7419ee400",url:"https://www.spot-wallet.com",isMobile:!0,isInjected:!0},phantom:{name:"Phantom",icon:"62471a22-33cb-4e65-5b54-c3d9ea24b900",url:"https://phantom.app",isInjected:!0},core:{name:"Core",icon:"35f9c46e-cc57-4aa7-315d-e6ccb2a1d600",url:"https://core.app",isMobile:!0,isInjected:!0},bitkeep:{name:"BitKeep",icon:"3f7075d0-4ab7-4db5-404d-3e4c05e6fe00",url:"https://bitkeep.com",isMobile:!0,isInjected:!0},tokenPocket:{name:"TokenPocket",icon:"f3119826-4ef5-4d31-4789-d4ae5c18e400",url:"https://www.tokenpocket.pro",isMobile:!0,isInjected:!0},mathWallet:{name:"MathWallet",icon:"26a8f588-3231-4411-60ce-5bb6b805a700",url:"https://mathwallet.org",isMobile:!0,isInjected:!0},exodus:{name:"Exodus",icon:"4c16cad4-cac9-4643-6726-c696efaf5200",url:"https://www.exodus.com",isMobile:!0,isDesktop:!0,isInjected:!0},kuCoinWallet:{name:"KuCoin Wallet",icon:"1e47340b-8fd7-4ad6-17e7-b2bd651fae00",url:"https://kuwallet.com",isMobile:!0,isInjected:!0},ledger:{name:"Ledger",icon:"a7f416de-aa03-4c5e-3280-ab49269aef00",url:"https://www.ledger.com",isDesktop:!0},brave:{name:"Brave",icon:"125e828e-9936-4451-a8f2-949c119b7400",url:"https://brave.com/wallet",isInjected:!0},frame:{name:"Frame",icon:"cd492418-ea85-4ef1-aeed-1c9e20b58900",url:"https://frame.sh",isInjected:!0},tally:{name:"Tally",icon:"98d2620c-9fc8-4a1c-31bc-78d59d00a300",url:"https://tallyho.org",isInjected:!0},coinbaseWallet:{name:"Coinbase",icon:"f8068a7f-83d7-4190-1f94-78154a12c600",url:"https://www.coinbase.com/wallet",isInjected:!0},opera:{name:"Opera",icon:"877fa1a4-304d-4d45-ca8e-f76d1a556f00",url:"https://www.opera.com/crypto",isInjected:!0},tokenary:{name:"Tokenary",icon:"5e481041-dc3c-4a81-373a-76bbde91b800",url:"https://tokenary.io",isDesktop:!0,isInjected:!0},["1inch"]:{name:"1inch Wallet",icon:"dce1ee99-403f-44a9-9f94-20de30616500",url:"https://1inch.io/wallet",isMobile:!0}},getInjectedId(t){if(t.toUpperCase()!=="INJECTED"&&t.length)return t;const{ethereum:e,spotEthWallet:r,coinbaseWalletExtension:n}=window;return e?e.isTrust||e.isTrustWallet?"trust":e.isPhantom?"phantom":e.isBraveWallet?"brave":r?"spotEthWallet":e.isExodus?"exodus":e.isTokenPocket?"tokenPocket":e.isFrame?"frame":e.isTally?"tally":n?"coinbaseWallet":e.isAvalanche?"core":e.isBitKeep?"bitkeep":e.isMathWallet?"mathWallet":e.isOpera?"opera":e.isTokenary?"tokenary":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch":e.isKuCoinWallet?"kuCoinWallet":e.isMetaMask?"metaMask":"injected":"metaMask"},getInjectedName(t){var e,r;if(t.length&&t.toUpperCase()!=="INJECTED")return t;const n=qr.getInjectedId("");return(r=(e=qr.injectedPreset[n])==null?void 0:e.name)!=null?r:"Injected"}},u4={ETH:{icon:"692ed6ba-e569-459a-556a-776476829e00"},WETH:{icon:"692ed6ba-e569-459a-556a-776476829e00"},AVAX:{icon:"30c46e53-e989-45fb-4549-be3bd4eb3b00"},FTM:{icon:"06b26297-fe0c-4733-5d6b-ffa5498aac00"},BNB:{icon:"93564157-2e8e-4ce7-81df-b264dbee9b00"},MATIC:{icon:"41d04d42-da3b-4453-8506-668cc0727900"},OP:{icon:"ab9c186a-c52f-464b-2906-ca59d760a400"},xDAI:{icon:"02b53f6a-e3d4-479e-1cb4-21178987d100"},EVMOS:{icon:"f926ff41-260d-4028-635e-91913fc28e00"},METIS:{icon:"3897a66d-40b9-4833-162f-a2c90531c900"},IOTX:{icon:"34e68754-e536-40da-c153-6ef2e7188a00"}};var h4=Object.defineProperty,yd=Object.getOwnPropertySymbols,d4=Object.prototype.hasOwnProperty,f4=Object.prototype.propertyIsEnumerable,vd=(t,e,r)=>e in t?h4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p4=(t,e)=>{for(var r in e||(e={}))d4.call(e,r)&&vd(t,r,e[r]);if(yd)for(var r of yd(e))f4.call(e,r)&&vd(t,r,e[r]);return t};const ne={MOBILE_BREAKPOINT:600,W3M_RECENT_WALLET:"W3M_RECENT_WALLET",rejectStandaloneButtonComponent(){const{isStandalone:t}=Q.state;if(t)throw new Error("Web3Modal button components are not available in standalone mode.")},getShadowRootElement(t,e){const r=t.renderRoot.querySelector(e);if(!r)throw new Error(`${e} not found`);return r},getWalletId(t){return qr.getInjectedId(t)},getWalletIcon(t){var e,r;const n=(e=qr.injectedPreset[t])==null?void 0:e.icon,{projectId:i,walletImages:s}=Ve.state;return(r=s?.[t])!=null?r:i&&n?at.getImageUrl(n):""},getWalletName(t,e=!1){const r=qr.getInjectedName(t);return e?r.split(" ")[0]:r},getChainIcon(t){var e;const r=l4[t],{projectId:n,chainImages:i}=Ve.state;return(e=i?.[t])!=null?e:n&&r?at.getImageUrl(r):""},getTokenIcon(t){var e,r;const n=(e=u4[t])==null?void 0:e.icon,{projectId:i,tokenImages:s}=Ve.state;return(r=s?.[t])!=null?r:i&&n?at.getImageUrl(n):""},isMobileAnimation(){return window.innerWidth<=ne.MOBILE_BREAKPOINT},async preloadImage(t){return new Promise((e,r)=>{const n=new Image;n.onload=e,n.onerror=r,n.src=t})},getErrorMessage(t){return t instanceof Error?t.message:"Unknown Error"},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},async handleMobileLinking(t){const{standaloneUri:e,selectedChain:r}=Q.state,{links:n,name:i}=t;function s(o){let a="";n!=null&&n.universal?a=Ue.formatUniversalUrl(n.universal,o,i):n!=null&&n.native&&(a=Ue.formatNativeUrl(n.native,o,i)),Ue.openHref(a)}e?(ne.setRecentWallet(t),s(e)):(await qe.client().connectWalletConnect(o=>{s(o)},r?.id),ne.setRecentWallet(t),ft.close())},async handleAndroidLinking(){const{standaloneUri:t,selectedChain:e}=Q.state;t?Ue.openHref(t):(await qe.client().connectWalletConnect(r=>{Ue.setWalletConnectAndroidDeepLink(r),Ue.openHref(r)},e?.id),ft.close())},async handleUriCopy(){const{standaloneUri:t}=Q.state;if(t)await navigator.clipboard.writeText(t);else{const e=qe.client().walletConnectUri;await navigator.clipboard.writeText(e)}Lt.openToast("Link copied","success")},async handleConnectorConnection(t,e){try{const{selectedChain:r}=Q.state;await qe.client().connectConnector(t,r?.id),ft.close()}catch(r){console.error(r),e?e():Lt.openToast(ne.getErrorMessage(r),"error")}},getCustomWallets(){var t;const{desktopWallets:e,mobileWallets:r}=Ve.state;return(t=Ue.isMobile()?r:e)!=null?t:[]},getCustomImageUrls(){const{chainImages:t,walletImages:e}=Ve.state,r=Object.values(t??{}),n=Object.values(e??{});return Object.values([...r,...n])},getConnectorImageUrls(){return qe.client().getConnectors().map(({id:t})=>qr.getInjectedId(t)).map(t=>ne.getWalletIcon(t))},truncate(t,e=8){return t.length<=e?t:`${t.substring(0,4)}...${t.substring(t.length-4)}`},generateAvatarColors(t){var e;const r=(e=t.match(/.{1,7}/g))==null?void 0:e.splice(0,5),n=[];r?.forEach(s=>{let o=0;for(let c=0;c<s.length;c+=1)o=s.charCodeAt(c)+((o<<5)-o),o=o&o;const a=[0,0,0];for(let c=0;c<3;c+=1){const l=o>>c*8&255;a[c]=l}n.push(`rgb(${a[0]}, ${a[1]}, ${a[2]})`)});const i=document.querySelector(":root");if(i){const s={"--w3m-color-av-1":n[0],"--w3m-color-av-2":n[1],"--w3m-color-av-3":n[2],"--w3m-color-av-4":n[3],"--w3m-color-av-5":n[4]};Object.entries(s).forEach(([o,a])=>i.style.setProperty(o,a))}},setRecentWallet(t){const{walletConnectVersion:e}=Q.state;localStorage.setItem(ne.W3M_RECENT_WALLET,JSON.stringify({[e]:t}))},getRecentWallet(){const t=localStorage.getItem(ne.W3M_RECENT_WALLET);if(t){const{walletConnectVersion:e}=Q.state,r=JSON.parse(t);if(r[e])return r[e]}},getExtensionWallets(){const t=[];for(const[e,r]of Object.entries(qr.injectedPreset))e!==ar.coinbaseWallet&&r&&r.isInjected&&!r.isDesktop&&t.push(p4({id:e},r));return t},caseSafeIncludes(t,e){return t.toUpperCase().includes(e.toUpperCase())}},g4=_e`#w3m-transparent-noise,.w3m-canvas,.w3m-color-placeholder,.w3m-gradient-placeholder,.w3m-highlight{inset:0;position:absolute;display:block;pointer-events:none;width:100%;height:100px;border-radius:8px 8px 0 0;transform:translateY(-5px)}.w3m-gradient-placeholder{background:linear-gradient(var(--w3m-gradient-1),var(--w3m-gradient-2),var(--w3m-gradient-3),var(--w3m-gradient-4))}.w3m-color-placeholder{background-color:var(--w3m-color-fg-accent)}.w3m-highlight{border:1px solid var(--w3m-color-overlay)}.w3m-canvas{opacity:0;transition:opacity 2s ease;box-shadow:0 8px 28px -6px rgba(10,16,31,.12),0 18px 88px -4px rgba(10,16,31,.14)}.w3m-canvas-visible{opacity:1}#w3m-transparent-noise{mix-blend-mode:multiply;opacity:.35}.w3m-toolbar{height:28px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.w3m-toolbar img,.w3m-toolbar svg{height:28px;object-position:left center;object-fit:contain}#w3m-wc-logo path{fill:var(--w3m-color-fg-inverse)}.w3m-action-btn{width:28px;height:28px;border-radius:50%;border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:background-color,.2s ease;background-color:var(--w3m-color-bg-1);box-shadow:0 0 0 1px var(--w3m-color-overlay),0 2px 4px -2px rgba(0,0,0,.12),0 4px 4px -2px rgba(0,0,0,.08)}.w3m-action-btn:hover{background-color:var(--w3m-color-bg-2)}.w3m-action-btn svg{display:block;object-position:center}.w3m-action-btn path{fill:var(--w3m-color-fg-1)}.w3m-actions{display:flex}.w3m-actions button:first-child{margin-right:16px}.w3m-help-active button:first-child{background-color:var(--w3m-color-fg-1)}.w3m-help-active button:first-child path{fill:var(--w3m-color-bg-1)}`;var m4=Object.defineProperty,w4=Object.getOwnPropertyDescriptor,dc=(t,e,r,n)=>{for(var i=n>1?void 0:n?w4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&m4(e,r,i),i};const _d=new o4;let Di=class extends fe{constructor(){super(),this.open=!1,this.isHelp=!1,this.unsubscribeRouter=void 0,this.playTimeout=void 0,this.unsubscribeRouter=Te.subscribe(t=>{this.isHelp=t.view==="Help"})}firstUpdated(){const{themeBackground:t}=Ve.state;t==="gradient"&&(this.playTimeout=setTimeout(()=>{_d.play(this.canvasEl),this.open=!0},800))}disconnectedCallback(){var t;(t=this.unsubscribeRouter)==null||t.call(this),clearTimeout(this.playTimeout),_d.stop()}get canvasEl(){return ne.getShadowRootElement(this,".w3m-canvas")}onHelp(){Te.push("Help")}render(){const{themeBackground:t}=Ve.state,e={"w3m-canvas":!0,"w3m-canvas-visible":this.open},r={"w3m-actions":!0,"w3m-help-active":this.isHelp};return V`${t==="themeColor"?V`<div class="w3m-color-placeholder"></div>`:null} ${t==="gradient"?V`<div class="w3m-gradient-placeholder"></div><canvas class="${Mt(e)}"></canvas>${be.NOISE_TEXTURE}`:null}<div class="w3m-highlight"></div><div class="w3m-toolbar">${be.WALLET_CONNECT_LOGO}<div class="${Mt(r)}"><button class="w3m-action-btn" @click="${this.onHelp}">${be.HELP_ICON}</button> <button class="w3m-action-btn" @click="${ft.close}">${be.CROSS_ICON}</button></div></div>`}};Di.styles=[ue.globalCss,g4],dc([Be()],Di.prototype,"open",2),dc([Be()],Di.prototype,"isHelp",2),Di=dc([we("w3m-modal-backcard")],Di);const b4=_e`main{padding:20px;padding-top:0;width:100%}`;var y4=Object.defineProperty,v4=Object.getOwnPropertyDescriptor,_4=(t,e,r,n)=>{for(var i=n>1?void 0:n?v4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&y4(e,r,i),i};let fc=class extends fe{render(){return V`<main><slot></slot></main>`}};fc.styles=[ue.globalCss,b4],fc=_4([we("w3m-modal-content")],fc);const E4=_e`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--w3m-color-bg-2)}`;var x4=Object.defineProperty,C4=Object.getOwnPropertyDescriptor,S4=(t,e,r,n)=>{for(var i=n>1?void 0:n?C4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&x4(e,r,i),i};let pc=class extends fe{render(){return V`<footer><slot></slot></footer>`}};pc.styles=[ue.globalCss,E4],pc=S4([we("w3m-modal-footer")],pc);const I4=_e`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.w3m-border{border-bottom:1px solid var(--w3m-color-bg-2);margin-bottom:20px}header button{padding:15px 20px;transition:opacity .2s ease}@media(hover:hover){header button:hover{opacity:.5}}.w3m-back-btn{position:absolute;left:0}.w3m-action-btn{position:absolute;right:0}path{fill:var(--w3m-color-fg-accent)}`;var D4=Object.defineProperty,O4=Object.getOwnPropertyDescriptor,Oi=(t,e,r,n)=>{for(var i=n>1?void 0:n?O4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&D4(e,r,i),i};let Vr=class extends fe{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return V`<button class="w3m-back-btn" @click="${Te.goBack}">${be.BACK_ICON}</button>`}actionBtnTemplate(){return V`<button class="w3m-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const t={"w3m-border":this.border},e=Te.state.history.length>1,r=this.title?V`<w3m-text variant="large-bold">${this.title}</w3m-text>`:V`<slot></slot>`;return V`<header class="${Mt(t)}">${e?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Vr.styles=[ue.globalCss,I4],Oi([ye()],Vr.prototype,"title",2),Oi([ye()],Vr.prototype,"onAction",2),Oi([ye()],Vr.prototype,"actionIcon",2),Oi([ye()],Vr.prototype,"border",2),Vr=Oi([we("w3m-modal-header")],Vr);const A4=_e`.w3m-router{overflow:hidden;will-change:transform}.w3m-content{display:flex;flex-direction:column}`;var $4=Object.defineProperty,P4=Object.getOwnPropertyDescriptor,gc=(t,e,r,n)=>{for(var i=n>1?void 0:n?P4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&$4(e,r,i),i};let Ai=class extends fe{constructor(){super(),this.view=Te.state.view,this.prevView=Te.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=Te.subscribe(t=>{this.view!==t.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([t])=>{const e=`${t.contentRect.height}px`;this.oldHeight!=="0px"&&(_r(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),_r(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.03})),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var t,e;(t=this.unsubscribe)==null||t.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return ne.getShadowRootElement(this,".w3m-router")}get contentEl(){return ne.getShadowRootElement(this,".w3m-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return V`<w3m-connect-wallet-view></w3m-connect-wallet-view>`;case"SelectNetwork":return V`<w3m-select-network-view></w3m-select-network-view>`;case"InjectedConnector":return V`<w3m-injected-connector-view></w3m-injected-connector-view>`;case"InstallConnector":return V`<w3m-install-connector-view></w3m-install-connector-view>`;case"GetWallet":return V`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"DesktopConnector":return V`<w3m-desktop-connector-view></w3m-desktop-connector-view>`;case"WalletExplorer":return V`<w3m-wallet-explorer-view></w3m-wallet-explorer-view>`;case"Qrcode":return V`<w3m-qrcode-view></w3m-qrcode-view>`;case"Help":return V`<w3m-help-view></w3m-help-view>`;case"Account":return V`<w3m-account-view></w3m-account-view>`;case"SwitchNetwork":return V`<w3m-switch-network-view></w3m-switch-network-view>`;default:return V`<div>Not Found</div>`}}async onChangeRoute(){await _r(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15}).finished,this.view=Te.state.view}render(){return V`<div class="w3m-router"><div class="w3m-content">${this.viewTemplate()}</div></div>`}};Ai.styles=[ue.globalCss,A4],gc([Be()],Ai.prototype,"view",2),gc([Be()],Ai.prototype,"prevView",2),Ai=gc([we("w3m-modal-router")],Ai);const T4=_e`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:10px 15px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:36px;border:1px solid var(--w3m-color-overlay);background-color:var(--w3m-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--w3m-color-bg-3)}}.w3m-success path{fill:var(--w3m-color-fg-accent)}.w3m-error path{fill:var(--w3m-color-err)}`;var N4=Object.defineProperty,R4=Object.getOwnPropertyDescriptor,Ed=(t,e,r,n)=>{for(var i=n>1?void 0:n?R4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&N4(e,r,i),i};let zs=class extends fe{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=Lt.subscribe(t=>{t.open?(this.open=!0,this.timeout=setTimeout(()=>Lt.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var t;(t=this.unsubscribe)==null||t.call(this),clearTimeout(this.timeout),Lt.closeToast()}render(){const{message:t,variant:e}=Lt.state,r={"w3m-success":e==="success","w3m-error":e==="error"};return this.open?V`<div class="${Mt(r)}">${e==="success"?be.CHECKMARK_ICON:null} ${e==="error"?be.CROSS_ICON:null}<w3m-text variant="small-normal">${t}</w3m-text></div>`:null}};zs.styles=[ue.globalCss,T4],Ed([Be()],zs.prototype,"open",2),zs=Ed([we("w3m-modal-toast")],zs);const L4=_e`button{padding:5px;border-radius:10px;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;width:80px;height:90px}w3m-network-image{width:54px;height:59px}w3m-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;margin-top:5px}button:hover{background-color:var(--w3m-color-overlay)}`;var M4=Object.defineProperty,U4=Object.getOwnPropertyDescriptor,Ws=(t,e,r,n)=>{for(var i=n>1?void 0:n?U4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&M4(e,r,i),i};let Pn=class extends fe{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.chainId=""}render(){return V`<button @click="${this.onClick}"><w3m-network-image chainId="${this.chainId}"></w3m-network-image><w3m-text variant="xsmall-normal">${this.name}</w3m-text></button>`}};Pn.styles=[ue.globalCss,L4],Ws([ye()],Pn.prototype,"onClick",2),Ws([ye()],Pn.prototype,"name",2),Ws([ye()],Pn.prototype,"chainId",2),Pn=Ws([we("w3m-network-button")],Pn);const F4=_e`div{width:inherit;height:inherit}.polygon-stroke{stroke:var(--w3m-color-overlay)}svg{width:100%;height:100%;margin:0}#network-placeholder-fill{fill:var(--w3m-color-bg-3)}#network-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var B4=Object.defineProperty,j4=Object.getOwnPropertyDescriptor,xd=(t,e,r,n)=>{for(var i=n>1?void 0:n?j4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&B4(e,r,i),i};let qs=class extends fe{constructor(){super(...arguments),this.chainId=""}render(){const t=ne.getChainIcon(this.chainId);return t?V`<div><svg width="54" height="59" viewBox="0 0 54 59" fill="none"><defs><clipPath id="polygon"><path d="M17.033 4.964c3.852-2.262 5.778-3.393 7.84-3.77a11.807 11.807 0 0 1 4.254 0c2.062.377 3.988 1.508 7.84 3.77l6.066 3.562c3.852 2.263 5.777 3.394 7.13 5.022a12.268 12.268 0 0 1 2.127 3.747c.71 2.006.71 4.268.71 8.793v7.124c0 4.525 0 6.787-.71 8.793a12.268 12.268 0 0 1-2.126 3.747c-1.354 1.628-3.28 2.76-7.131 5.022l-6.066 3.562c-3.852 2.262-5.778 3.393-7.84 3.771a11.814 11.814 0 0 1-4.254 0c-2.062-.378-3.988-1.509-7.84-3.77l-6.066-3.563c-3.852-2.263-5.778-3.394-7.13-5.022a12.268 12.268 0 0 1-2.127-3.747C1 40 1 37.737 1 33.212v-7.124c0-4.525 0-6.787.71-8.793a12.268 12.268 0 0 1 2.127-3.747c1.352-1.628 3.278-2.76 7.13-5.022l6.066-3.562Z"/></clipPath></defs><image clip-path="url(#polygon)" href="${t}" width="58" height="59" x="-2" y="0"/><path class="polygon-stroke" d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z" stroke="#fff"/></svg></div>`:V`${be.NETWORK_PLACEHOLDER}`}};qs.styles=[ue.globalCss,F4],xd([ye()],qs.prototype,"chainId",2),qs=xd([we("w3m-network-image")],qs);const k4=.1,Cd=2.5,dr=7;function mc(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+k4}function H4(t,e){const r=Array.prototype.slice.call(_i.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const z4={generate(t,e,r,n){const i=n==="light"?"#141414":"#fff",s=n==="light"?"#fff":"#141414",o=[],a=H4(t,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:A,y:N})=>{const M=(a.length-dr)*c*A,x=(a.length-dr)*c*N,D=.32;for(let y=0;y<l.length;y+=1){const I=c*(dr-y*2);o.push(Ae`<rect fill="${y%2===0?i:s}" height="${I}" rx="${I*D}" ry="${I*D}" width="${I}" x="${M+c*y}" y="${x+c*y}">`)}});const p=Math.floor((r+25)/c),m=a.length/2-p/2,b=a.length/2+p/2-1,w=[];a.forEach((A,N)=>{A.forEach((M,x)=>{if(a[N][x]&&!(N<dr&&x<dr||N>a.length-(dr+1)&&x<dr||N<dr&&x>a.length-(dr+1))&&!(N>m&&N<b&&x>m&&x<b)){const D=N*c+c/2,y=x*c+c/2;w.push([D,y])}})});const E={};return w.forEach(([A,N])=>{E[A]?E[A].push(N):E[A]=[N]}),Object.entries(E).map(([A,N])=>{const M=N.filter(x=>N.every(D=>!mc(x,D,c)));return[Number(A),M]}).forEach(([A,N])=>{N.forEach(M=>{o.push(Ae`<circle cx="${A}" cy="${M}" fill="${i}" r="${c/Cd}">`)})}),Object.entries(E).filter(([A,N])=>N.length>1).map(([A,N])=>{const M=N.filter(x=>N.some(D=>mc(x,D,c)));return[Number(A),M]}).map(([A,N])=>{N.sort((x,D)=>x<D?-1:1);const M=[];for(const x of N){const D=M.find(y=>y.some(I=>mc(x,I,c)));D?D.push(x):M.push([x])}return[A,M.map(x=>[x[0],x[x.length-1]])]}).forEach(([A,N])=>{N.forEach(([M,x])=>{o.push(Ae`<line x1="${A}" x2="${A}" y1="${M}" y2="${x}" stroke="${i}" stroke-width="${c/(Cd/2)}" stroke-linecap="round">`)})}),o}},W4=_e`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;width:100%;aspect-ratio:1/1;animation:fadeIn ease .2s}svg:first-child,w3m-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}w3m-wallet-image{transform:translateY(-50%) translateX(-50%)}w3m-wallet-image{width:25%;height:25%;border-radius:15px}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--w3m-color-fg-accent)}svg:first-child path:last-child{stroke:var(--w3m-color-overlay)}`;var q4=Object.defineProperty,V4=Object.getOwnPropertyDescriptor,$i=(t,e,r,n)=>{for(var i=n>1?void 0:n?V4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&q4(e,r,i),i};let Kr=class extends fe{constructor(){super(...arguments),this.uri="",this.size=0,this.logoSrc="",this.walletId=""}svgTemplate(){var t;const e=(t=Ve.state.themeMode)!=null?t:"light";return Ae`<svg height="${this.size}" width="${this.size}">${z4.generate(this.uri,this.size,this.size/4,e)}</svg>`}render(){return V`<div>${this.walletId||this.logoSrc?V`<w3m-wallet-image walletId="${Bt(this.walletId)}" src="${Bt(this.logoSrc)}"></w3m-wallet-image>`:be.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Kr.styles=[ue.globalCss,W4],$i([ye()],Kr.prototype,"uri",2),$i([ye({type:Number})],Kr.prototype,"size",2),$i([ye()],Kr.prototype,"logoSrc",2),$i([ye()],Kr.prototype,"walletId",2),Kr=$i([we("w3m-qrcode")],Kr);const K4=_e`:host{position:relative;height:28px;width:75%}input{width:100%;height:100%;line-height:28px!important;border-radius:28px;font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:transparent;position:absolute;background-color:var(--w3m-color-bg-3);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay)}input::placeholder{color:transparent}svg{margin-right:4px}.w3m-placeholder{top:0;left:50%;transform:translateX(-50%);transition:.2s all ease;pointer-events:none;display:flex;align-items:center;justify-content:center;height:100%;width:fit-content;position:relative}input:focus-within+.w3m-placeholder,input:not(:placeholder-shown)+.w3m-placeholder{transform:translateX(10px);left:0}w3m-text{opacity:1;transition:.2s opacity ease}input:focus-within+.w3m-placeholder w3m-text,input:not(:placeholder-shown)+.w3m-placeholder w3m-text{opacity:0}input:focus-within,input:not(:placeholder-shown){color:var(--w3m-color-fg-1)}input:focus-within{box-shadow:inset 0 0 0 1px var(--w3m-color-fg-accent)}path{fill:var(--w3m-color-fg-2)}`;var G4=Object.defineProperty,Z4=Object.getOwnPropertyDescriptor,Sd=(t,e,r,n)=>{for(var i=n>1?void 0:n?Z4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&G4(e,r,i),i};let Vs=class extends fe{constructor(){super(...arguments),this.onChange=()=>null}render(){const t=Ue.isMobile()?"Search mobile wallets":"Search desktop wallets";return V`<input type="text" @input="${this.onChange}" placeholder="${t}"><div class="w3m-placeholder">${be.SEARCH_ICON}<w3m-text color="secondary" variant="medium-thin">${t}</w3m-text></div>`}};Vs.styles=[ue.globalCss,K4],Sd([ye()],Vs.prototype,"onChange",2),Vs=Sd([we("w3m-search-input")],Vs);const Y4=_e`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--w3m-color-fg-accent)}`;var J4=Object.defineProperty,X4=Object.getOwnPropertyDescriptor,Q4=(t,e,r,n)=>{for(var i=n>1?void 0:n?X4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&J4(e,r,i),i};let wc=class extends fe{render(){return V`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};wc.styles=[ue.globalCss,Y4],wc=Q4([we("w3m-spinner")],wc);const e8=_e`span{font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'tnum' on,'lnum' on,'case' on}.w3m-xxsmall-bold{font-weight:700;font-size:10px;line-height:12px;letter-spacing:.02em;text-transform:uppercase}.w3m-xsmall-normal{font-weight:600;font-size:12px;line-height:14px;letter-spacing:-.03em}.w3m-small-thin{font-weight:500;font-size:14px;line-height:16px;letter-spacing:-.03em}.w3m-small-normal{font-weight:600;font-size:14px;line-height:16px;letter-spacing:-.03em}.w3m-medium-thin{font-weight:500;font-size:16px;line-height:20px;letter-spacing:-.03em}.w3m-medium-normal{font-weight:600;font-size:16px;line-height:20px;letter-spacing:-.03em}.w3m-medium-bold{font-weight:700;font-size:16px;line-height:20px;letter-spacing:-.03em}.w3m-large-bold{font-weight:600;font-size:20px;line-height:24px;letter-spacing:-.03em}:host(*){color:var(--w3m-color-fg-1)}.w3m-color-primary{color:var(--w3m-color-fg-1)}.w3m-color-secondary{color:var(--w3m-color-fg-2)}.w3m-color-tertiary{color:var(--w3m-color-fg-3)}.w3m-color-inverse{color:var(--w3m-color-fg-inverse)}.w3m-color-accnt{color:var(--w3m-color-fg-accent)}.w3m-color-error{color:var(--w3m-color-err)}`;var t8=Object.defineProperty,r8=Object.getOwnPropertyDescriptor,bc=(t,e,r,n)=>{for(var i=n>1?void 0:n?r8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&t8(e,r,i),i};let Pi=class extends fe{constructor(){super(...arguments),this.variant="medium-normal",this.color="primary"}render(){const t={"w3m-large-bold":this.variant==="large-bold","w3m-medium-bold":this.variant==="medium-bold","w3m-medium-normal":this.variant==="medium-normal","w3m-medium-thin":this.variant==="medium-thin","w3m-small-normal":this.variant==="small-normal","w3m-small-thin":this.variant==="small-thin","w3m-xsmall-normal":this.variant==="xsmall-normal","w3m-xxsmall-bold":this.variant==="xxsmall-bold","w3m-color-primary":this.color==="primary","w3m-color-secondary":this.color==="secondary","w3m-color-tertiary":this.color==="tertiary","w3m-color-inverse":this.color==="inverse","w3m-color-accnt":this.color==="accent","w3m-color-error":this.color==="error"};return V`<span class="${Mt(t)}"><slot></slot></span>`}};Pi.styles=[ue.globalCss,e8],bc([ye()],Pi.prototype,"variant",2),bc([ye()],Pi.prototype,"color",2),Pi=bc([we("w3m-text")],Pi);const n8=_e`div{overflow:hidden;position:relative;border-radius:50%}div::after{content:'';position:absolute;inset:0;border-radius:50%;border:1px solid var(--w3m-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}svg{width:100%;height:100%}#token-placeholder-fill{fill:var(--w3m-color-bg-3)}#token-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var i8=Object.defineProperty,s8=Object.getOwnPropertyDescriptor,Id=(t,e,r,n)=>{for(var i=n>1?void 0:n?s8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&i8(e,r,i),i};let Ks=class extends fe{constructor(){super(...arguments),this.symbol=void 0}render(){var t;const e=ne.getTokenIcon((t=this.symbol)!=null?t:"");return e?V`<div><img src="${e}" alt="${this.id}"></div>`:be.TOKEN_PLACEHOLDER}};Ks.styles=[ue.globalCss,n8],Id([ye()],Ks.prototype,"symbol",2),Ks=Id([we("w3m-token-image")],Ks);const o8=_e`button{transition:all .2s ease;width:100%;height:100%;border-radius:10px;display:flex;align-items:flex-start}button:hover{background-color:var(--w3m-color-overlay)}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}w3m-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}w3m-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:15px;margin-bottom:5px}.w3m-sublabel{margin-top:2px}`;var a8=Object.defineProperty,c8=Object.getOwnPropertyDescriptor,Cr=(t,e,r,n)=>{for(var i=n>1?void 0:n?c8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&a8(e,r,i),i};let cr=class extends fe{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.src=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?V`<w3m-text class="w3m-sublabel" variant="xxsmall-bold" color="tertiary">RECENT</w3m-text>`:this.installed?V`<w3m-text class="w3m-sublabel" variant="xxsmall-bold" color="tertiary">INSTALLED</w3m-text>`:null}render(){var t;return V`<button @click="${this.onClick}"><div><w3m-wallet-image walletId="${this.walletId}" .src="${this.src}"></w3m-wallet-image><w3m-text variant="xsmall-normal">${(t=this.label)!=null?t:ne.getWalletName(this.name,!0)}</w3m-text>${this.sublabelTemplate()}</div></button>`}};cr.styles=[ue.globalCss,o8],Cr([ye()],cr.prototype,"onClick",2),Cr([ye()],cr.prototype,"name",2),Cr([ye()],cr.prototype,"walletId",2),Cr([ye()],cr.prototype,"label",2),Cr([ye()],cr.prototype,"src",2),Cr([ye()],cr.prototype,"installed",2),Cr([ye()],cr.prototype,"recent",2),cr=Cr([we("w3m-wallet-button")],cr);const l8=_e`div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;inset:0;border-radius:inherit;border:1px solid var(--w3m-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--w3m-color-bg-3)}#wallet-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var u8=Object.defineProperty,h8=Object.getOwnPropertyDescriptor,yc=(t,e,r,n)=>{for(var i=n>1?void 0:n?h8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&u8(e,r,i),i};let Ti=class extends fe{constructor(){super(...arguments),this.walletId=void 0,this.src=void 0}render(){var t;const e=ne.getWalletId((t=this.walletId)!=null?t:""),r=ne.getWalletId(e),n=this.src?this.src:ne.getWalletIcon(r);return V`${n.length?V`<div><img src="${n}" alt="${this.id}"></div>`:be.WALLET_PLACEHOLDER}`}};Ti.styles=[ue.globalCss,l8],yc([ye()],Ti.prototype,"walletId",2),yc([ye()],Ti.prototype,"src",2),Ti=yc([we("w3m-wallet-image")],Ti);const d8=_e`:host{all:initial}div{display:flex;align-items:center;background-color:var(--w3m-color-overlay);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);border-radius:10px;padding:4px 4px 4px 8px}div button{border-radius:16px;padding:4px 8px 4px 4px;height:auto;margin-left:10px;color:var(--w3m-color-fg-inverse);background-color:var(--w3m-color-fg-accent)}button::after{content:'';inset:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--w3m-color-overlay)}button:hover::after{background-color:var(--w3m-color-overlay)}w3m-avatar{margin-right:6px}w3m-button-big w3m-avatar{margin-left:-5px}`;var f8=Object.defineProperty,p8=Object.getOwnPropertyDescriptor,Dd=(t,e,r,n)=>{for(var i=n>1?void 0:n?p8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&f8(e,r,i),i};let Ni=class extends fe{constructor(){super(),this.balance="hide",ne.rejectStandaloneButtonComponent()}onOpen(){const{isStandalone:t}=Q.state;t||ft.open({route:"Account"})}accountTemplate(){return V`<w3m-avatar></w3m-avatar><w3m-address-text></w3m-address-text>`}render(){return this.balance==="show"?V`<div><w3m-balance></w3m-balance><button @click="${this.onOpen}">${this.accountTemplate()}</button></div>`:V`<w3m-button-big @click="${this.onOpen}">${this.accountTemplate()}</w3m-button-big>`}};Ni.styles=[ue.globalCss,d8],Dd([ye()],Ni.prototype,"balance",2),Ni=Dd([we("w3m-account-button")],Ni);const g8=_e`button{display:flex;border-radius:10px;flex-direction:column;transition:background-color .2s ease;justify-content:center;padding:5px;width:100px}button:hover{background-color:var(--w3m-color-overlay)}button:disabled{pointer-events:none}w3m-network-image{width:32px;height:32px}w3m-text{margin-top:4px}`;var m8=Object.defineProperty,w8=Object.getOwnPropertyDescriptor,vc=(t,e,r,n)=>{for(var i=n>1?void 0:n?w8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&m8(e,r,i),i};let Ri=class extends fe{constructor(){super(),this.chainId="",this.label="",this.unsubscribeNetwork=void 0;const{selectedChain:t}=Q.state;this.chainId=t?.id.toString(),this.label=t?.name,this.unsubscribeNetwork=Q.subscribe(({selectedChain:e})=>{this.chainId=e?.id.toString(),this.label=e?.name})}disconnectedCallback(){var t;(t=this.unsubscribeNetwork)==null||t.call(this)}onClick(){Te.push("SelectNetwork")}render(){const{chains:t}=Q.state,e=t&&t.length>1;return V`<button @click="${this.onClick}" ?disabled="${!e}"><w3m-network-image chainId="${Bt(this.chainId)}"></w3m-network-image><w3m-text variant="xsmall-normal" color="accent">${this.label}</w3m-text></button>`}};Ri.styles=[ue.globalCss,g8],vc([Be()],Ri.prototype,"chainId",2),vc([Be()],Ri.prototype,"label",2),Ri=vc([we("w3m-account-network-button")],Ri);const b8=_e`@keyframes slide{0%{background-position:0 0}100%{background-position:200px 0}}w3m-text{padding:1px 0}.w3m-loading{background:linear-gradient(270deg,var(--w3m-color-fg-1) 36.33%,var(--w3m-color-fg-3) 42.07%,var(--w3m-color-fg-1) 83.3%);background-size:200px 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation-name:slide;animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear}`;var y8=Object.defineProperty,v8=Object.getOwnPropertyDescriptor,Li=(t,e,r,n)=>{for(var i=n>1?void 0:n?v8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&y8(e,r,i),i};let Gr=class extends fe{constructor(){super(),this.address=void 0,this.name=void 0,this.loading=!0,this.variant="button",this.unsubscribeAccount=void 0,this.address=Q.state.address,this.name=Q.state.profileName,this.loading=Boolean(Q.state.profileLoading),this.unsubscribeAccount=Q.subscribe(({address:t,profileName:e,profileLoading:r})=>{this.address=t,this.name=e,this.loading=Boolean(r)})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){var t;const e=this.variant==="button",r={"w3m-loading":this.loading};return V`<w3m-text class="${Mt(r)}" variant="${e?"medium-normal":"large-bold"}" color="${e?"inverse":"primary"}">${this.name?this.name:ne.truncate((t=this.address)!=null?t:"")}</w3m-text>`}};Gr.styles=[ue.globalCss,b8],Li([Be()],Gr.prototype,"address",2),Li([Be()],Gr.prototype,"name",2),Li([Be()],Gr.prototype,"loading",2),Li([ye()],Gr.prototype,"variant",2),Gr=Li([we("w3m-address-text")],Gr);const _8=_e`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 10),0,0)}}.w3m-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px}.w3m-slider::after,.w3m-slider::before{content:'';height:100%;width:50px;z-index:2;position:absolute;background:linear-gradient(to right,var(--w3m-color-bg-1) 0,transparent 100%);top:0}.w3m-slider::before{left:0}.w3m-slider::after{right:0;transform:rotateZ(180deg)}.w3m-track{display:flex;width:calc(70px * 20);animation:scroll 20s linear infinite}.w3m-action{padding:30px 0 10px 0;display:flex;justify-content:center;align-items:center;flex-direction:column}.w3m-action w3m-button-big:last-child{margin-top:10px}w3m-wallet-image{width:60px;height:60px;margin:0 5px;box-shadow:0 2px 4px -2px rgba(0,0,0,.12),0 4px 4px -2px rgba(0,0,0,.08);border-radius:15px}`;var E8=Object.defineProperty,x8=Object.getOwnPropertyDescriptor,C8=(t,e,r,n)=>{for(var i=n>1?void 0:n?x8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&E8(e,r,i),i};let _c=class extends fe{onGoToQrcode(){Te.push("Qrcode")}onGoToGetWallet(){Te.push("GetWallet")}render(){const{previewWallets:t}=at.state,e=t.length,r=[...t,...t];return V`<w3m-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${be.QRCODE_ICON}"></w3m-modal-header><w3m-modal-content>${e?V`<div class="w3m-slider"><div class="w3m-track">${r.map(({image_url:n})=>V`<w3m-wallet-image src="${n.lg}"></w3m-wallet-image>`)}</div></div>`:null}<div class="w3m-action"><w3m-button-big @click="${ne.handleAndroidLinking}"><w3m-text variant="medium-normal" color="inverse">Select Wallet</w3m-text></w3m-button-big><w3m-button-big variant="secondary" @click="${this.onGoToGetWallet}"><w3m-text variant="medium-normal" color="accent">I don’t have a wallet</w3m-text></w3m-button-big></div></w3m-modal-content>`}};_c.styles=[ue.globalCss,_8],_c=C8([we("w3m-android-wallet-selection")],_c);const S8=_e`@keyframes slide{0%{transform:translateX(-50px)}100%{transform:translateX(200px)}}.w3m-placeholder,img{border-radius:50%;box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);display:block;position:relative;overflow:hidden!important;background-color:var(--w3m-color-av-1);background-image:radial-gradient(at 66% 77%,var(--w3m-color-av-2) 0,transparent 50%),radial-gradient(at 29% 97%,var(--w3m-color-av-3) 0,transparent 50%),radial-gradient(at 99% 86%,var(--w3m-color-av-4) 0,transparent 50%),radial-gradient(at 29% 88%,var(--w3m-color-av-5) 0,transparent 50%);transform:translateZ(0)}.w3m-loader{width:50px;height:100%;background:linear-gradient(270deg,transparent 0,rgba(255,255,255,.4) 30%,transparent 100%);animation-name:slide;animation-duration:1.5s;transform:translateX(-50px);animation-iteration-count:infinite;animation-timing-function:linear;animation-delay:.55s}.w3m-small{width:24px;height:24px}.w3m-medium{width:60px;height:60px}`;var I8=Object.defineProperty,D8=Object.getOwnPropertyDescriptor,Mi=(t,e,r,n)=>{for(var i=n>1?void 0:n?D8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&I8(e,r,i),i};let Zr=class extends fe{constructor(){super(),this.address=void 0,this.avatar=void 0,this.loading=!0,this.size="small",this.unsubscribeAccount=void 0,this.address=Q.state.address,this.avatar=Q.state.profileAvatar,this.loading=Boolean(Q.state.profileLoading),this.unsubscribeAccount=Q.subscribe(({address:t,profileAvatar:e,profileLoading:r})=>{this.address=t,this.avatar=e,this.loading=Boolean(r)})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){const t={"w3m-placeholder":!0,"w3m-small":this.size==="small","w3m-medium":this.size==="medium"};return this.avatar?V`<img class="${Mt(t)}" src="${this.avatar}">`:this.address?(ne.generateAvatarColors(this.address),V`<div class="${Mt(t)}">${this.loading?V`<div class="w3m-loader"></div>`:null}</div>`):null}};Zr.styles=[ue.globalCss,S8],Mi([Be()],Zr.prototype,"address",2),Mi([Be()],Zr.prototype,"avatar",2),Mi([Be()],Zr.prototype,"loading",2),Mi([ye()],Zr.prototype,"size",2),Zr=Mi([we("w3m-avatar")],Zr);const O8=_e`div{display:flex;align-items:center}w3m-token-image{width:28px;height:28px;margin-right:6px}`;var A8=Object.defineProperty,$8=Object.getOwnPropertyDescriptor,Ec=(t,e,r,n)=>{for(var i=n>1?void 0:n?$8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&A8(e,r,i),i};let Ui=class extends fe{constructor(){var t,e;super(),this.symbol=void 0,this.amount=void 0,this.unsubscribeAccount=void 0,this.symbol=(t=Q.state.balance)==null?void 0:t.symbol,this.amount=(e=Q.state.balance)==null?void 0:e.amount,this.unsubscribeAccount=Q.subscribe(({balance:r})=>{this.symbol=r?.symbol,this.amount=r?.amount})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){let t="_._";return this.amount==="0.0"&&(t=0),this.amount&&this.amount.length>6&&(t=parseFloat(this.amount).toFixed(3)),V`<div><w3m-token-image symbol="${Bt(this.symbol)}"></w3m-token-image><w3m-text variant="medium-normal" color="primary">${t} ${this.symbol}</w3m-text></div>`}};Ui.styles=[ue.globalCss,O8],Ec([Be()],Ui.prototype,"symbol",2),Ec([Be()],Ui.prototype,"amount",2),Ui=Ec([we("w3m-balance")],Ui);const P8=_e`:host{all:initial}svg{width:28px;height:20px;margin:-1px 3px 0 -5px}svg path{fill:var(--w3m-color-fg-inverse)}button:disabled svg path{fill:var(--w3m-color-fg-3)}w3m-spinner{margin:0 10px 0 0}`;var T8=Object.defineProperty,N8=Object.getOwnPropertyDescriptor,Gs=(t,e,r,n)=>{for(var i=n>1?void 0:n?N8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&T8(e,r,i),i};let Yr=class extends fe{constructor(){super(),this.loading=!1,this.label="Connect Wallet",this.icon="show",this.modalUnsub=void 0,ne.rejectStandaloneButtonComponent(),this.modalUnsub=ft.subscribe(t=>{t.open&&(this.loading=!0),t.open||(this.loading=!1)})}disconnectedCallback(){var t;(t=this.modalUnsub)==null||t.call(this)}iconTemplate(){return this.icon==="show"?be.WALLET_CONNECT_ICON:null}onClick(){Q.state.isConnected?this.onDisconnect():this.onConnect()}onConnect(){this.loading=!0;const{enableNetworkView:t}=Ve.state,{chains:e,selectedChain:r}=Q.state,n=e?.length&&e.length>1;t||n&&!r?ft.open({route:"SelectNetwork"}):ft.open({route:"ConnectWallet"})}onDisconnect(){qe.client().disconnect(),Q.resetAccount()}render(){return V`<w3m-button-big .disabled="${this.loading}" @click="${this.onClick}">${this.loading?V`<w3m-spinner></w3m-spinner><w3m-text variant="medium-normal" color="accent">Connecting...</w3m-text>`:V`${this.iconTemplate()}<w3m-text variant="medium-normal" color="inverse">${this.label}</w3m-text>`}</w3m-button-big>`}};Yr.styles=[ue.globalCss,P8],Gs([Be()],Yr.prototype,"loading",2),Gs([ye()],Yr.prototype,"label",2),Gs([ye()],Yr.prototype,"icon",2),Yr=Gs([we("w3m-connect-button")],Yr);var R8=Object.defineProperty,L8=Object.getOwnPropertyDescriptor,Fi=(t,e,r,n)=>{for(var i=n>1?void 0:n?L8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&R8(e,r,i),i};let Jr=class extends fe{constructor(){super(),this.isConnected=!1,this.label="Connect Wallet",this.icon="show",this.balance="hide",this.unsubscribeAccount=void 0,ne.rejectStandaloneButtonComponent(),this.isConnected=Q.state.isConnected,this.unsubscribeAccount=Q.subscribe(({isConnected:t})=>{this.isConnected=t})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){const{enableAccountView:t}=Ve.state;return this.isConnected&&t?V`<w3m-account-button balance="${Bt(this.balance)}"></w3m-account-button>`:V`<w3m-connect-button label="${this.isConnected?"Disconnect":Bt(this.label)}" icon="${Bt(this.icon)}"></w3m-connect-button>`}};Fi([Be()],Jr.prototype,"isConnected",2),Fi([ye()],Jr.prototype,"label",2),Fi([ye()],Jr.prototype,"icon",2),Fi([ye()],Jr.prototype,"balance",2),Jr=Fi([we("w3m-core-button")],Jr);const kt={allowedExplorerListings(t){const{explorerAllowList:e,explorerDenyList:r}=Ve.state;let n=[...t];return e&&(n=n.filter(i=>e.includes(i.id))),r&&(n=n.filter(i=>!r.includes(i.id))),n},walletsWithInjected(t){let e=[...t??[]];if(window.ethereum){const r=ne.getWalletName("");e=e.filter(({name:n})=>!ne.caseSafeIncludes(n,r))}return e},connectorWallets(){const{isStandalone:t}=Q.state;if(t)return[];let e=qe.client().getConnectors();return!window.ethereum&&Ue.isMobile()&&(e=e.filter(({id:r})=>r!=="injected"&&r!==ar.metaMask)),e},walletTemplatesWithRecent(t,e){let r=[...t];if(e){const n=ne.getRecentWallet();r=r.filter(i=>!i.values.includes(n?.name)),r.splice(1,0,e)}return r},deduplicateExplorerListingsFromConnectors(t){const{isStandalone:e}=Q.state;if(e)return t;const r=qe.client().getConnectors().map(({name:n})=>n.toUpperCase());return t.filter(({name:n})=>!r.includes(n.toUpperCase()))}},M8=_e`.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.w3m-desktop-title,.w3m-mobile-title{display:flex;align-items:center}.w3m-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.w3m-desktop-title{margin-bottom:10px;padding:0 10px}.w3m-subtitle{display:flex;align-items:center}.w3m-subtitle:last-child path{fill:var(--w3m-color-fg-3)}.w3m-desktop-title svg,.w3m-mobile-title svg{margin-right:6px}.w3m-desktop-title path,.w3m-mobile-title path{fill:var(--w3m-color-fg-accent)}`;var U8=Object.defineProperty,F8=Object.getOwnPropertyDescriptor,B8=(t,e,r,n)=>{for(var i=n>1?void 0:n?F8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&U8(e,r,i),i};let xc=class extends fe{onDesktopWallet(t){Te.push("DesktopConnector",{DesktopConnector:t})}onInjectedWallet(){Te.push("InjectedConnector")}onInstallConnector(){Te.push("InstallConnector",{InstallConnector:{id:"metaMask",name:"MetaMask",isMobile:!0,url:"https://metamask.io"}})}async onConnectorWallet(t){window.ethereum?t==="injected"||t===ar.metaMask?this.onInjectedWallet():await ne.handleConnectorConnection(t):this.onInstallConnector()}desktopWalletsTemplate(){const{desktopWallets:t}=Ve.state;return t?.map(({id:e,name:r,links:{universal:n,native:i}})=>V`<w3m-wallet-button walletId="${e}" name="${r}" .onClick="${()=>this.onDesktopWallet({name:r,walletId:e,universal:n,native:i})}"></w3m-wallet-button>`)}previewWalletsTemplate(){let t=kt.allowedExplorerListings(at.state.previewWallets);return t=kt.deduplicateExplorerListingsFromConnectors(t),t.map(({name:e,desktop:{universal:r,native:n},homepage:i,image_url:s,id:o})=>V`<w3m-wallet-button src="${s.lg}" name="${e}" .onClick="${()=>this.onDesktopWallet({walletId:o,name:e,native:n,universal:r||i,icon:s.lg})}"></w3m-wallet-button>`)}connectorWalletsTemplate(){return kt.connectorWallets().map(({id:t,name:e,ready:r})=>V`<w3m-wallet-button .installed="${["injected","metaMask"].includes(t)&&r}" name="${e}" walletId="${t}" .onClick="${async()=>this.onConnectorWallet(t)}"></w3m-wallet-button>`)}recentWalletTemplate(){const t=ne.getRecentWallet();if(!t)return;const{id:e,name:r,links:n,image:i}=t;return V`<w3m-wallet-button .recent="${!0}" name="${r}" walletId="${Bt(e)}" src="${Bt(i)}" .onClick="${()=>this.onDesktopWallet({name:r,walletId:e,universal:n?.universal,native:n?.native,icon:i})}"></w3m-wallet-button>`}render(){const{standaloneUri:t}=Q.state,e=this.desktopWalletsTemplate(),r=this.previewWalletsTemplate(),n=this.connectorWalletsTemplate(),i=this.recentWalletTemplate(),s=[...e??[],...r],o=[...n,...s],a=kt.walletTemplatesWithRecent(o,i),c=kt.walletTemplatesWithRecent(s,i),l=t?c:a,p=l.length>4;let m=[];p?m=l.filter(w=>!w.values.includes(ar.coinbaseWallet)).slice(0,3):m=l;const b=Boolean(m.length);return V`<w3m-modal-header border="${!0}" title="Connect your wallet" .onAction="${ne.handleUriCopy}" .actionIcon="${be.COPY_ICON}"></w3m-modal-header><w3m-modal-content><div class="w3m-mobile-title"><div class="w3m-subtitle">${be.MOBILE_ICON}<w3m-text variant="small-normal" color="accent">Mobile</w3m-text></div><div class="w3m-subtitle">${be.SCAN_ICON}<w3m-text variant="small-normal" color="secondary">Scan with your wallet</w3m-text></div></div><w3m-walletconnect-qr></w3m-walletconnect-qr></w3m-modal-content>${b?V`<w3m-modal-footer><div class="w3m-desktop-title">${be.DESKTOP_ICON}<w3m-text variant="small-normal" color="accent">Desktop</w3m-text></div><div class="w3m-grid">${m} ${p?V`<w3m-view-all-wallets-button></w3m-view-all-wallets-button>`:null}</div></w3m-modal-footer>`:null}`}};xc.styles=[ue.globalCss,M8],xc=B8([we("w3m-desktop-wallet-selection")],xc);const j8=_e`div{background-color:var(--w3m-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--w3m-color-bg-3);text-align:center}a{color:var(--w3m-color-fg-accent);text-decoration:none;transition:opacity .2s ease-in-out}a:hover{opacity:.8}`;var k8=Object.defineProperty,H8=Object.getOwnPropertyDescriptor,z8=(t,e,r,n)=>{for(var i=n>1?void 0:n?H8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&k8(e,r,i),i};let Cc=class extends fe{render(){const{termsOfServiceUrl:t,privacyPolicyUrl:e}=Ve.state;return t??e?V`<div><w3m-text variant="small-normal" color="secondary">By connecting your wallet, you agree to our<br>${t?V`<a href="${t}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${t&&e?"and":null} ${e?V`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</w3m-text></div>`:null}};Cc.styles=[ue.globalCss,j8],Cc=z8([we("w3m-legal-notice")],Cc);const W8=_e`.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var q8=Object.defineProperty,V8=Object.getOwnPropertyDescriptor,K8=(t,e,r,n)=>{for(var i=n>1?void 0:n?V8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&q8(e,r,i),i};let Sc=class extends fe{onGoToQrcode(){Te.push("Qrcode")}async onConnectorWallet(t){await ne.handleConnectorConnection(t)}mobileWalletsTemplate(){const{mobileWallets:t}=Ve.state,e=kt.walletsWithInjected(t);if(e.length)return e.map(({id:r,name:n,links:{universal:i,native:s}})=>V`<w3m-wallet-button name="${n}" walletId="${r}" .onClick="${async()=>ne.handleMobileLinking({links:{native:s,universal:i},name:n,id:r})}"></w3m-wallet-button>`)}previewWalletsTemplate(){const{previewWallets:t}=at.state;let e=kt.walletsWithInjected(t);return e=kt.allowedExplorerListings(e),e=kt.deduplicateExplorerListingsFromConnectors(e),e.map(({image_url:r,name:n,mobile:{native:i,universal:s},id:o})=>V`<w3m-wallet-button name="${n}" src="${r.lg}" .onClick="${async()=>ne.handleMobileLinking({links:{native:i,universal:s},name:n,id:o,image:r.lg})}"></w3m-wallet-button>`)}connectorWalletsTemplate(){let t=kt.connectorWallets();return window.ethereum||(t=t.filter(({id:e})=>e!=="injected"&&e!==ar.metaMask)),t.map(({name:e,id:r,ready:n})=>V`<w3m-wallet-button .installed="${["injected","metaMask"].includes(r)&&n}" name="${e}" walletId="${r}" .onClick="${async()=>this.onConnectorWallet(r)}"></w3m-wallet-button>`)}recentWalletTemplate(){const t=ne.getRecentWallet();if(!t)return;const{id:e,name:r,links:n,image:i}=t;return V`<w3m-wallet-button .recent="${!0}" name="${r}" walletId="${Bt(e)}" src="${Bt(i)}" .onClick="${async()=>ne.handleMobileLinking({name:r,id:e,links:n,image:i})}"></w3m-wallet-button>`}render(){const{standaloneUri:t}=Q.state,e=this.connectorWalletsTemplate(),r=this.mobileWalletsTemplate(),n=this.previewWalletsTemplate(),i=this.recentWalletTemplate(),s=r??n,o=[...e,...s],a=kt.walletTemplatesWithRecent(o,i),c=kt.walletTemplatesWithRecent(s,i),l=t?c:a,p=l.length>8;let m=[];p?m=l.filter(A=>!A.values.includes(ar.coinbaseWallet)).slice(0,7):m=l;const b=m.slice(0,4),w=m.slice(4,8),E=Boolean(m.length);return V`<w3m-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${be.QRCODE_ICON}"></w3m-modal-header>${E?V`<w3m-modal-content><div class="w3m-grid">${b} ${w.length?V`${w} ${p?V`<w3m-view-all-wallets-button></w3m-view-all-wallets-button>`:null}`:null}</div></w3m-modal-content>`:null}`}};Sc.styles=[ue.globalCss,W8],Sc=K8([we("w3m-mobile-wallet-selection")],Sc);const G8=_e`:host{all:initial}.w3m-overlay{inset:0;position:fixed;z-index:var(--w3m-modal-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.3);opacity:0;pointer-events:none}.w3m-open{pointer-events:auto}.w3m-container{position:relative;max-width:360px;width:100%;outline:0}.w3m-card{width:100%;position:relative;transform:translateY(5px);border-radius:30px;overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--w3m-color-overlay);background-color:var(--w3m-color-bg-1);color:var(--w3m-color-fg-1)}@media(max-width:600px){.w3m-container{max-width:440px}.w3m-card{border-radius:40px 40px 0 0}.w3m-overlay{align-items:flex-end}}@media(max-width:600px){.w3m-container{max-width:440px}.w3m-card{transform:translateY(5px);border-radius:40px 40px 0 0}.w3m-overlay{align-items:flex-end}}`;var Z8=Object.defineProperty,Y8=Object.getOwnPropertyDescriptor,Zs=(t,e,r,n)=>{for(var i=n>1?void 0:n?Y8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Z8(e,r,i),i};let Xr=class extends fe{constructor(){if(super(),this.open=!1,this.preload=!0,this.activeChainId=void 0,this.unsubscribeModal=void 0,this.unsubscribeConfig=void 0,this.unwatchAccount=void 0,this.unwatchNetwork=void 0,this.abortController=void 0,ue.setTheme(),this.unsubscribeConfig=Ve.subscribe(ue.setTheme),this.unsubscribeModal=ft.subscribe(t=>{t.open?this.onOpenModalEvent():this.onCloseModalEvent()}),!Q.state.isStandalone){Q.getAccount();const t=Q.getSelectedChain();this.activeChainId=t?.id,this.fetchEnsProfile(),this.fetchBalance(),this.unwatchNetwork=qe.client().watchNetwork(e=>{const r=e.chain;r&&this.activeChainId!==r.id&&(Q.setSelectedChain(r),this.activeChainId=r.id,Q.resetBalance(),this.fetchBalance())}),this.unwatchAccount=qe.client().watchAccount(e=>{const{address:r}=Q.state;e.address!==r&&(this.fetchEnsProfile(e.address),this.fetchBalance(e.address)),Q.setAddress(e.address),Q.setIsConnected(e.isConnected)})}this.preloadModalData()}disconnectedCallback(){var t,e,r,n;(t=this.unsubscribeModal)==null||t.call(this),(e=this.unsubscribeConfig)==null||e.call(this),(r=this.unwatchAccount)==null||r.call(this),(n=this.unwatchNetwork)==null||n.call(this)}get overlayEl(){return ne.getShadowRootElement(this,".w3m-overlay")}get containerEl(){return ne.getShadowRootElement(this,".w3m-container")}async fetchEnsProfile(t){try{if(Ve.state.enableAccountView){Q.setProfileLoading(!0);const e=t??Q.state.address,{id:r}=qe.client().getDefaultChain();if(e&&r===1){const[n,i]=await Promise.all([qe.client().fetchEnsName({address:e,chainId:1}),qe.client().fetchEnsAvatar({address:e,chainId:1})]);i&&await ne.preloadImage(i),Q.setProfileName(n),Q.setProfileAvatar(i)}}}catch(e){console.error(e),Lt.openToast(ne.getErrorMessage(e),"error")}finally{Q.setProfileLoading(!1)}}async fetchBalance(t){try{if(Ve.state.enableAccountView){Q.setBalanceLoading(!0);const e=t??Q.state.address;if(e){const r=await qe.client().fetchBalance({address:e});Q.setBalance({amount:r.formatted,symbol:r.symbol})}}}catch(e){console.error(e),Lt.openToast(ne.getErrorMessage(e),"error")}finally{Q.setBalanceLoading(!1)}}toggleBodyScroll(t){document.querySelector("body")&&(t?document.getElementById("w3m-styles")?.remove():document.head.insertAdjacentHTML("beforeend",'<style id="w3m-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}async preloadExplorerData(){var t;const{standaloneChains:e,chains:r,walletConnectVersion:n}=Q.state,i=e?.join(",");await Promise.all([at.getPreviewWallets({page:1,entries:10,chains:i,device:Ue.isMobile()?"mobile":"desktop",version:n}),at.getRecomendedWallets()]),Q.setIsDataLoaded(!0);const{previewWallets:s,recomendedWallets:o}=at.state,a=(t=r?.map(l=>ne.getChainIcon(l.id)))!=null?t:[],c=[...s,...o].map(l=>l.image_url.lg);await this.preloadExplorerImages([...a,...c])}async preloadExplorerImages(t){t.length&&await Promise.all(t.map(async e=>ne.preloadImage(e)))}async preloadCustomImages(){const t=ne.getCustomImageUrls();t.length&&await Promise.all(t.map(async e=>ne.preloadImage(e)))}async preloadConnectorImages(){if(!Q.state.isStandalone){const t=ne.getConnectorImageUrls();t.length&&await Promise.all(t.map(async e=>ne.preloadImage(e)))}}async preloadModalData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadExplorerData(),this.preloadCustomImages(),this.preloadConnectorImages()]))}catch(t){console.error(t),Lt.openToast("Failed preloading","error")}}onCloseModal(t){t.target===t.currentTarget&&ft.close()}async onOpenModalEvent(){await this.preloadModalData(),this.toggleBodyScroll(!1);const t=.2;await _r(this.containerEl,{y:0},{duration:0}).finished,_r(this.overlayEl,{opacity:[0,1]},{duration:.2,delay:t}),_r(this.containerEl,ne.isMobileAnimation()?{y:["50vh",0]}:{scale:[.98,1]},{scale:{easing:Ns({velocity:.4})},y:{easing:Ns({mass:.5})},delay:t}),this.addKeyboardEvents(),this.open=!0}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents(),await Promise.all([_r(this.containerEl,ne.isMobileAnimation()?{y:[0,"50vh"]}:{scale:[1,.98]},{scale:{easing:Ns({velocity:0})},y:{easing:Ns({mass:.5})}}).finished,_r(this.overlayEl,{opacity:[1,0]},{duration:.2}).finished]),this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",t=>{var e;t.key==="Escape"?ft.close():t.key==="Tab"&&((e=t.target)!=null&&e.tagName.includes("W3M-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var t;(t=this.abortController)==null||t.abort(),this.abortController=void 0}render(){const t={"w3m-overlay":!0,"w3m-open":this.open};return V`<div id="w3m-modal" class="${Mt(t)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="w3m-container" tabindex="0">${this.open?V`<w3m-modal-backcard></w3m-modal-backcard><div class="w3m-card"><w3m-modal-router></w3m-modal-router><w3m-modal-toast></w3m-modal-toast></div>`:null}</div></div>`}};Xr.styles=[ue.globalCss,G8],Zs([Be()],Xr.prototype,"open",2),Zs([Be()],Xr.prototype,"preload",2),Zs([Be()],Xr.prototype,"activeChainId",2),Xr=Zs([we("w3m-modal")],Xr);const J8=_e`:host{all:initial}w3m-network-image{margin-left:-6px;margin-right:6px;width:28px;height:28px}`;var X8=Object.defineProperty,Q8=Object.getOwnPropertyDescriptor,Ys=(t,e,r,n)=>{for(var i=n>1?void 0:n?Q8(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&X8(e,r,i),i};let Qr=class extends fe{constructor(){super(),this.chainId="",this.label="",this.wrongNetwork=!1,this.unsubscribeNetwork=void 0,ne.rejectStandaloneButtonComponent();const{selectedChain:t}=Q.state;this.onSetChainData(t),this.unsubscribeNetwork=Q.subscribe(({selectedChain:e})=>{this.onSetChainData(e)})}disconnectedCallback(){var t;(t=this.unsubscribeNetwork)==null||t.call(this)}onSetChainData(t){if(t){const{chains:e}=Q.state,r=e?.map(n=>n.id);this.chainId=t.id.toString(),this.wrongNetwork=!(r!=null&&r.includes(t.id)),this.label=this.wrongNetwork?"Wrong Network":t.name}}onClick(){ft.open({route:"SelectNetwork"})}render(){var t;const{chains:e}=Q.state,r=e&&e.length>1;return V`<w3m-button-big @click="${this.onClick}" ?disabled="${!r}"><w3m-network-image chainId="${Bt(this.chainId)}"></w3m-network-image><w3m-text variant="medium-normal" color="inverse">${(t=this.label)!=null&&t.length?this.label:"Select Network"}</w3m-text></w3m-button-big>`}};Qr.styles=[ue.globalCss,J8],Ys([Be()],Qr.prototype,"chainId",2),Ys([Be()],Qr.prototype,"label",2),Ys([Be()],Qr.prototype,"wrongNetwork",2),Qr=Ys([we("w3m-network-switch")],Qr);const e_=_e`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:10px;transition:background-color .2s ease;height:100%;justify-content:flex-start}.w3m-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:15px;justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--w3m-color-bg-2);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay)}button:hover{background-color:var(--w3m-color-overlay)}.w3m-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:8px;border:1px solid var(--w3m-color-overlay)}.w3m-icons svg{width:21px;height:21px}.w3m-icons img:nth-child(1),.w3m-icons img:nth-child(2),.w3m-icons svg:nth-child(1),.w3m-icons svg:nth-child(2){margin-bottom:4px}w3m-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--w3m-color-bg-3)}#wallet-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var t_=Object.defineProperty,r_=Object.getOwnPropertyDescriptor,n_=(t,e,r,n)=>{for(var i=n>1?void 0:n?r_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&t_(e,r,i),i};let Ic=class extends fe{onClick(){Te.push("WalletExplorer")}render(){const{previewWallets:t}=at.state,e=ne.getCustomWallets(),r=[...t,...e].reverse().slice(0,4);return V`<button @click="${this.onClick}"><div class="w3m-icons">${r.map(n=>{var i;const s=(i=n.image_url)==null?void 0:i.lg;if(s)return V`<img src="${s}">`;const o=ne.getWalletId(n.id),a=ne.getWalletIcon(o);return a?V`<img src="${a}">`:be.WALLET_PLACEHOLDER})}</div><w3m-text variant="xsmall-normal">View All</w3m-text></button>`}};Ic.styles=[ue.globalCss,e_],Ic=n_([we("w3m-view-all-wallets-button")],Ic);const i_=_e`.w3m-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var s_=Object.defineProperty,o_=Object.getOwnPropertyDescriptor,Od=(t,e,r,n)=>{for(var i=n>1?void 0:n?o_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&s_(e,r,i),i};let Js=class extends fe{constructor(){super(),this.uri="",this.createConnectionAndWait()}get overlayEl(){return ne.getShadowRootElement(this,".w3m-qr-container")}async createConnectionAndWait(t=0){var e;try{const{standaloneUri:r}=Q.state;r?setTimeout(()=>this.uri=r,0):(await qe.client().connectWalletConnect(n=>this.uri=n,(e=Q.state.selectedChain)==null?void 0:e.id),ft.close())}catch(r){console.error(r),Lt.openToast("Connection request declined","error"),t<2&&this.createConnectionAndWait(t+1)}}render(){return V`<div class="w3m-qr-container">${this.uri?V`<w3m-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}"></w3m-qrcode>`:V`<w3m-spinner></w3m-spinner>`}</div>`}};Js.styles=[ue.globalCss,i_],Od([Be()],Js.prototype,"uri",2),Js=Od([we("w3m-walletconnect-qr")],Js);const a_=_e`.w3m-profile{display:flex;justify-content:space-between;align-items:flex-start;padding-top:20px}.w3m-connection-badge{background-color:var(--w3m-color-bg-2);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);padding:6px 10px 6px 26px;position:relative;border-radius:28px}.w3m-connection-badge::before{content:'';position:absolute;width:10px;height:10px;left:10px;background-color:var(--w3m-color-success);border-radius:50%;top:50%;margin-top:-5px;box-shadow:0 1px 4px 1px var(--w3m-color-success),inset 0 0 0 1px var(--w3m-color-overlay)}.w3m-footer{display:flex;justify-content:space-between}w3m-address-text{margin-top:10px;display:block}.w3m-balance{border-top:1px solid var(--w3m-color-bg-2);padding:11px 20px}`;var c_=Object.defineProperty,l_=Object.getOwnPropertyDescriptor,u_=(t,e,r,n)=>{for(var i=n>1?void 0:n?l_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&c_(e,r,i),i};let Dc=class extends fe{onDisconnect(){ft.close(),qe.client().disconnect(),Q.resetAccount()}async onCopyAddress(){var t;await navigator.clipboard.writeText((t=Q.state.address)!=null?t:""),Lt.openToast("Address copied","success")}render(){return V`<w3m-modal-content><div class="w3m-profile"><div class="w3m-info"><w3m-avatar size="medium"></w3m-avatar><w3m-address-text variant="modal"></w3m-address-text></div><div class="w3m-connection-badge"><w3m-text variant="small-normal" color="secondary">Connected</w3m-text></div></div></w3m-modal-content><div class="w3m-balance"><w3m-balance></w3m-balance></div><w3m-modal-footer><div class="w3m-footer"><w3m-account-network-button></w3m-account-network-button><w3m-box-button label="Copy Address" .onClick="${this.onCopyAddress}" .icon="${be.ACCOUNT_COPY}"></w3m-box-button><w3m-box-button label="Disconnect" .onClick="${this.onDisconnect}" .icon="${be.ACCOUNT_DISCONNECT}"></w3m-box-button></div></w3m-modal-footer>`}};Dc.styles=[ue.globalCss,a_],Dc=u_([we("w3m-account-view")],Dc);var h_=Object.defineProperty,d_=Object.getOwnPropertyDescriptor,f_=(t,e,r,n)=>{for(var i=n>1?void 0:n?d_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&h_(e,r,i),i};let Oc=class extends fe{viewTemplate(){return Ue.isAndroid()?V`<w3m-android-wallet-selection></w3m-android-wallet-selection>`:Ue.isMobile()?V`<w3m-mobile-wallet-selection></w3m-mobile-wallet-selection>`:V`<w3m-desktop-wallet-selection></w3m-desktop-wallet-selection>`}render(){return V`${this.viewTemplate()}<w3m-legal-notice></w3m-legal-notice>`}};Oc.styles=[ue.globalCss],Oc=f_([we("w3m-connect-wallet-view")],Oc);const p_=_e`.w3m-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:16px}w3m-spinner{margin-right:10px}w3m-wallet-image{border-radius:15px;width:25%;aspect-ratio:1/1;margin-bottom:20px}.w3m-install-actions{display:flex}.w3m-install-actions w3m-button{margin:0 5px;opacity:1}`;var g_=Object.defineProperty,m_=Object.getOwnPropertyDescriptor,Ad=(t,e,r,n)=>{for(var i=n>1?void 0:n?m_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&g_(e,r,i),i};let Xs=class extends fe{constructor(){super(),this.uri="",this.createConnectionAndWait()}getRouterData(){var t;const e=(t=Te.state.data)==null?void 0:t.DesktopConnector;if(!e)throw new Error("Missing router data");return e}onFormatAndRedirect(t){const{native:e,universal:r,name:n}=this.getRouterData();if(e){const i=Ue.formatNativeUrl(e,t,n);Ue.openHref(i)}else if(r){const i=Ue.formatUniversalUrl(r,t,n);Ue.openHref(i,"_blank")}}async createConnectionAndWait(t=0){var e;const{standaloneUri:r}=Q.state,{name:n,walletId:i,native:s,universal:o,icon:a}=this.getRouterData(),c={name:n,id:i,links:{native:s,universal:o},image:a};if(r)ne.setRecentWallet(c),this.onFormatAndRedirect(r);else try{await qe.client().connectWalletConnect(l=>{this.uri=l,this.onFormatAndRedirect(l)},(e=Q.state.selectedChain)==null?void 0:e.id),ne.setRecentWallet(c),ft.close()}catch(l){console.error(l),Lt.openToast("Connection request declined","error"),t<2&&this.createConnectionAndWait(t+1)}}onConnectWithMobile(){Te.push("Qrcode")}onGoToWallet(){const{universal:t,name:e}=this.getRouterData();if(t){const r=Ue.formatUniversalUrl(t,this.uri,e);Ue.openHref(r,"_blank")}}render(){const{name:t,icon:e,universal:r,walletId:n}=this.getRouterData(),i=ne.getWalletName(t);return V`<w3m-modal-header title="${i}"></w3m-modal-header><w3m-modal-content><div class="w3m-wrapper">${e?V`<w3m-wallet-image src="${e}" size="lg"></w3m-wallet-image>`:V`<w3m-wallet-image size="lg" walletid="${Bt(n)}"></w3m-wallet-image>`}<div class="w3m-connecting-title"><w3m-spinner></w3m-spinner><w3m-text variant="large-bold" color="secondary">${`Continue in ${i}...`}</w3m-text></div><div class="w3m-install-actions"><w3m-button .onClick="${async()=>this.createConnectionAndWait()}" .iconRight="${be.RETRY_ICON}">Retry</w3m-button>${r?V`<w3m-button .onClick="${this.onGoToWallet.bind(this)}" .iconLeft="${be.ARROW_UP_RIGHT_ICON}">Go to Wallet</w3m-button>`:V`<w3m-button .onClick="${this.onConnectWithMobile}" .iconLeft="${be.MOBILE_ICON}">Connect with Mobile</w3m-button>`}</div></div></w3m-modal-content>`}};Xs.styles=[ue.globalCss,p_],Ad([Be()],Xs.prototype,"uri",2),Xs=Ad([we("w3m-desktop-connector-view")],Xs);const w_=_e`.w3m-info-text{margin:5px 0 15px;max-width:320px;text-align:center}.w3m-wallet-item{margin:0 -20px 0 0;padding-right:20px;display:flex;align-items:center;border-bottom:1px solid var(--w3m-color-bg-2)}.w3m-wallet-item:last-child{margin-bottom:-20px;border-bottom:0}.w3m-wallet-content{margin-left:20px;height:60px;display:flex;flex:1;align-items:center;justify-content:space-between}.w3m-footer-actions{display:flex;flex-direction:column;align-items:center;padding:20px 0;border-top:1px solid var(--w3m-color-bg-2)}w3m-wallet-image{display:block;width:40px;height:40px;border-radius:10px}`;var b_=Object.defineProperty,y_=Object.getOwnPropertyDescriptor,v_=(t,e,r,n)=>{for(var i=n>1?void 0:n?y_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&b_(e,r,i),i};let Ac=class extends fe{constructor(){super(...arguments),this.explorerUrl="https://explorer.walletconnect.com/"}onGet(t){Ue.openHref(t,"_blank")}onExplore(){Ue.openHref(this.explorerUrl,"_blank")}render(){const{recomendedWallets:t}=at.state,e=ne.getCustomWallets().slice(0,6),r=t.length,n=e.length;return V`<w3m-modal-header title="Get a wallet"></w3m-modal-header><w3m-modal-content>${r?t.map(({name:i,image_url:s,homepage:o})=>V`<div class="w3m-wallet-item"><w3m-wallet-image src="${s.lg}"></w3m-wallet-image><div class="w3m-wallet-content"><w3m-text variant="medium-normal">${i}</w3m-text><w3m-button .iconRight="${be.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGet(o)}">Get</w3m-button></div></div>`):null} ${n?e.map(({name:i,id:s,links:o})=>V`<div class="w3m-wallet-item"><w3m-wallet-image walletId="${s}"></w3m-wallet-image><div class="w3m-wallet-content"><w3m-text variant="medium-normal">${i}</w3m-text><w3m-button .iconRight="${be.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGet(o.universal)}">Get</w3m-button></div></div>`):null}</w3m-modal-content><div class="w3m-footer-actions"><w3m-text variant="medium-normal">Not what you're looking for?</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">With hundreds of wallets out there, there's something for everyone</w3m-text><w3m-button .onClick="${this.onExplore.bind(this)}" .iconRight="${be.ARROW_UP_RIGHT_ICON}">Explore Wallets</w3m-button></div>`}};Ac.styles=[ue.globalCss,w_],Ac=v_([we("w3m-get-wallet-view")],Ac);const __=_e`.w3m-footer-actions{display:flex;justify-content:center}.w3m-footer-actions w3m-button{margin:0 5px}.w3m-info-container{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:20px}.w3m-info-container:last-child{margin-bottom:0}.w3m-info-text{margin-top:5px;text-align:center}.w3m-images svg{margin:0 2px 5px;width:55px;height:55px}.help-img-highlight{stroke:var(--w3m-color-overlay)}`;var E_=Object.defineProperty,x_=Object.getOwnPropertyDescriptor,C_=(t,e,r,n)=>{for(var i=n>1?void 0:n?x_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&E_(e,r,i),i};let $c=class extends fe{constructor(){super(...arguments),this.learnUrl="https://ethereum.org/en/wallets/"}onGet(){Te.push("GetWallet")}onLearnMore(){Ue.openHref(this.learnUrl,"_blank")}render(){return V`<w3m-modal-header title="What is a wallet?"></w3m-modal-header><w3m-modal-content><div class="w3m-info-container"><div class="w3m-images">${be.HELP_CHART_IMG} ${be.HELP_PAINTING_IMG} ${be.HELP_ETH_IMG}</div><w3m-text variant="medium-normal">A home for your digital assets</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs.</w3m-text></div><div class="w3m-info-container"><div class="w3m-images">${be.HELP_KEY_IMG} ${be.HELP_USER_IMG} ${be.HELP_LOCK_IMG}</div><w3m-text variant="medium-normal">One login for all of web3</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">Log in to any app by connecting your wallet. Say goodbye to countless passwords!</w3m-text></div><div class="w3m-info-container"><div class="w3m-images">${be.HELP_COMPAS_IMG} ${be.HELP_NOUN_IMG} ${be.HELP_DAO_IMG}</div><w3m-text variant="medium-normal">Your gateway to a new web</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more.</w3m-text></div><div class="w3m-footer-actions"><w3m-button .onClick="${this.onGet.bind(this)}" .iconLeft="${be.WALLET_ICON}">Get a Wallet</w3m-button><w3m-button .onClick="${this.onLearnMore.bind(this)}" .iconRight="${be.ARROW_UP_RIGHT_ICON}">Learn More</w3m-button></div></w3m-modal-content>`}};$c.styles=[ue.globalCss,__],$c=C_([we("w3m-help-view")],$c);const S_=_e`.w3m-injected-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:20px}w3m-spinner{margin-right:10px}w3m-wallet-image{border-radius:15px;width:25%;aspect-ratio:1/1;margin-bottom:20px}w3m-button{opacity:0}.w3m-injected-error w3m-button{opacity:1}`;var I_=Object.defineProperty,D_=Object.getOwnPropertyDescriptor,Pc=(t,e,r,n)=>{for(var i=n>1?void 0:n?D_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&I_(e,r,i),i};let Bi=class extends fe{constructor(){super(),this.connecting=!0,this.error=!1,this.connector=qe.client().getConnectorById("injected"),this.onConnect()}async onConnect(){const{ready:t}=this.connector;t&&(this.error=!1,this.connecting=!0,await ne.handleConnectorConnection("injected",()=>{this.error=!0,this.connecting=!1}))}render(){const t=ne.getWalletName(this.connector.name),e=ne.getWalletId(this.connector.id),r={"w3m-injected-wrapper":!0,"w3m-injected-error":this.error};return V`<w3m-modal-header title="${t}"></w3m-modal-header><w3m-modal-content><div class="${Mt(r)}"><w3m-wallet-image walletId="${e}" size="lg"></w3m-wallet-image><div class="w3m-connecting-title">${this.connecting?V`<w3m-spinner></w3m-spinner>`:null}<w3m-text variant="large-bold" color="${this.error?"error":"secondary"}">${this.error?"Connection declined":`Continue in ${t}...`}</w3m-text></div><w3m-button .onClick="${this.onConnect.bind(this)}" .disabled="${!this.error}" .iconRight="${be.RETRY_ICON}">Try Again</w3m-button></div></w3m-modal-content>`}};Bi.styles=[ue.globalCss,S_],Pc([Be()],Bi.prototype,"connecting",2),Pc([Be()],Bi.prototype,"error",2),Bi=Pc([we("w3m-injected-connector-view")],Bi);const O_=_e`.w3m-injected-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:16px}.w3m-install-title{display:flex;align-items:center;justify-content:center;flex-direction:column}.w3m-install-title w3m-text:last-child{margin-top:10px;max-width:240px}.w3m-install-actions{display:flex;margin-top:15px;align-items:center;flex-direction:column}@media(max-width:355px){.w3m-install-actions{flex-direction:column;align-items:center}}w3m-wallet-image{border-radius:15px;width:25%;aspect-ratio:1/1;margin-bottom:20px}w3m-button{opacity:0}.w3m-install-actions w3m-button{margin:5px;opacity:1}.w3m-info-text{text-align:center}`;var A_=Object.defineProperty,$_=Object.getOwnPropertyDescriptor,P_=(t,e,r,n)=>{for(var i=n>1?void 0:n?$_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&A_(e,r,i),i};let Tc=class extends fe{getRouterData(){var t;const e=(t=Te.state.data)==null?void 0:t.InstallConnector;if(!e)throw new Error("Missing router data");return e}onInstall(){const{url:t}=this.getRouterData();Ue.openHref(t,"_blank")}onMobile(){const{name:t}=this.getRouterData();Te.push("ConnectWallet"),Lt.openToast(`Scan the code with ${t}`,"success")}render(){const{name:t,id:e,isMobile:r}=this.getRouterData();return V`<w3m-modal-header title="${t}"></w3m-modal-header><w3m-modal-content><div class="w3m-injected-wrapper"><w3m-wallet-image walletId="${e}" size="lg"></w3m-wallet-image><div class="w3m-install-title"><w3m-text variant="large-bold">Install ${t}</w3m-text><w3m-text color="secondary" variant="medium-thin" class="w3m-info-text">To connect ${t}, install the browser extension.</w3m-text></div><div class="w3m-install-actions"><w3m-button .onClick="${this.onInstall.bind(this)}" .iconLeft="${be.ARROW_DOWN_ICON}">Install Extension</w3m-button>${r?V`<w3m-button .onClick="${this.onMobile.bind(this)}" .iconLeft="${be.MOBILE_ICON}">${t} Mobile</w3m-button>`:null}</div></div></w3m-modal-content>`}};Tc.styles=[ue.globalCss,O_],Tc=P_([we("w3m-install-connector-view")],Tc);var T_=Object.defineProperty,N_=Object.getOwnPropertyDescriptor,R_=(t,e,r,n)=>{for(var i=n>1?void 0:n?N_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&T_(e,r,i),i};let Nc=class extends fe{render(){return V`<w3m-modal-header title="Scan the code" .onAction="${ne.handleUriCopy}" .actionIcon="${be.COPY_ICON}"></w3m-modal-header><w3m-modal-content><w3m-walletconnect-qr></w3m-walletconnect-qr></w3m-modal-content>`}};Nc.styles=[ue.globalCss],Nc=R_([we("w3m-qrcode-view")],Nc);const L_=_e`.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);margin:-5px -10px;justify-content:space-between}`;var M_=Object.defineProperty,U_=Object.getOwnPropertyDescriptor,F_=(t,e,r,n)=>{for(var i=n>1?void 0:n?U_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&M_(e,r,i),i};let Rc=class extends fe{async onSelectChain(t){const{isConnected:e,selectedChain:r,walletConnectVersion:n}=Q.state;e?r?.id===t.id?Te.replace("Account"):n===2?(await qe.client().switchNetwork({chainId:t.id}),Te.replace("Account")):Te.push("SwitchNetwork",{SwitchNetwork:t}):(Te.push("ConnectWallet"),Q.setSelectedChain(t))}render(){const{chains:t}=Q.state;return V`<w3m-modal-header title="Select network"></w3m-modal-header><w3m-modal-content><div class="w3m-grid">${t?.map(e=>V`<w3m-network-button name="${e.name}" chainId="${e.id}" .onClick="${async()=>this.onSelectChain(e)}">${e.name}</w3m-network-button>`)}</div></w3m-modal-content>`}};Rc.styles=[ue.globalCss,L_],Rc=F_([we("w3m-select-network-view")],Rc);const B_=_e`.w3m-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:16px}w3m-spinner{margin-right:10px}w3m-network-image{width:96px;height:96px;margin-bottom:20px}w3m-button{opacity:0}.w3m-error w3m-button{opacity:1}`;var j_=Object.defineProperty,k_=Object.getOwnPropertyDescriptor,$d=(t,e,r,n)=>{for(var i=n>1?void 0:n?k_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&j_(e,r,i),i};let Qs=class extends fe{constructor(){super(),this.error=!1,this.onSwitchNetwork()}getRouterData(){var t;const e=(t=Te.state.data)==null?void 0:t.SwitchNetwork;if(!e)throw new Error("Missing router data");return e}async onSwitchNetwork(){try{this.error=!1;const t=this.getRouterData();await qe.client().switchNetwork({chainId:t.id}),Q.setSelectedChain(t),Te.replace("Account")}catch{this.error=!0}}render(){const{id:t,name:e}=this.getRouterData(),r={"w3m-wrapper":!0,"w3m-error":this.error};return V`<w3m-modal-header title="${`Connect to ${e}`}"></w3m-modal-header><w3m-modal-content><div class="${Mt(r)}"><w3m-network-image chainId="${t}"></w3m-network-image><div class="w3m-connecting-title">${this.error?null:V`<w3m-spinner></w3m-spinner>`}<w3m-text variant="large-bold" color="${this.error?"error":"secondary"}">${this.error?"Connection declined":"Approve in your wallet"}</w3m-text></div><w3m-button .onClick="${this.onSwitchNetwork.bind(this)}" .disabled="${!this.error}" .iconRight="${be.RETRY_ICON}">Try Again</w3m-button></div></w3m-modal-content>`}};Qs.styles=[ue.globalCss,B_],$d([Be()],Qs.prototype,"error",2),Qs=$d([we("w3m-switch-network-view")],Qs);const H_=_e`w3m-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}w3m-modal-content::after,w3m-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}w3m-modal-content::before{box-shadow:0 -1px 0 0 var(--w3m-color-bg-1);background:linear-gradient(var(--w3m-color-bg-1),rgba(255,255,255,0))}w3m-modal-content::after{box-shadow:0 1px 0 0 var(--w3m-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--w3m-color-bg-1));top:calc(100% - 20px)}w3m-modal-content::-webkit-scrollbar{display:none}.w3m-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.w3m-empty,.w3m-loading{display:flex}.w3m-loading .w3m-placeholder-block{height:100%}.w3m-end-reached .w3m-placeholder-block{height:0;opacity:0}.w3m-empty .w3m-placeholder-block{opacity:1;height:100%}w3m-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var z_=Object.defineProperty,W_=Object.getOwnPropertyDescriptor,ji=(t,e,r,n)=>{for(var i=n>1?void 0:n?W_(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&z_(e,r,i),i};const Lc=40;let en=class extends fe{constructor(){super(...arguments),this.loading=!at.state.wallets.listings.length,this.firstFetch=!at.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=ne.debounce(t=>{t.length>=3?(this.firstFetch=!0,this.endReached=!1,this.search=t,at.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),at.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var t;(t=this.intersectionObserver)==null||t.disconnect()}get placeholderEl(){return ne.getShadowRootElement(this,".w3m-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([t])=>{t.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:t,search:e}=at.state,{listings:r,total:n}=this.search?e:t;return n<=Lc||r.length>=n}async fetchWallets(){var t;const{wallets:e,search:r}=at.state,n=ne.getExtensionWallets(),{listings:i,total:s,page:o}=this.search?r:e;if(!this.endReached&&(this.firstFetch||s>Lc&&i.length<s))try{this.loading=!0;const a=(t=Q.state.standaloneChains)==null?void 0:t.join(","),{listings:c}=await at.getPaginatedWallets({page:this.firstFetch?1:o+1,entries:Lc,device:Ue.isMobile()?"mobile":"desktop",search:this.search,version:Q.state.walletConnectVersion,chains:a}),l=c.map(({image_url:m})=>m.lg),p=n.map(({id:m})=>ne.getWalletIcon(m));await Promise.all([...l.map(async m=>ne.preloadImage(m)),...p.map(async m=>ne.preloadImage(m)),Ue.wait(300)]),this.endReached=this.isLastPage()}catch(a){console.error(a),Lt.openToast(ne.getErrorMessage(a),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnectCustom({name:t,id:e,links:r}){Ue.isMobile()?ne.handleMobileLinking({links:r,name:t,id:e}):Te.push("DesktopConnector",{DesktopConnector:{name:t,walletId:e,universal:r.universal,native:r.native}})}onConnectListing(t){if(Ue.isMobile()){const{id:e,image_url:r}=t,{native:n,universal:i}=t.mobile;ne.handleMobileLinking({links:{native:n,universal:i},name:t.name,id:e,image:r.lg})}else Te.push("DesktopConnector",{DesktopConnector:{name:t.name,icon:t.image_url.lg,universal:t.desktop.universal||t.homepage,native:t.desktop.native}})}onConnectExtension(t){ne.getWalletId("")===t.id?Te.push("InjectedConnector"):Te.push("InstallConnector",{InstallConnector:t})}onSearchChange(t){const{value:e}=t.target;this.searchDebounce(e)}coinbaseConnectorTemplate(){try{const t=qe.client().getConnectorById(ar.coinbaseWallet);return V`<w3m-wallet-button name="${t.name}" walletId="${t.id}" .onClick="${async()=>ne.handleConnectorConnection(ar.coinbaseWallet)}"></w3m-wallet-button>`}catch{return null}}render(){const{wallets:t,search:e}=at.state,{isStandalone:r}=Q.state;let{listings:n}=this.search?e:t;n=kt.allowedExplorerListings(n);const i=this.loading&&!n.length,s=this.search.length>=3,o=!i&&(!s||ne.caseSafeIncludes(ar.coinbaseWallet,this.search));let a=!r&&!Ue.isMobile()?ne.getExtensionWallets():[],c=ne.getCustomWallets();s&&(a=a.filter(({name:b})=>ne.caseSafeIncludes(b,this.search)),c=c.filter(({name:b})=>ne.caseSafeIncludes(b,this.search)));const l=!this.loading&&!n.length&&!a.length&&!o,p=Math.max(a.length,n.length),m={"w3m-loading":i,"w3m-end-reached":this.endReached||!this.loading,"w3m-empty":l};return V`<w3m-modal-header><w3m-search-input .onChange="${this.onSearchChange.bind(this)}"></w3m-search-input></w3m-modal-header><w3m-modal-content class="${Mt(m)}"><div class="w3m-grid">${i?null:[...Array(p)].map((b,w)=>V`${c[w]?V`<w3m-wallet-button name="${c[w].name}" walletId="${c[w].id}" .onClick="${()=>this.onConnectCustom(c[w])}"></w3m-wallet-button>`:null} ${a[w]?V`<w3m-wallet-button name="${a[w].name}" walletId="${a[w].id}" .onClick="${()=>this.onConnectExtension(a[w])}"></w3m-wallet-button>`:null} ${n[w]?V`<w3m-wallet-button src="${n[w].image_url.lg}" name="${n[w].name}" walletId="${n[w].id}" .onClick="${()=>this.onConnectListing(n[w])}"></w3m-wallet-button>`:null}`)} ${o?this.coinbaseConnectorTemplate():null}</div><div class="w3m-placeholder-block">${l?V`<w3m-text variant="large-bold" color="secondary">No results found</w3m-text>`:null} ${!l&&this.loading?V`<w3m-spinner></w3m-spinner>`:null}</div></w3m-modal-content>`}};en.styles=[ue.globalCss,H_],ji([Be()],en.prototype,"loading",2),ji([Be()],en.prototype,"firstFetch",2),ji([Be()],en.prototype,"search",2),ji([Be()],en.prototype,"endReached",2),en=ji([we("w3m-wallet-explorer-view")],en);var q_=Object.freeze({__proto__:null,get W3mAccountButton(){return Ni},get W3mConnectButton(){return Yr},get W3mCoreButton(){return Jr},get W3mModal(){return Xr},get W3mNetworkSwitch(){return Qr}});Yt.EthereumProvider=xy,Yt.OPTIONAL_EVENTS=my,Yt.OPTIONAL_METHODS=gy,Yt.REQUIRED_EVENTS=ys,Yt.REQUIRED_METHODS=bs,Yt.default=vs,Object.defineProperty(Yt,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
