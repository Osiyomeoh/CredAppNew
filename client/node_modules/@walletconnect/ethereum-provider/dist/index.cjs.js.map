{"version":3,"file":"index.cjs.js","sources":["../src/constants/values.ts","../src/constants/rpc.ts","../src/EthereumProvider.ts","../src/index.ts"],"sourcesContent":["export const PROTOCOL = \"wc\";\nexport const WC_VERSION = 2;\nexport const CONTEXT = \"ethereum_provider\";\nexport const STORAGE_KEY = `${PROTOCOL}@${WC_VERSION}:${CONTEXT}:`;\nexport const RPC_URL = \"https://rpc.walletconnect.com/v1/\";\n","export const REQUIRED_METHODS = [\"eth_sendTransaction\", \"personal_sign\"];\nexport const OPTIONAL_METHODS = [\n  \"eth_accounts\",\n  \"eth_requestAccounts\",\n  \"eth_call\",\n  \"eth_getBalance\",\n  \"eth_sendRawTransaction\",\n  \"eth_sign\",\n  \"eth_signTransaction\",\n  \"eth_signTypedData\",\n  \"eth_signTypedData_v3\",\n  \"eth_signTypedData_v4\",\n  \"wallet_switchEthereumChain\",\n  \"wallet_addEthereumChain\",\n  \"wallet_getPermissions\",\n  \"wallet_requestPermissions\",\n  \"wallet_registerOnboarding\",\n  \"wallet_watchAsset\",\n  \"wallet_scanQRCode\",\n];\nexport const REQUIRED_EVENTS = [\"chainChanged\", \"accountsChanged\"];\nexport const OPTIONAL_EVENTS = [\"message\", \"disconnect\", \"connect\"];\n","import { EventEmitter } from \"events\";\nimport { getAccountsFromNamespaces, getSdkError, isValidArray } from \"@walletconnect/utils\";\nimport {\n  IEthereumProvider as IProvider,\n  IEthereumProviderEvents,\n  ProviderAccounts,\n  RequestArguments,\n} from \"./types\";\nimport { Metadata, Namespace, UniversalProvider } from \"@walletconnect/universal-provider\";\nimport type { Web3Modal } from \"@web3modal/standalone\";\nimport { SessionTypes, SignClientTypes } from \"@walletconnect/types\";\nimport { STORAGE_KEY, REQUIRED_METHODS, REQUIRED_EVENTS, RPC_URL } from \"./constants\";\n\nexport type RpcMethod =\n  | \"personal_sign\"\n  | \"eth_sendTransaction\"\n  | \"eth_accounts\"\n  | \"eth_requestAccounts\"\n  | \"eth_call\"\n  | \"eth_getBalance\"\n  | \"eth_sendRawTransaction\"\n  | \"eth_sign\"\n  | \"eth_signTransaction\"\n  | \"eth_signTypedData\"\n  | \"eth_signTypedData_v3\"\n  | \"eth_signTypedData_v4\"\n  | \"wallet_switchEthereumChain\"\n  | \"wallet_addEthereumChain\"\n  | \"wallet_getPermissions\"\n  | \"wallet_requestPermissions\"\n  | \"wallet_registerOnboarding\"\n  | \"wallet_watchAsset\"\n  | \"wallet_scanQRCode\";\n\nexport type RpcEvent = \"accountsChanged\" | \"chainChanged\" | \"message\" | \"disconnect\" | \"connect\";\n\nexport interface EthereumRpcMap {\n  [chainId: string]: string;\n}\n\nexport interface SessionEvent {\n  event: { name: string; data: any };\n  chainId: string;\n}\n\nexport interface EthereumRpcConfig {\n  chains: string[];\n  optionalChains?: string[];\n  methods: string[];\n  optionalMethods?: string[];\n  /**\n   * @description Events that the wallet MUST support or the connection will be rejected\n   */\n  events: string[];\n  optionalEvents?: string[];\n  rpcMap: EthereumRpcMap;\n  projectId: string;\n  metadata?: Metadata;\n  showQrModal: boolean;\n}\nexport interface ConnectOps {\n  chains?: number[];\n  optionalChains?: number[];\n  rpcMap?: EthereumRpcMap;\n  pairingTopic?: string;\n}\n\nexport interface IEthereumProvider extends IProvider {\n  connect(opts?: ConnectOps | undefined): Promise<void>;\n}\n\nexport function getRpcUrl(chainId: string, rpc: EthereumRpcConfig): string | undefined {\n  let rpcUrl: string | undefined;\n  if (rpc.rpcMap) {\n    rpcUrl = rpc.rpcMap[getEthereumChainId([chainId])];\n  }\n  return rpcUrl;\n}\n\nexport function getEthereumChainId(chains: string[]): number {\n  return Number(chains[0].split(\":\")[1]);\n}\n\nexport function toHexChainId(chainId: number): string {\n  return `0x${chainId.toString(16)}`;\n}\n\nexport type NamespacesParams = {\n  chains: EthereumRpcConfig[\"chains\"];\n  optionalChains?: EthereumRpcConfig[\"optionalChains\"];\n  methods?: EthereumRpcConfig[\"methods\"];\n  optionalMethods?: EthereumRpcConfig[\"methods\"];\n  events?: EthereumRpcConfig[\"events\"];\n  rpcMap: EthereumRpcConfig[\"rpcMap\"];\n  optionalEvents?: EthereumRpcConfig[\"events\"];\n};\n\nexport function buildNamespaces(params: NamespacesParams): {\n  required: Namespace;\n  optional?: Namespace;\n} {\n  const { chains, optionalChains, methods, optionalMethods, events, optionalEvents, rpcMap } =\n    params;\n  if (!isValidArray(chains)) {\n    throw new Error(\"Invalid chains\");\n  }\n\n  const requiredChains = chains;\n  const requriedMethods = methods || REQUIRED_METHODS;\n  const requiredEvents = events || REQUIRED_EVENTS;\n  const requiredRpcMap = {\n    [getEthereumChainId(requiredChains)]: rpcMap[getEthereumChainId(requiredChains)],\n  };\n\n  const required: Namespace = {\n    chains: requiredChains,\n    methods: requriedMethods,\n    events: requiredEvents,\n    rpcMap: requiredRpcMap,\n  };\n\n  // make a list of events and methods that require additional permissions\n  // so we know if we should to include the required chains in the optional namespace\n  const eventsRequiringPermissions = events?.filter((event) => !REQUIRED_EVENTS.includes(event));\n  const methodsRequiringPermissions = methods?.filter((event) => !REQUIRED_METHODS.includes(event));\n\n  if (\n    !optionalChains &&\n    !optionalEvents &&\n    !optionalMethods &&\n    !eventsRequiringPermissions?.length &&\n    !methodsRequiringPermissions?.length\n  ) {\n    return { required };\n  }\n\n  /*\n   * decides whether or not to include the required chains in the optional namespace\n   * use case: if there is a single chain as required but additonal methods/events as optional\n   */\n  const shouldIncludeRequiredChains =\n    (eventsRequiringPermissions?.length && methodsRequiringPermissions?.length) || !optionalChains;\n\n  const optional: Namespace = {\n    chains: [\n      ...new Set(\n        shouldIncludeRequiredChains ? requiredChains.concat(optionalChains || []) : optionalChains,\n      ),\n    ],\n    methods: [...new Set(requriedMethods.concat(optionalMethods || []))],\n    events: [...new Set(requiredEvents.concat(optionalEvents || []))],\n    rpcMap,\n  };\n\n  return { required, optional };\n}\nexport interface EthereumProviderOptions {\n  projectId: string;\n  /**\n   * @note Chains that your app intents to use and the peer MUST support. If the peer does not support these chains, the connection will be rejected.\n   * @default [1]\n   * @example [1, 3, 4, 5, 42]\n   */\n  chains: number[];\n  /**\n   * @note Optional chains that your app MAY attempt to use and the peer MAY support. If the peer does not support these chains, the connection will still be established.\n   * @default [1]\n   * @example [1, 3, 4, 5, 42]\n   */\n  optionalChains?: number[];\n  /**\n   * @note Methods that your app intents to use and the peer MUST support. If the peer does not support these methods, the connection will be rejected.\n   * @default [\"eth_sendTransaction\", \"personal_sign\"]\n   */\n  methods?: string[];\n  /**\n   * @note Methods that your app MAY attempt to use and the peer MAY support. If the peer does not support these methods, the connection will still be established.\n   */\n  optionalMethods?: string[];\n  events?: string[];\n  optionalEvents?: string[];\n  rpcMap?: EthereumRpcMap;\n  metadata?: Metadata;\n  showQrModal?: boolean;\n}\n\nexport class EthereumProvider implements IEthereumProvider {\n  public events = new EventEmitter();\n  public namespace = \"eip155\";\n  public accounts: string[] = [];\n  public signer: InstanceType<typeof UniversalProvider>;\n  public chainId = 1;\n  public modal?: Web3Modal;\n\n  private rpc: EthereumRpcConfig;\n  private readonly STORAGE_KEY = STORAGE_KEY;\n\n  constructor() {\n    // assigned during initialize\n    this.signer = {} as InstanceType<typeof UniversalProvider>;\n    this.rpc = {} as EthereumRpcConfig;\n  }\n\n  static async init(opts: EthereumProviderOptions): Promise<EthereumProvider> {\n    const provider = new EthereumProvider();\n    await provider.initialize(opts);\n    return provider;\n  }\n\n  public async request<T = unknown>(args: RequestArguments): Promise<T> {\n    return await this.signer.request(args, this.formatChainId(this.chainId));\n  }\n\n  public sendAsync(\n    args: RequestArguments,\n    callback: (error: Error | null, response: any) => void,\n  ): void {\n    this.signer.sendAsync(args, callback, this.formatChainId(this.chainId));\n  }\n\n  get connected(): boolean {\n    if (!this.signer.client) return false;\n    return this.signer.client.core.relayer.connected;\n  }\n\n  get connecting(): boolean {\n    if (!this.signer.client) return false;\n    return this.signer.client.core.relayer.connecting;\n  }\n\n  public async enable(): Promise<ProviderAccounts> {\n    if (!this.session) await this.connect();\n    const accounts = await this.request({ method: \"eth_requestAccounts\" });\n    return accounts as ProviderAccounts;\n  }\n\n  public async connect(opts?: ConnectOps): Promise<void> {\n    if (!this.signer.client) {\n      throw new Error(\"Provider not initialized. Call init() first\");\n    }\n\n    this.loadConnectOpts(opts);\n    const { required, optional } = buildNamespaces(this.rpc);\n    try {\n      const session = await new Promise<SessionTypes.Struct | undefined>(\n        async (resolve, reject) => {\n          if (this.rpc.showQrModal) {\n            this.modal?.subscribeModal((state) => {\n              // the modal was closed so reject the promise\n              if (!state.open && !this.signer.session) {\n                this.signer.abortPairingAttempt();\n                reject(new Error(\"Connection request reset. Please try again.\"));\n              }\n            });\n          }\n          await this.signer\n            .connect({\n              namespaces: {\n                [this.namespace]: required,\n              },\n              ...(optional && {\n                optionalNamespaces: {\n                  [this.namespace]: optional,\n                },\n              }),\n              pairingTopic: opts?.pairingTopic,\n            })\n            .then((session) => {\n              resolve(session);\n            })\n            .catch((error: Error) => {\n              reject(new Error(error.message));\n            });\n        },\n      );\n\n      if (!session) return;\n      this.setChainIds(this.rpc.chains);\n      const accounts = getAccountsFromNamespaces(session.namespaces, [this.namespace]);\n      this.setAccounts(accounts);\n      this.events.emit(\"connect\", { chainId: toHexChainId(this.chainId) });\n    } catch (error) {\n      this.signer.logger.error(error);\n      throw error;\n    } finally {\n      if (this.modal) this.modal.closeModal();\n    }\n  }\n\n  public async disconnect(): Promise<void> {\n    if (this.session) {\n      await this.signer.disconnect();\n    }\n    this.reset();\n  }\n\n  public on: IEthereumProviderEvents[\"on\"] = (event, listener) => {\n    this.events.on(event, listener);\n    return this;\n  };\n\n  public once: IEthereumProviderEvents[\"once\"] = (event, listener) => {\n    this.events.once(event, listener);\n    return this;\n  };\n\n  public removeListener: IEthereumProviderEvents[\"removeListener\"] = (event, listener) => {\n    this.events.removeListener(event, listener);\n    return this;\n  };\n\n  public off: IEthereumProviderEvents[\"off\"] = (event, listener) => {\n    this.events.off(event, listener);\n    return this;\n  };\n\n  get isWalletConnect() {\n    return true;\n  }\n\n  get session() {\n    return this.signer.session;\n  }\n  // ---------- Private ----------------------------------------------- //\n\n  private registerEventListeners() {\n    this.signer.on(\"session_event\", (payload: SignClientTypes.EventArguments[\"session_event\"]) => {\n      const { params } = payload;\n      const { event } = params;\n      if (event.name === \"accountsChanged\") {\n        this.accounts = this.parseAccounts(event.data);\n        this.events.emit(\"accountsChanged\", this.accounts);\n      } else if (event.name === \"chainChanged\") {\n        this.setChainId(this.formatChainId(event.data));\n      } else {\n        this.events.emit(event.name as any, event.data);\n      }\n      this.events.emit(\"session_event\", payload);\n    });\n\n    this.signer.on(\"chainChanged\", (chainId: string) => {\n      const chain = parseInt(chainId);\n      this.chainId = chain;\n      this.events.emit(\"chainChanged\", toHexChainId(this.chainId));\n      this.persist();\n    });\n\n    this.signer.on(\n      \"session_update\",\n      (payload: SignClientTypes.EventArguments[\"session_update\"]) => {\n        this.events.emit(\"session_update\", payload);\n      },\n    );\n\n    this.signer.on(\n      \"session_delete\",\n      (payload: SignClientTypes.EventArguments[\"session_delete\"]) => {\n        this.reset();\n        this.events.emit(\"session_delete\", payload);\n        this.events.emit(\"disconnect\", {\n          ...getSdkError(\"USER_DISCONNECTED\"),\n          data: payload.topic,\n          name: \"USER_DISCONNECTED\",\n        });\n      },\n    );\n\n    this.signer.on(\"display_uri\", (uri: string) => {\n      if (this.rpc.showQrModal) {\n        // to refresh the QR we have to close the modal and open it again\n        // until proper API is provided by web3modal\n        this.modal?.closeModal();\n        this.modal?.openModal({ uri });\n      }\n      this.events.emit(\"display_uri\", uri);\n    });\n  }\n\n  private setHttpProvider(chainId: number): void {\n    this.request({\n      method: \"wallet_switchEthereumChain\",\n      params: [{ chainId: chainId.toString(16) }],\n    });\n  }\n\n  private isCompatibleChainId(chainId: string): boolean {\n    return typeof chainId === \"string\" ? chainId.startsWith(`${this.namespace}:`) : false;\n  }\n\n  private formatChainId(chainId: number): string {\n    return `${this.namespace}:${chainId}`;\n  }\n\n  private parseChainId(chainId: string): number {\n    return Number(chainId.split(\":\")[1]);\n  }\n\n  private setChainIds(chains: string[]) {\n    const compatible = chains.filter((x) => this.isCompatibleChainId(x));\n    const chainIds = compatible.map((c) => this.parseChainId(c));\n    if (chainIds.length) {\n      this.chainId = chainIds[0];\n      this.events.emit(\"chainChanged\", toHexChainId(this.chainId));\n      this.persist();\n    }\n  }\n\n  private setChainId(chain: string) {\n    if (this.isCompatibleChainId(chain)) {\n      const chainId = this.parseChainId(chain);\n      this.chainId = chainId;\n      this.setHttpProvider(chainId);\n    }\n  }\n\n  private parseAccountId(account: string): { chainId: string; address: string } {\n    const [namespace, reference, address] = account.split(\":\");\n    const chainId = `${namespace}:${reference}`;\n    return { chainId, address };\n  }\n\n  private setAccounts(accounts: string[]) {\n    this.accounts = accounts\n      .filter((x) => this.parseChainId(this.parseAccountId(x).chainId) === this.chainId)\n      .map((x) => this.parseAccountId(x).address);\n    this.events.emit(\"accountsChanged\", this.accounts);\n  }\n\n  private getRpcConfig(opts: EthereumProviderOptions): EthereumRpcConfig {\n    return {\n      chains: opts.chains?.map((chain) => this.formatChainId(chain)) || [`${this.namespace}:1`],\n      optionalChains: opts.optionalChains\n        ? opts.optionalChains.map((chain) => this.formatChainId(chain))\n        : undefined,\n      methods: opts?.methods || REQUIRED_METHODS,\n      events: opts?.events || REQUIRED_EVENTS,\n      optionalMethods: opts?.optionalMethods || [],\n      optionalEvents: opts?.optionalEvents || [],\n      rpcMap:\n        opts?.rpcMap ||\n        this.buildRpcMap(opts.chains.concat(opts.optionalChains || []), opts.projectId),\n      showQrModal: opts?.showQrModal ?? true,\n      projectId: opts.projectId,\n      metadata: opts.metadata,\n    };\n  }\n\n  private buildRpcMap(chains: number[], projectId: string): EthereumRpcMap {\n    const map: EthereumRpcMap = {};\n    chains.forEach((chain) => {\n      map[chain] = this.getRpcUrl(chain, projectId);\n    });\n    return map;\n  }\n\n  private async initialize(opts: EthereumProviderOptions) {\n    this.rpc = this.getRpcConfig(opts);\n    this.chainId = getEthereumChainId(this.rpc.chains);\n    this.signer = await UniversalProvider.init({\n      projectId: this.rpc.projectId,\n      metadata: this.rpc.metadata,\n    });\n    this.registerEventListeners();\n    await this.loadPersistedSession();\n    if (this.rpc.showQrModal) {\n      const { Web3Modal } = await import(\"@web3modal/standalone\");\n      this.modal = new Web3Modal({\n        walletConnectVersion: 2,\n        projectId: this.rpc.projectId,\n        standaloneChains: this.rpc.chains,\n      });\n    }\n  }\n\n  private loadConnectOpts(opts?: ConnectOps) {\n    if (!opts) return;\n    const { chains, optionalChains, rpcMap } = opts;\n    if (chains && isValidArray(chains)) {\n      this.rpc.chains = chains.map((chain) => this.formatChainId(chain));\n      chains.forEach((chain) => {\n        this.rpc.rpcMap[chain] = rpcMap?.[chain] || this.getRpcUrl(chain);\n      });\n    }\n    if (optionalChains && isValidArray(optionalChains)) {\n      this.rpc.optionalChains = [];\n      this.rpc.optionalChains = optionalChains?.map((chain) => this.formatChainId(chain));\n      optionalChains.forEach((chain) => {\n        this.rpc.rpcMap[chain] = rpcMap?.[chain] || this.getRpcUrl(chain);\n      });\n    }\n  }\n\n  private getRpcUrl(chainId: number, projectId?: string): string {\n    const providedRpc = this.rpc.rpcMap?.[chainId];\n    return (\n      providedRpc ||\n      `${RPC_URL}?chainId=eip155:${chainId}&projectId=${projectId || this.rpc.projectId}`\n    );\n  }\n\n  private async loadPersistedSession() {\n    if (!this.session) return;\n    const chainId = await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);\n    this.setChainIds(\n      chainId ? [this.formatChainId(chainId)] : this.session.namespaces[this.namespace].accounts,\n    );\n    this.setAccounts(this.session.namespaces[this.namespace].accounts);\n  }\n\n  private reset() {\n    this.chainId = 1;\n    this.accounts = [];\n  }\n\n  private persist() {\n    if (!this.session) return;\n    this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`, this.chainId);\n  }\n\n  private parseAccounts(payload: string | string[]): string[] {\n    if (typeof payload === \"string\" || payload instanceof String) {\n      return [this.parseAccount(payload)];\n    }\n    return payload.map((account: string) => this.parseAccount(account));\n  }\n\n  private parseAccount = (payload: any): string => {\n    return this.isCompatibleChainId(payload) ? this.parseAccountId(payload).address : payload;\n  };\n}\n\nexport default EthereumProvider;\n","import { EthereumProvider as Provider } from \"./EthereumProvider\";\nexport const EthereumProvider = Provider;\nexport type { RpcEvent, RpcMethod } from \"./EthereumProvider\";\nexport * from \"./constants/rpc\";\nexport default Provider;\n"],"names":["chains","chainId","params","optionalChains","methods","optionalMethods","events","optionalEvents","rpcMap","isValidArray","requiredChains","requriedMethods","REQUIRED_METHODS","requiredEvents","REQUIRED_EVENTS","requiredRpcMap","required","eventsRequiringPermissions","event","methodsRequiringPermissions","shouldIncludeRequiredChains","optional","EthereumProvider","EventEmitter","STORAGE_KEY","listener","payload","opts","provider","args","callback","session","resolve","reject","_a","state","__spreadProps","__spreadValues","error","accounts","getAccountsFromNamespaces","chain","getSdkError","uri","_b","chainIds","x","c","account","namespace","reference","address","projectId","map","UniversalProvider","Web3Modal","RPC_URL","Provider"],"mappings":"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"}